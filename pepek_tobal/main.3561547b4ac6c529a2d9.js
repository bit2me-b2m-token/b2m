(self.webpackChunkb2m_fe_suite_ngx_account=self.webpackChunkb2m_fe_suite_ngx_account||[]).push([["main"],{98255:X=>{function J(f){return Promise.resolve().then(()=>{var T=new Error("Cannot find module '"+f+"'");throw T.code="MODULE_NOT_FOUND",T})}J.keys=()=>[],J.resolve=J,J.id=98255,X.exports=J},32791:(X,J,f)=>{"use strict";f.r(J),f.d(J,{LoginModule:()=>vt});var T=f(54364),t=f(72923),_=f(30026),g=f(2686),m=f(16320),E=f(1707),U=f(44149),c=f(12702),H=f(33927),e=f(53466),n=f(2316),q=f(76249),N=f(17347),y=f(70325);const M=["counter"];function G(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.UNAUTHORIZED_DEVICE")," "))}function w(u,v){if(1&u&&(n.TgZ(0,"div",10),n.YNc(1,G,3,3,"div",11),n.qZA()),2&u){const h=n.oxw(2);n.xp6(1),n.Q6J("ngIf",null==h.authorizeDeviceForm||null==h.authorizeDeviceForm.controls||null==h.authorizeDeviceForm.controls.authorization||null==h.authorizeDeviceForm.controls.authorization.errors?null:h.authorizeDeviceForm.controls.authorization.errors.unauthorized)}}function $(u,v){if(1&u){const h=n.EpF();n.TgZ(0,"div",3),n.TgZ(1,"div"),n.TgZ(2,"p"),n._uU(3),n.ALo(4,"translate"),n.qZA(),n._UZ(5,"br"),n.TgZ(6,"p"),n._uU(7),n.ALo(8,"translate"),n.TgZ(9,"b"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"form",4,5),n.NdJ("ngSubmit",function(){return n.CHM(h),n.oxw().submitAuthorizedDeviceCheckForm()}),n.TgZ(14,"div",3),n.TgZ(15,"button",6),n._uU(16),n.ALo(17,"translate"),n.qZA(),n.qZA(),n.qZA(),n.YNc(18,w,2,1,"div",7),n.TgZ(19,"label",8),n.TgZ(20,"nz-countdown",9),n.NdJ("nzCountdownFinish",function(){return n.CHM(h),n.oxw().onFinished()}),n.qZA(),n.qZA(),n.qZA()}if(2&u){const h=n.oxw();n.xp6(3),n.Oqu(n.lcZ(4,8,"CONFIRM_DEVICE.CONFIRM_DIALOG.CONTENT")),n.xp6(4),n.hij(" ",n.lcZ(8,10,"CONFIRM_DEVICE.CONFIRM_DIALOG.INSTRUCTION1")," "),n.xp6(3),n.Oqu(n.lcZ(11,12,"CONFIRM_DEVICE.CONFIRM_DIALOG.INSTRUCTION2")),n.xp6(2),n.Q6J("formGroup",h.authorizeDeviceForm),n.xp6(4),n.hij(" ",n.lcZ(17,14,"CONFIRM_DEVICE.CONFIRM_DIALOG.BUTTON")," "),n.xp6(2),n.Q6J("ngIf",null==h.authorizeDeviceForm||null==h.authorizeDeviceForm.controls||null==h.authorizeDeviceForm.controls.authorization?null:h.authorizeDeviceForm.controls.authorization.errors),n.xp6(2),n.Q6J("nzValue",h.remainingTime)("nzFormat","HH:mm:ss")}}let L=(()=>{class u{constructor(h,d,P,Y){this.formBuilder=h,this.authService=d,this.cookiesService=P,this.nzModalRef=Y,this.responseSfa={accessToken:{token:"",expirationTime:0},sfa:!0,sfaType:"gauth"},this.remainingTime=U.ou.local().plus({minutes:5})}ngOnInit(){this.responseSfa.accessToken.token||(this.responseSfa.accessToken.token=this.cookiesService.get(t.lth.COOKIES.ACCESS_TOKEN)),this.authorizeDeviceForm=this.formBuilder.group({authorization:[null]}),this.initCounter()}initCounter(){if(!this.remainingTime)return;const h=this.remainingTime,d=U.ou.local(),Y=U.Xp.fromDateTimes(d,h).toDuration("seconds"),B=Math.round(Y.seconds);this.timer$=(0,c.H)(B,1e3).pipe((0,H.U)(K=>K+1),(0,e.q)(B+1))}onFinished(){this.nzModalRef.close()}submitAuthorizedDeviceCheckForm(){this.authService.device({accessToken:this.responseSfa.accessToken.token}).subscribe(()=>{this.authService.navigateToCorrectUrl()},h=>{403===h.status?this.authorizeDeviceForm.controls.authorization.setErrors({unauthorized:!0}):this.nzModalRef.close()})}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(E.qu),n.Y36(t.e80),n.Y36(t.Fhc),n.Y36(q.Lf))},u.\u0275cmp=n.Xpm({type:u,selectors:[["ng-component"]],viewQuery:function(h,d){if(1&h&&n.Gf(M,7),2&h){let P;n.iGM(P=n.CRH())&&(d.counter=P.first)}},inputs:{responseSfa:"responseSfa"},decls:6,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["class","modal-body",4,"ngIf"],[1,"modal-body"],["name","authorized-device-form",1,"authorized-device-form",3,"formGroup","ngSubmit"],["authorizedDeviceFormTemplate","ngForm"],["type","submit",1,"b2m-btn","btn-solid","mb-0","d-block","mr-0","ml-auto"],["class","not-valid",4,"ngIf"],[1,"hidden"],[3,"nzValue","nzFormat","nzCountdownFinish"],[1,"not-valid"],[4,"ngIf"]],template:function(h,d){1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"h3",1),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.qZA(),n.YNc(4,$,21,16,"div",2),n.ALo(5,"async")),2&h&&(n.xp6(2),n.Oqu(n.lcZ(3,2,"CONFIRM_DEVICE.CONFIRM_DIALOG.TITLE")),n.xp6(2),n.Q6J("ngIf",n.lcZ(5,4,d.timer$)))},directives:[T.O5,E._Y,E.JL,E.sg,N.F6],pipes:[y.X$,T.Ov],styles:[".mr-0[_ngcontent-%COMP%]{margin-right:0}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.d-block[_ngcontent-%COMP%]{display:block!important}.hidden[_ngcontent-%COMP%]{display:none!important}.not-valid[_ngcontent-%COMP%]{color:#dc0006}"]}),u})();var Q=f(53882);const b=["recaptcha"];function R(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"FORM.VALIDATIONS.WRONG_CREDENTIALS")))}function V(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function z(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function de(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.Oqu(n.lcZ(2,1,"FORM.VALIDATIONS.WRONG_CREDENTIALS")))}function I(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}function Ae(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}const he=function(u){return{value:u}};function Ze(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,he,h.passwordLimits.minLength))," ")}}function Oe(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw(2);n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,he,h.passwordLimits.maxLength))," ")}}const Ee=function(u){return{submitted:u}},Ve=function(u,v){return{"b2msf-eye":u,"b2msf-eye-slash":v}};function x(u,v){if(1&u){const h=n.EpF();n.TgZ(0,"form",15,16),n.NdJ("ngSubmit",function(){return n.CHM(h),n.oxw().onSubmit()}),n.TgZ(2,"fieldset",17),n.TgZ(3,"label",18),n._uU(4),n.ALo(5,"translate"),n.qZA(),n.TgZ(6,"div",19),n.TgZ(7,"input",20),n.NdJ("blur",function(){return n.CHM(h),n.oxw().handleBlurEmailInput()}),n.ALo(8,"translate"),n.qZA(),n.qZA(),n.TgZ(9,"div",21),n.YNc(10,R,3,3,"div",22),n.YNc(11,V,3,3,"div",22),n.YNc(12,z,3,3,"div",22),n.qZA(),n.qZA(),n.TgZ(13,"fieldset",17),n.TgZ(14,"label",23),n._uU(15),n.ALo(16,"translate"),n.qZA(),n.TgZ(17,"div",19),n.TgZ(18,"input",24),n.NdJ("blur",function(){return n.CHM(h),n.oxw().handleBlurPasswordInput()}),n.ALo(19,"translate"),n.qZA(),n.TgZ(20,"div",25),n.TgZ(21,"button",26),n.NdJ("click",function(){return n.CHM(h),n.oxw().togglePasswordVisible()}),n._UZ(22,"i",27),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",21),n.YNc(24,de,3,3,"div",22),n.YNc(25,I,3,3,"div",22),n.YNc(26,Ae,3,3,"div",22),n.YNc(27,Ze,3,6,"div",22),n.YNc(28,Oe,3,6,"div",22),n.qZA(),n.qZA(),n.TgZ(29,"bngx-recaptcha",28,29),n.NdJ("success",function(){return n.CHM(h),n.oxw().submitLoginForm()})("error",function(P){return n.CHM(h),n.oxw().onRecaptchaError(P)}),n.qZA(),n.TgZ(31,"div",30),n.TgZ(32,"a",31),n._uU(33),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"a",32),n._uU(36),n.ALo(37,"translate"),n.qZA(),n.qZA(),n._UZ(38,"bngx-too-many-requests-warning",33),n.TgZ(39,"button",34),n._uU(40),n.ALo(41,"translate"),n.qZA(),n.qZA()}if(2&u){const h=n.MAs(1),d=n.oxw();n.Q6J("formGroup",d.loginForm)("ngClass",n.VKq(38,Ee,h.submitted)),n.xp6(4),n.Oqu(n.lcZ(5,24,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("placeholder",n.lcZ(8,26,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",d.wrongCredentials),n.xp6(1),n.Q6J("ngIf",null==d.loginForm.controls.email.errors?null:d.loginForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.loginForm.controls.email.errors?null:d.loginForm.controls.email.errors.required),n.xp6(3),n.Oqu(n.lcZ(16,28,"FORM.PASSWORD_INPUT.LABEL")),n.xp6(3),n.Q6J("type",d.passwordVisible?"text":"password")("placeholder",n.lcZ(19,30,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(4),n.Q6J("ngClass",n.WLB(40,Ve,!d.passwordVisible,d.passwordVisible)),n.xp6(2),n.Q6J("ngIf",d.wrongCredentials),n.xp6(1),n.Q6J("ngIf",null==d.loginForm||null==d.loginForm.controls||null==d.loginForm.controls.password||null==d.loginForm.controls.password.errors?null:d.loginForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.loginForm.controls.password.errors?null:d.loginForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.loginForm.controls.password.errors?null:d.loginForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==d.loginForm.controls.password.errors?null:d.loginForm.controls.password.errors.maxlength),n.xp6(1),n.Q6J("siteKey",d.siteKey),n.xp6(4),n.Oqu(n.lcZ(34,32,"LOGIN_PAGE.RECOVER_PASSWORD_BUTTON_TEXT")),n.xp6(3),n.Oqu(n.lcZ(37,34,"LOGIN_PAGE.RECOVER_PASSWORD_BUTTON_TEXT")),n.xp6(2),n.Q6J("remainingMinutes",d.remainingMinutes)("showTooManyRequestsWarning",d.showTooManyRequestsWarning),n.xp6(1),n.Q6J("disabled",d.submitting||d.showTooManyRequestsWarning)("bngxLoadingLayer",d.submitting),n.xp6(1),n.hij(" ",n.lcZ(41,36,"LOGIN_PAGE.LOGIN_BUTTON")," ")}}let ue=(()=>{class u{constructor(h,d,P,Y,B,K,se,ge,me,fe){this.authService=h,this.modalService=d,this.activatedRoute=P,this.notificationService=Y,this.translate=B,this.environmentService=K,this.urlService=se,this.formBuilder=ge,this.loggerService=me,this.changeDetectorRef=fe,this.loginData={email:"",password:""},this.recaptchaData="",this.passwordLimits={minLength:6,maxLength:64},this.passwordVisible=!1,this.wrongCredentials=!1,this.expiredSession=!1,this.loginRequired=!1,this.showTooManyRequestsWarning=!1}ngOnInit(){this.siteKey=this.environmentService.recaptchaSitekey,this.loginForm=this.formBuilder.group({email:["",[E.kI.required,E.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:["",[E.kI.required,E.kI.pattern(/^\S*$/),E.kI.minLength(this.passwordLimits.minLength),E.kI.maxLength(this.passwordLimits.maxLength)]],recaptcha:[]})}ngAfterViewInit(){setTimeout(()=>this.activatedRoute.queryParams.subscribe(h=>{const{reason:d,email:P}=h;if(P&&this.loginForm.get("email").setValue(P),d)switch(d){case"expired":{const Y="LOGIN_PAGE.EXPIRED_ALERT.TITLE",B="LOGIN_PAGE.EXPIRED_ALERT.DESCRIPTION";this.translate.get([Y,B]).subscribe(K=>{this.notificationService.info(K[B],K[Y],{nzDuration:0})});break}case"required":{const Y="LOGIN_PAGE.LOGIN_REQUIRED_ALERT.TITLE",B="LOGIN_PAGE.LOGIN_REQUIRED_ALERT.DESCRIPTION";this.translate.get([Y,B]).subscribe(K=>{this.notificationService.info(K[B],K[Y],{nzDuration:0})});break}}}),50)}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}setClickTimeout(h){let d=null;clearTimeout(d),d=setTimeout(()=>{d=null,h()},200)}onSubmit(){this.submitting=!0,this.recaptcha.ngControl.value?this.setClickTimeout(()=>this.submitLoginForm()):this.recaptcha.execute(),this.submitting=!1}submitLoginForm(){if(this.loginForm.invalid)return void(this.submitting=!1);let h;this.showTooManyRequestsWarning&&(this.submitting=!0);const d=this.loginForm.getRawValue();d.recaptcha&&(h={recaptcha:d.recaptcha}),this.authService.login(d,h).subscribe(P=>{this.submitting=!1,P.deviceAuthRequired?this.modalService.open(L,{nzComponentParams:{responseSfa:P},nzClosable:!1,nzMaskClosable:!1}):P.sfa?(this.submitting=!0,this.show2FAPopup(P)):this.authService.navigateToCorrectUrl()},P=>{var Y;if(this.submitting=!1,401===P.status&&(this.wrongCredentials=!0),409===P.status&&this.recaptcha&&this.recaptcha.resetCaptcha(),429===P.status&&(null===(Y=null==P?void 0:P.error)||void 0===Y?void 0:Y.message.includes("rateLimitRemaining"))){const B=JSON.parse(P.error.message);this.remainingMinutes=Math.floor(B.rateLimitRemaining/60),this.showTooManyRequestsWarning=!0}this.recaptcha&&this.recaptcha.resetCaptcha()})}show2FAPopup(h){try{const d=this.modalService.open(t.cDe,{nzComponentParams:{responseSfa:h},nzMaskClosable:!1});h.accessToken.expirationTime=null,d.afterClose.subscribe(P=>{if(P){if(P.deviceAuthRequired)this.modalService.open(L,{nzComponentParams:{responseSfa:h},nzClosable:!1,nzMaskClosable:!1});else{if(P instanceof Q.UA)throw new Error(P.message);this.redirecting=!0,this.authService.navigateToCorrectUrl()}this.submitting=!1}},()=>{this.submitting=!1},()=>{this.recaptcha&&this.recaptcha.resetCaptcha(),this.submitting=!1})}catch(d){this.loggerService.error(d),this.submitting=!1}}onRecaptchaError(h){this.submitting=!1,this.loggerService.error("error",h)}handleBlurEmailInput(){this.changeDetectorRef.detectChanges()}handleBlurPasswordInput(){this.changeDetectorRef.detectChanges()}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.e80),n.Y36(t.Z7U),n.Y36(m.gz),n.Y36(t.TFo),n.Y36(y.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(E.qu),n.Y36(t.mQy),n.Y36(n.sBO))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-login"]],viewQuery:function(h,d){if(1&h&&n.Gf(b,5),2&h){let P;n.iGM(P=n.CRH())&&(d.recaptcha=P.first)}},decls:39,vars:29,consts:[["context","fullscreen",1,"extern",3,"bngxLoadingLayer"],[1,"card-page-outer","px-2","px-sm-0","mt-1"],[1,"card-page-contents","login"],[1,"card-page-inner","pb-0","px-0","px-md-4"],[1,"container-fluid"],[1,"d-none","d-sm-block"],[1,"d-block","d-sm-none","pb-2"],["novalidate","","autocomplete","off",3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[1,"text-center","register-text","register-inside","d-none","d-sm-block","pb-sm-2","pb-lg-4"],["routerLink","new"],[1,"text-box","position-relative","text-center","mt-5","register-outside","d-block","d-sm-none"],[1,"text-center"],[1,"text-box","text-center","mt-5","welcome-text","d-none","d-sm-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],["novalidate","","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["loginFormTemplate","ngForm"],[1,"form-group"],["for","email"],[1,"input-group","border","rounded"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder","blur"],[1,"invalid-feedback"],[4,"ngIf"],["for","password-input"],["name","password","id","password-input","formControlName","password","autocomplete","off",3,"type","placeholder","blur"],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true",3,"ngClass"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","success","error"],["recaptcha",""],[1,"clearfix"],["routerLink","recover-password","title","",1,"float-right","d-none","d-sm-block","pb-4"],["routerLink","recover-password","title","",1,"float-left","pass-small","d-block","d-sm-none","pb-4"],[3,"remainingMinutes","showTooManyRequestsWarning"],["type","submit",1,"b2m-btn","btn-solid","w-100","mt-2","mt-md-5","mb-2","mb-md-0",3,"disabled","bngxLoadingLayer"]],template:function(h,d){1&h&&(n._UZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"h2"),n._uU(7),n.ALo(8,"translate"),n.qZA(),n.TgZ(9,"p"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.TgZ(12,"div",6),n.TgZ(13,"p"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.qZA(),n.YNc(16,x,42,43,"form",7),n.TgZ(17,"h4",8),n._uU(18),n.ALo(19,"translate"),n.TgZ(20,"a",9),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(23,"div",10),n.TgZ(24,"p",11),n._uU(25),n.ALo(26,"translate"),n.qZA(),n.TgZ(27,"p"),n.TgZ(28,"a",9),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(31,"div",12),n._UZ(32,"i",13),n.TgZ(33,"h4",14),n._uU(34),n.ALo(35,"translate"),n.qZA(),n.TgZ(36,"h4"),n._uU(37),n.ALo(38,"translate"),n.qZA(),n.qZA(),n.qZA()),2&h&&(n.Q6J("bngxLoadingLayer",d.redirecting),n.xp6(7),n.Oqu(n.lcZ(8,11,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX_1")),n.xp6(3),n.Oqu(n.lcZ(11,13,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX_2")),n.xp6(4),n.Oqu(n.lcZ(15,15,"LOGIN_PAGE.TEXT_HEADING_LOGIN_BOX")),n.xp6(2),n.Q6J("ngIf",d.loginForm),n.xp6(2),n.hij(" ",n.lcZ(19,17,"LOGIN_PAGE.HEADING_REGISTER_BUTTON")," "),n.xp6(3),n.Oqu(n.lcZ(22,19,"LOGIN_PAGE.REGISTER_BUTTON_TEXT_1")),n.xp6(4),n.Oqu(n.lcZ(26,21,"LOGIN_PAGE.HEADING_REGISTER_BUTTON")),n.xp6(4),n.Oqu(n.lcZ(30,23,"LOGIN_PAGE.REGISTER_BUTTON_TEXT_2")),n.xp6(5),n.Oqu(n.lcZ(35,25,"LOGIN_PAGE.TEXT_UNDER_LOGIN_BOX_1")),n.xp6(3),n.Oqu(n.lcZ(38,27,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2")))},directives:[t.gO3,T.O5,m.yS,E._Y,E.JL,E.sg,T.mk,E.Fj,t.Uqp,E.JJ,E.u,t.uu0,t.tUR],pipes:[y.X$],styles:['.container-fluid[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:"Open Sans";font-style:normal;font-weight:300,lighter;font-size:40px;line-height:48px;letter-spacing:-.25px;color:#333;margin-bottom:6px;margin-top:28px}.container-fluid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:"Open Sans";font-size:24px;font-weight:400;line-height:32px;letter-spacing:0px;text-align:left;margin-bottom:40px}@media (max-width: 575px){.container-fluid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:"Open Sans";font-size:20px;font-weight:400;line-height:32px;letter-spacing:0px;text-align:left;margin-bottom:5px}.form-group[_ngcontent-%COMP%]{margin:10px 0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px}}.pass-small[_ngcontent-%COMP%]{font-size:12px}.register-text[_ngcontent-%COMP%]{font-family:"Open Sans";font-size:14px;font-weight:400;line-height:20px;letter-spacing:.25px;text-align:left;margin-top:16px}.register-outside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:12px}.register-outside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fafafa;font-family:"Open Sans";font-size:14px;font-weight:400;line-height:16px;letter-spacing:.25px;text-align:center}.register-outside[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;font-weight:600}.text-box[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fafafa}.text-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:"Open Sans";font-size:14px;font-weight:600;line-height:20px;letter-spacing:.25px;text-align:left;color:#333}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:"Open Sans";font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}']}),u})();function Le(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function He(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function ze(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"RECOVER_PAGE.EMAIL_NOT_FOUND")," "))}const Be=function(u){return{submitted:u}};let Me=(()=>{class u{constructor(h,d,P,Y,B,K,se){this.authService=h,this.notificationService=d,this.router=P,this.translate=Y,this.environmentService=B,this.urlService=K,this.formBuilder=se,this.recoverData={email:"",langCode:"es"}}ngOnInit(){this.recoverForm=this.formBuilder.group({email:["",[E.kI.required,E.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],langCode:[this.getLangCode()]})}submitRecoverPasswordForm(){this.recoverForm.invalid||(this.submitting=!0,this.authService.resetPassword(this.recoverForm.getRawValue()).subscribe(()=>{this.notificationService.success(this.translate.instant("RECOVER_PAGE.CHECK_YOUR_EMAIL")),this.submitting=!1,this.router.navigate(["/login"])},h=>{if(this.submitting=!1,404===h.status)return this.recoverForm.controls.email.setErrors({emailNotFoundError:!0}),void this.notificationService.error(this.translate.instant("RECOVER_PAGE.EMAIL_NOT_FOUND"));h.status<500&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0})}))}getLangCode(){return this.translate.currentLang}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(m.F0),n.Y36(y.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(E.qu))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-recover"]],decls:31,vars:25,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-title-box"],[1,"card-page-title"],[1,"card-page-inner"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6","d-none","d-sm-block","graphic-block","position-relative"],["alt","",3,"src"],[1,"col-sm-6","form-block"],["name","recover-password-form","autocomplete","off",1,"recover-password-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["recoverFormTemplate","ngForm"],[1,"form-group","input-field"],["for","email-input"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","mb-0",3,"disabled","bngxLoadingLayer"]],template:function(h,d){if(1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"bngx-back-button"),n.TgZ(4,"h2",3),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.TgZ(7,"div",4),n.TgZ(8,"div",5),n.TgZ(9,"div",6),n.TgZ(10,"div",7),n._UZ(11,"img",8),n.qZA(),n.TgZ(12,"div",9),n.TgZ(13,"p"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"form",10,11),n.NdJ("ngSubmit",function(){return d.submitRecoverPasswordForm()}),n.TgZ(18,"fieldset",12),n.TgZ(19,"label",13),n._uU(20),n.ALo(21,"translate"),n.qZA(),n._UZ(22,"input",14),n.ALo(23,"translate"),n.TgZ(24,"div",15),n.YNc(25,Le,3,3,"div",16),n.YNc(26,He,3,3,"div",16),n.YNc(27,ze,3,3,"div",16),n.qZA(),n.qZA(),n.TgZ(28,"button",17),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h){const P=n.MAs(17);n.xp6(5),n.Oqu(n.lcZ(6,13,"RECOVER_PAGE.CARD_TITLE")),n.xp6(6),n.MGl("src","",d.urlService.getAssetsUrl(),"/images/pages/recover/graphic.png",n.LSH),n.xp6(3),n.Oqu(n.lcZ(15,15,"RECOVER_PAGE.RIGHT_COLUMN_HEADING")),n.xp6(2),n.Q6J("formGroup",d.recoverForm)("ngClass",n.VKq(23,Be,P.submitted)),n.xp6(4),n.Oqu(n.lcZ(21,17,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(2),n.Q6J("placeholder",n.lcZ(23,19,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",null==d.recoverForm.controls.email.errors?null:d.recoverForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.recoverForm.controls.email.errors?null:d.recoverForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.recoverForm.controls.email.errors?null:d.recoverForm.controls.email.errors.emailNotFoundError),n.xp6(1),n.Q6J("disabled",d.submitting)("bngxLoadingLayer",d.submitting),n.xp6(1),n.hij(" ",n.lcZ(30,21,"RECOVER_PAGE.SUBMIT_BUTTON_TEXT")," ")}},directives:[t.Cv1,E._Y,E.JL,E.sg,T.mk,E.Fj,t.Uqp,E.JJ,E.u,T.O5,t.gO3],pipes:[y.X$],styles:[".form-block[_ngcontent-%COMP%]{padding-top:30px}"]}),u})(),le=(()=>{class u{constructor(h){this.urlService=h}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.iOJ))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-validate-email"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],["alt","Validate email image",3,"src"]],template:function(h,d){1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._UZ(4,"img",4),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h&&(n.xp6(4),n.MGl("src","",d.urlService.getAssetsUrl(),"/images/pages/register/validate-email/graphic.png",n.LSH),n.xp6(2),n.Oqu(n.lcZ(7,2,"VALIDATE_EMAIL_PAGE.VALIDATE_EMAIL")))},pipes:[y.X$],styles:['.card-page-inner[_ngcontent-%COMP%]{padding:40px}img[_ngcontent-%COMP%]{width:80%;display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{font-family:"Montserrat",Arial,Sans-serif;font-weight:500;font-size:21px;line-height:28px;text-align:center;margin-top:30px;margin-bottom:0}']}),u})();var Re=f(76741),ye=f(76491),je=f(8813);const We=["recaptcha"],De=["pass"];function qe(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function $e(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function Ke(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.ALREADY_EXISTS")," "))}function Xe(u,v){1&u&&n._UZ(0,"i",52)}function et(u,v){1&u&&n._UZ(0,"i",53)}function tt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}function nt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const Ne=function(u){return{value:u}};function it(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,Ne,h.passwordLimits.minLength))," ")}}function ce(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,Ne,h.passwordLimits.maxLength))," ")}}function Fe(u,v){1&u&&(n.TgZ(0,"div"),n._UZ(1,"input",54),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.Q6J("placeholder",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.PLACEHOLDER")))}function ot(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.REFERRAL_CODE_INPUT.INVALID_ERROR")," "))}function at(u,v){1&u&&(n.TgZ(0,"div",55),n._UZ(1,"span",56),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.Q6J("innerHTML",n.lcZ(2,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL_COMPANY"),n.oJD))}function rt(u,v){1&u&&(n._UZ(0,"span",56),n.ALo(1,"translate")),2&u&&n.Q6J("innerHTML",n.lcZ(1,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LABEL"),n.oJD)}function st(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_REQUIRED_ERROR")," "))}const Ue=function(u){return{active:u}},lt=function(u){return{submitted:u}},ct=function(u){return{link:u}};let gt=(()=>{class u{constructor(h,d,P,Y,B,K,se,ge,me,fe,xe,bt){this.authService=h,this.notificationService=d,this.translate=P,this.environmentService=Y,this.urlService=B,this.formBuilder=K,this.route=se,this.affiliatesService=ge,this.cookiesService=me,this.analyticsService=fe,this.router=xe,this.localeService=bt,this.siteKey=Re.N.recaptchaSitekey,this.passwordVisible=!1,this.passwordLimits={minLength:6,maxLength:64},this.termsChecked$=new ye.X(!1),this.referralCodeChecked$=new ye.X(!1),this.formType="register",this.userType="person",this.buttonClass={person:"active",company:""}}ngOnInit(){this.quickRegister=this.cookiesService.get(this.environmentService.cookieNames.quickRegister),this.registerForm=this.formBuilder.group({email:[this.quickRegister||"",[E.kI.required,E.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:["",[E.kI.required,E.kI.pattern(/^\S*$/),E.kI.minLength(this.passwordLimits.minLength),E.kI.maxLength(this.passwordLimits.maxLength)]],terms:[!1,[E.kI.requiredTrue]],recaptcha:[""],langCode:[this.localeService.getLocale()],currencyCode:["EUR"],timeZone:[this.getTimezone()],referralCode:["",[E.kI.pattern(/[-_0-9A-Za-z]{7,14}/)]],type:["person"]}),this.injectReferralCodeIfExists()}ngAfterViewInit(){this.quickRegister&&setTimeout(()=>{this.passInput.nativeElement.focus()})}getTimezone(){return Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Europe/Madrid"}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}onSubmitForm(){this.registerForm.invalid||(this.submitting=!0,this.recaptcha.resetCaptcha(),this.recaptcha.execute())}handleRecaptchaError(){this.submitting=!1}submitForm(h){if(!this.registerForm.invalid&&this.isTermsValid())switch(h){case"register":this.submitRegisterForm();break;case"login":this.submitLoginForm();break;default:throw new Error(`Unsupported form type: ${h}`)}else this.submitting=!1}submitRegisterForm(){this.emailAlreadyExists=!1;const h=this.registerForm.controls.referralCode.value;h&&this.isUrl(h)&&this.injectReferralCodeIfUrlInserted();const d=this.registerForm.getRawValue();this.authService.register(d).subscribe(()=>{this.formType="login",this.sendAnalyticsInfo("register"),this.notificationService.success(this.translate.instant("REGISTER_PAGE.REGISTER_DONE")),this.affiliatesService.deleteReferralCookie(),this.recaptcha.resetCaptcha(),this.recaptcha.execute()},P=>{409===P.status?(this.recaptchaRequired=!0,this.registerForm.controls.email.setErrors({emailAlreadyExists:!0}),this.notificationService.error(this.translate.instant("FORM.EMAIL_INPUT.ALREADY_EXISTS"))):400===P.status?(this.recaptchaRequired=!0,this.notificationService.error(this.translate.instant("FORM.EMAIL_INPUT.INVALID_ERROR"))):P.status<500&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha.resetCaptcha(),this.submitting=!1})}submitLoginForm(){const h={email:this.registerForm.get("email").value,password:this.registerForm.get("password").value},d={recaptcha:this.registerForm.get("recaptcha").value};this.authService.login(h,d).subscribe(()=>{this.quickRegister&&this.cookiesService.remove(this.environmentService.cookieNames.quickRegister,{domain:this.environmentService.cookieNames.domain},!1),this.sendAnalyticsInfo("login"),this.router.navigate(["/onboarding"])},P=>{409===P.status?(this.recaptchaRequired=!0,this.notificationService.error(this.translate.instant("REGISTER_PAGE.RECAPTCHA_REQUIRED"))):P.status<500&&409!==P.status&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha.resetCaptcha(),this.submitting=!1})}sendAnalyticsInfo(h){this.analyticsService.pushLayer({event:h}),this.analyticsService.pageView()}injectReferralCodeIfExists(){let h=this.getReferralCode();!h||(h.length>14&&(h=h.substring(0,14)),this.referralCodeChecked$.next(!0),this.registerForm.patchValue({referralCode:h}))}injectReferralCodeIfUrlInserted(){const d=this.registerForm.controls.referralCode.value.split("?")[1].split("=")[1].split("r")[0];this.referralCodeChecked$.next(!0),this.registerForm.patchValue({referralCode:d})}isUrl(h){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/.test(h)}getReferralCode(){return this.affiliatesService.getReferralCookie()||localStorage.getItem("b2m-referral")}onClickTerms(){this.termsChecked$.next(!this.termsChecked$.value)}onClickReferralCode(){this.referralCodeChecked$.next(!this.referralCodeChecked$.value)}isTermsValid(){const{classList:h}=document.getElementById("terms-input");return!!h.contains("ng-valid")||(window.location.reload(),!1)}setUserType(h){this.userType=h;const d=this.registerForm.getRawValue();this.registerForm.setValue(Object.assign(Object.assign({},d),{type:this.userType}))}isUserPerson(){return"person"===this.userType}isUserCompany(){return"company"===this.userType}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(y.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(E.qu),n.Y36(m.gz),n.Y36(t.Oiz),n.Y36(t.Fhc),n.Y36(t.gv3),n.Y36(m.F0),n.Y36(t.OLO))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-register"]],viewQuery:function(h,d){if(1&h&&(n.Gf(We,5),n.Gf(De,5)),2&h){let P;n.iGM(P=n.CRH())&&(d.recaptcha=P.first),n.iGM(P=n.CRH())&&(d.passInput=P.first)}},decls:117,vars:105,consts:[[1,"card-page-outer","mt-1"],[1,"card-page-contents","register"],[1,"card-page-title-box","title-register"],[1,"tab","container-fluid"],[1,"row","mt-3","mt-sm-0","mt-md-3"],[1,"col-6","type-button"],[3,"ngClass","click"],[1,"card-tab"],[1,"card-page-inner","pb-0","px-0","px-md-4"],[1,"container-fluid","px-md-2"],[1,"form-block","pt-0","pt-md-4"],[1,"register-title","pb-3"],[1,"d-none","d-md-block","mb-sm-4","create-account"],["name","registerForm","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["registerFormTemplate","ngForm"],[1,"form-group"],["for","email-input"],[1,"input-group","border","rounded"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],[1,"input-group","border","rounded","mb-sm-3"],["id","password-input","name","password","formControlName","password","nz-tooltip","","nzTooltipPlacement","bottom","nzTooltipTrigger","focus","autocomplete","off",3,"type","placeholder","nzTooltipTitle","maxlength"],["pass",""],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true","class","b2msf-eye-slash",4,"ngIf"],["aria-hidden","true","class","b2msf-eye",4,"ngIf"],[3,"password"],[1,"form-group","checkbox"],[1,"b2m-checkbox","py-0","py-md-2"],["type","checkbox","id","referral-code-input",3,"checked","change"],["for","referral-code-input"],["nz-popover","",1,"value",3,"nzPopoverTitle","nzPopoverContent","nzPopoverPlacement"],["aria-hidden","true",1,"b2msf-question-circle-line"],["type","checkbox","id","terms-input","name","terms","formControlName","terms",1,"form-control",3,"checked","change"],["for","terms-input"],["class","d-inline",4,"ngIf","ngIfElse"],["personalLabelTranslation",""],["target","blank","rel","noopener noreferrer",1,"pl-1","terms-link",3,"href","innerHTML"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","success","error"],["recaptcha",""],[1,"pb-3","pb-sm-0","mt-4"],["type","submit","context","replace",1,"b2m-btn","btn-solid","w-100","mb-sm-3","register-button",3,"disabled","bngxLoadingLayer"],[1,"access-text","inside","d-none","d-sm-block","pb-sm-2","pb-lg-4","mb-sm-2"],[1,"text-center"],["routerLink","/login"],[1,"access-text","outside","d-block","d-sm-none","pt-2","pt-md-4"],["routerLink","/login",1,"login-link"],[1,"text-box","text-center","mt-5","mt-md-1","mt-xl-5","welcome-text","d-none","d-sm-block"],["aria-hidden","true",1,"b2msf-logo-icon"],[1,"mt-2"],["aria-hidden","true",1,"b2msf-eye-slash"],["aria-hidden","true",1,"b2msf-eye"],["autofocus","","name","referralCode","type","text","id","referral-code-input","formControlName","referralCode","autocomplete","off",1,"form-control",3,"placeholder"],[1,"d-inline"],[3,"innerHTML"]],template:function(h,d){if(1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n.TgZ(4,"div",4),n.TgZ(5,"div",5),n.TgZ(6,"button",6),n.NdJ("click",function(){return d.setUserType("person")}),n.TgZ(7,"span"),n._uU(8),n.ALo(9,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"button",6),n.NdJ("click",function(){return d.setUserType("company")}),n.TgZ(12,"span"),n._uU(13),n.ALo(14,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",7),n.TgZ(16,"div",8),n.TgZ(17,"div",9),n.TgZ(18,"div"),n.TgZ(19,"div",10),n.TgZ(20,"h2",11),n._uU(21),n.ALo(22,"translate"),n.qZA(),n.TgZ(23,"strong",12),n._uU(24),n.ALo(25,"translate"),n.qZA(),n.TgZ(26,"form",13,14),n.NdJ("ngSubmit",function(){return d.onSubmitForm()}),n.TgZ(28,"fieldset",15),n.TgZ(29,"label",16),n._uU(30),n.ALo(31,"translate"),n.qZA(),n.TgZ(32,"div",17),n._UZ(33,"input",18),n.ALo(34,"translate"),n.qZA(),n.TgZ(35,"div",19),n.YNc(36,qe,3,3,"div",20),n.YNc(37,$e,3,3,"div",20),n.YNc(38,Ke,3,3,"div",20),n.qZA(),n.qZA(),n.TgZ(39,"fieldset",15),n.TgZ(40,"label"),n._uU(41),n.ALo(42,"translate"),n.qZA(),n.TgZ(43,"div",21),n._UZ(44,"input",22,23),n.ALo(46,"translate"),n.ALo(47,"translate"),n.TgZ(48,"div",24),n.TgZ(49,"button",25),n.NdJ("click",function(){return d.togglePasswordVisible()}),n.YNc(50,Xe,1,0,"i",26),n.YNc(51,et,1,0,"i",27),n.qZA(),n.qZA(),n._UZ(52,"bngx-password-strength",28),n.qZA(),n.TgZ(53,"div",19),n.YNc(54,tt,3,3,"div",20),n.YNc(55,nt,3,3,"div",20),n.YNc(56,it,3,6,"div",20),n.YNc(57,ce,3,6,"div",20),n.qZA(),n.qZA(),n.TgZ(58,"fieldset",29),n.TgZ(59,"div",30),n.TgZ(60,"input",31),n.NdJ("change",function(){return d.onClickReferralCode()}),n.ALo(61,"async"),n.qZA(),n.TgZ(62,"label",32),n.TgZ(63,"span"),n._uU(64),n.ALo(65,"translate"),n.qZA(),n.TgZ(66,"span",33),n.ALo(67,"translate"),n.ALo(68,"translate"),n._UZ(69,"i",34),n.qZA(),n.qZA(),n.YNc(70,Fe,3,3,"div",20),n.ALo(71,"async"),n.qZA(),n.TgZ(72,"div",19),n.YNc(73,ot,3,3,"div",20),n.qZA(),n.qZA(),n.TgZ(74,"fieldset",29),n.TgZ(75,"div",30),n.TgZ(76,"input",35),n.NdJ("change",function(){return d.onClickTerms()}),n.ALo(77,"async"),n.qZA(),n.TgZ(78,"label",36),n.YNc(79,at,3,3,"div",37),n.YNc(80,rt,2,3,"ng-template",null,38,n.W1O),n._UZ(82,"a",39),n.ALo(83,"translate"),n.ALo(84,"translate"),n.qZA(),n.qZA(),n.TgZ(85,"div",19),n.YNc(86,st,3,3,"div",20),n.qZA(),n.qZA(),n.TgZ(87,"bngx-recaptcha",40,41),n.NdJ("success",function(){return d.submitForm(d.formType)})("error",function(){return d.handleRecaptchaError()}),n.qZA(),n.TgZ(89,"div",42),n.TgZ(90,"button",43),n.TgZ(91,"span"),n._uU(92),n.ALo(93,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(94,"div",44),n.TgZ(95,"h4",45),n._uU(96),n.ALo(97,"translate"),n.TgZ(98,"a",46),n._uU(99),n.ALo(100,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(101,"div",47),n.TgZ(102,"h4",45),n._uU(103),n.ALo(104,"translate"),n.TgZ(105,"a",48),n.TgZ(106,"strong"),n._uU(107),n.ALo(108,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(109,"div",49),n._UZ(110,"i",50),n.TgZ(111,"h4",51),n._uU(112),n.ALo(113,"translate"),n.qZA(),n.TgZ(114,"h4"),n._uU(115),n.ALo(116,"translate"),n.qZA(),n.qZA(),n.qZA()),2&h){const P=n.MAs(27),Y=n.MAs(81);n.xp6(6),n.Q6J("ngClass",n.VKq(97,Ue,d.isUserPerson())),n.xp6(2),n.hij(" ",n.lcZ(9,48,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_PERSONAL")," "),n.xp6(3),n.Q6J("ngClass",n.VKq(99,Ue,d.isUserCompany())),n.xp6(2),n.hij(" ",n.lcZ(14,50,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_COMPANY")," "),n.xp6(8),n.Oqu(n.lcZ(22,52,"REGISTER_PAGE.CARD_TITLE")),n.xp6(3),n.Oqu(n.lcZ(25,54,"REGISTER_PAGE.TITLE_RIGHT_COLUMN")),n.xp6(2),n.Q6J("formGroup",d.registerForm)("ngClass",n.VKq(101,lt,P.submitted)),n.xp6(4),n.Oqu(n.lcZ(31,56,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("placeholder",n.lcZ(34,58,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.emailAlreadyExists),n.xp6(3),n.Oqu(n.lcZ(42,60,"FORM.PASSWORD_INPUT.LABEL")),n.xp6(3),n.Q6J("type",d.passwordVisible?"text":"password")("placeholder",n.lcZ(46,62,"FORM.PASSWORD_INPUT.PLACEHOLDER"))("nzTooltipTitle",n.lcZ(47,64,"FORM.PASSWORD_INPUT.TOOLTIP"))("maxlength",d.passwordLimits.maxLength+1),n.xp6(6),n.Q6J("ngIf",d.passwordVisible),n.xp6(1),n.Q6J("ngIf",!d.passwordVisible),n.xp6(1),n.Q6J("password",null==d.registerForm||null==d.registerForm.value?null:d.registerForm.value.password),n.xp6(2),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.registerForm||null==d.registerForm.controls||null==d.registerForm.controls.password||null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.maxlength),n.xp6(3),n.Q6J("checked",n.lcZ(61,66,d.referralCodeChecked$)),n.xp6(4),n.hij(" ",n.lcZ(65,68,"FORM.REFERRAL_CODE_INPUT.LABEL")," "),n.xp6(2),n.Q6J("nzPopoverTitle",n.lcZ(67,70,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.TITLE"))("nzPopoverContent",n.lcZ(68,72,"FORM.REFERRAL_CODE_INPUT.TOOLTIP.LABEL"))("nzPopoverPlacement","right"),n.xp6(4),n.Q6J("ngIf",n.lcZ(71,74,d.referralCodeChecked$)),n.xp6(3),n.Q6J("ngIf",null==d.registerForm.controls.referralCode.errors?null:d.registerForm.controls.referralCode.errors.pattern),n.xp6(3),n.Q6J("checked",n.lcZ(77,76,d.termsChecked$)),n.xp6(3),n.Q6J("ngIf",d.isUserCompany())("ngIfElse",Y),n.xp6(3),n.Q6J("href",n.xi3(83,78,"REGISTER_PAGE.TERMS_LINKS.TERMS",n.VKq(103,ct,d.urlService.service("web"))),n.LSH)("innerHTML",n.lcZ(84,81,"REGISTER_PAGE.TERMS_AND_CONDITIONS_LINK"),n.oJD),n.xp6(4),n.Q6J("ngIf",null==d.registerForm.controls.terms.errors?null:d.registerForm.controls.terms.errors.required),n.xp6(1),n.Q6J("siteKey",d.siteKey),n.xp6(3),n.Q6J("disabled",d.submitting)("bngxLoadingLayer",d.submitting),n.xp6(2),n.Oqu(n.lcZ(93,83,"REGISTER_PAGE.REGISTER_BUTTON_TEXT_"+d.registerForm.get("type").value.toUpperCase())),n.xp6(4),n.hij(" ",n.lcZ(97,85,"REGISTER_PAGE.HEADING_LOGIN_BUTTON")," "),n.xp6(3),n.Oqu(n.lcZ(100,87,"REGISTER_PAGE.LOGIN_LINK_TEXT")),n.xp6(4),n.hij(" ",n.lcZ(104,89,"REGISTER_PAGE.HEADING_LOGIN_BUTTON_SMALL")," "),n.xp6(4),n.Oqu(n.lcZ(108,91,"REGISTER_PAGE.LOGIN_LINK_TEXT_SMALL")),n.xp6(5),n.Oqu(n.lcZ(113,93,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_1")),n.xp6(3),n.Oqu(n.lcZ(116,95,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2"))}},directives:[T.mk,E._Y,E.JL,E.sg,E.Fj,t.Uqp,E.JJ,E.u,T.O5,_.SY,E.nD,t.Iit,je.lU,E.Wl,t.uu0,t.gO3,m.yS],pipes:[y.X$,T.Ov],styles:['h2[_ngcontent-%COMP%]{font-size:40px;font-weight:lighter;font-family:"Open Sans";color:#333}.h4.text-center[_ngcontent-%COMP%]{font-size:14px;font-weight:200;font-family:"Open Sans";color:#333}.create-account[_ngcontent-%COMP%]{font-size:16px}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:normal;font-family:"Open Sans"}.type-button[_ngcontent-%COMP%]{text-align:center}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus, .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-bottom:2px solid #044e97}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus   span[_ngcontent-%COMP%], .tab[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#044e97}.form-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px}.form-group.checkbox[_ngcontent-%COMP%]{margin:15px}.terms-link[_ngcontent-%COMP%]{font-size:14px}@media (max-width: 360px){h2[_ngcontent-%COMP%]{font-size:20px;font-weight:normal;font-family:"Open Sans"}span[_ngcontent-%COMP%]{font-size:12px;font-weight:16px}.form-group[_ngcontent-%COMP%]{margin:3px 0}.terms-link[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 450px){span[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 768px){bngx-recaptcha[_ngcontent-%COMP%]    {flex-direction:column;align-items:unset}bngx-recaptcha[_ngcontent-%COMP%]     ngx-invisible-recaptcha{margin-right:0!important}bngx-recaptcha[_ngcontent-%COMP%]     .invalid-feedback{margin-top:10px!important}}.register-button[_ngcontent-%COMP%]     .loader-contents{padding:0!important}.show-hide[_ngcontent-%COMP%]{color:#044e97}.card-page-inner[_ngcontent-%COMP%]{padding-top:0}.tab[_ngcontent-%COMP%]{overflow:hidden;width:100%}.tab[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:inherit;float:center;border:none;outline:none;cursor:pointer;padding:3px 25px;color:#6e6e6e;font-family:"Open Sans";font-style:normal;font-weight:400;font-size:20px;line-height:28px;text-align:center}.card-tab[_ngcontent-%COMP%]{align-items:center;size:40vmax}.b2msf-question-circle-line[_ngcontent-%COMP%]{color:#8a8a8a;font-size:16px;margin-left:5px}.title-register[_ngcontent-%COMP%]{border-bottom:0px;margin-bottom:5px;padding:0}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-family:"Open Sans";font-size:14px;font-weight:600;line-height:20px;letter-spacing:.25px;text-align:left;color:#333}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#333}.access-text.outside[_ngcontent-%COMP%]{position:center}.access-text.outside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center;color:#fafafa;font-size:12px;font-weight:16px}.access-text.outside[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   a.login-link[_ngcontent-%COMP%]{color:#fafafa;font-size:14px;font-weight:20px;-webkit-text-decoration:underline solid #fafafa;text-decoration:underline solid #fafafa}.create-account[_ngcontent-%COMP%]{color:#4d4d4d}.welcome-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fafafa;font-size:42px;margin-bottom:12px}.welcome-text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-family:"Open Sans";font-style:normal;font-weight:400;font-size:24px;line-height:32px;text-align:center;color:#fafafa}']}),u})();function dt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"NEW_PASSWORD_PAGE.PASSWORD_IS_REQUIRED")," "))}function we(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const Pe=function(u){return{value:u}};function pt(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MIN_LENGTH",n.VKq(4,Pe,h.passwordLimits.minLength))," ")}}function ut(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"NEW_PASSWORD_PAGE.MAX_LENGTH",n.VKq(4,Pe,h.passwordLimits.maxLength))," ")}}const _t=function(u){return{submitted:u}},mt=function(u,v){return{"b2msf-eye":u,"b2msf-eye-slash":v}};let ft=(()=>{class u{constructor(h,d,P,Y,B,K,se,ge){this.route=h,this.router=d,this.authService=P,this.notificationService=Y,this.translate=B,this.environmentService=K,this.urlService=se,this.formBuilder=ge,this.passwordVisible=!1,this.passwordLimits={maxLength:64,minLength:6}}ngOnInit(){this.newPasswordForm=this.formBuilder.group({password:["",[E.kI.required,E.kI.pattern(/^\S*$/),E.kI.minLength(this.passwordLimits.minLength),E.kI.maxLength(this.passwordLimits.maxLength)]],token:[this.route.snapshot.params.token]})}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}submitNewPasswordForm(){if(this.newPasswordForm.invalid)return;this.submitting=!0;const h=this.newPasswordForm.getRawValue();this.authService.confirmResetPassword(h).subscribe(()=>{this.submitting=!1,this.notificationService.success(this.translate.instant("TOAST.CHANGE_PASSWORD.SUCCESS")),this.router.navigate(["login"])},d=>{this.submitting=!1,this.notificationService.error(this.translate.instant(412!==d.status&&400!==d.status?"CORE_UI.TOAST.UNRECOGNIZED_ERROR":"NEW_PASSWORD_PAGE.VALIDATIONS.INVALID_TOKEN"))})}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(m.gz),n.Y36(m.F0),n.Y36(t.e80),n.Y36(t.TFo),n.Y36(y.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(E.qu))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-new-password"]],decls:37,vars:33,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-title-box"],[3,"display"],[1,"card-page-title"],[1,"card-page-inner"],[1,"container-fluid"],[1,"row"],[1,"col-sm-6","d-none","d-sm-block","graphic-block","position-relative"],["alt","",3,"src"],[1,"col-sm-6","form-block"],["name","new-password-form","autocomplete","off",1,"new-password-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["newPasswordFormTemplate","ngForm"],[1,"form-group"],["for","password-input"],[1,"input-group"],["autofocus","","name","password","id","password-input","formControlName","password","autocomplete","off",1,"form-control",3,"type","placeholder"],[1,"input-addon","right"],["type","button",3,"click"],[3,"ngClass"],[3,"password"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","mb-0",3,"bngxLoadingLayer","disabled"]],template:function(h,d){if(1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"bngx-back-button",3),n.TgZ(4,"h2",4),n._uU(5),n.ALo(6,"translate"),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"div",7),n.TgZ(10,"div",8),n._UZ(11,"img",9),n.qZA(),n.TgZ(12,"div",10),n.TgZ(13,"p"),n._uU(14),n.ALo(15,"translate"),n.qZA(),n.TgZ(16,"form",11,12),n.NdJ("ngSubmit",function(){return d.submitNewPasswordForm()}),n.TgZ(18,"fieldset",13),n.TgZ(19,"label",14),n._uU(20),n.ALo(21,"translate"),n.qZA(),n.TgZ(22,"div",15),n._UZ(23,"input",16),n.ALo(24,"translate"),n.TgZ(25,"div",17),n.TgZ(26,"button",18),n.NdJ("click",function(){return d.togglePasswordVisible()}),n._UZ(27,"i",19),n.qZA(),n.qZA(),n._UZ(28,"bngx-password-strength",20),n.qZA(),n.TgZ(29,"div",21),n.YNc(30,dt,3,3,"div",22),n.YNc(31,we,3,3,"div",22),n.YNc(32,pt,3,6,"div",22),n.YNc(33,ut,3,6,"div",22),n.qZA(),n.qZA(),n.TgZ(34,"button",23),n._uU(35),n.ALo(36,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h){const P=n.MAs(17);n.xp6(3),n.Q6J("display",!1),n.xp6(2),n.Oqu(n.lcZ(6,18,"NEW_PASSWORD_PAGE.CARD_TITLE")),n.xp6(6),n.MGl("src","",d.urlService.getAssetsUrl(),"/images/pages/recover/graphic.png",n.LSH),n.xp6(3),n.Oqu(n.lcZ(15,20,"NEW_PASSWORD_PAGE.PROVIDE_A_PASSWORD")),n.xp6(2),n.Q6J("formGroup",d.newPasswordForm)("ngClass",n.VKq(28,_t,P.submitted)),n.xp6(4),n.Oqu(n.lcZ(21,22,"NEW_PASSWORD_PAGE.PASSWORD_LABEL")),n.xp6(3),n.Q6J("type",d.passwordVisible?"text":"password")("placeholder",n.lcZ(24,24,"NEW_PASSWORD_PAGE.PASSWORD_LABEL")),n.xp6(4),n.Q6J("ngClass",n.WLB(30,mt,!d.passwordVisible,d.passwordVisible)),n.xp6(1),n.Q6J("password",null==d.newPasswordForm||null==d.newPasswordForm.value?null:d.newPasswordForm.value.password),n.xp6(2),n.Q6J("ngIf",null==d.newPasswordForm.controls.password.errors?null:d.newPasswordForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.newPasswordForm||null==d.newPasswordForm.controls||null==d.newPasswordForm.controls.password||null==d.newPasswordForm.controls.password.errors?null:d.newPasswordForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.newPasswordForm.controls.password.errors?null:d.newPasswordForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==d.newPasswordForm.controls.password.errors?null:d.newPasswordForm.controls.password.errors.maxlength),n.xp6(1),n.Q6J("bngxLoadingLayer",d.submitting)("disabled",d.submitting),n.xp6(1),n.hij(" ",n.lcZ(36,26,"NEW_PASSWORD_PAGE.RECOVER_BUTTON")," ")}},directives:[t.Cv1,E._Y,E.JL,E.sg,T.mk,E.Fj,t.Uqp,E.JJ,E.u,t.Iit,T.O5,t.gO3],pipes:[y.X$],styles:[".form-block[_ngcontent-%COMP%]{padding-top:30px}"]}),u})(),ke=(()=>{class u{constructor(h){this.urlService=h}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.iOJ))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-check-email"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"card-page-inner"],[1,"container-fluid"],[3,"src"]],template:function(h,d){1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"div",3),n._UZ(4,"img",4),n.TgZ(5,"p"),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h&&(n.xp6(4),n.MGl("src","",d.urlService.getAssetsUrl(),"/images/pages/recover/check-email/graphic.png",n.LSH),n.xp6(2),n.Oqu(n.lcZ(7,2,"CHECK_EMAIL_PAGE.CHECK_EMAIL_INSTRUCTIONS")))},pipes:[y.X$],styles:['.card-page-inner[_ngcontent-%COMP%]{padding:40px}img[_ngcontent-%COMP%]{width:80%;display:block;margin-left:auto;margin-right:auto}p[_ngcontent-%COMP%]{font-family:"Montserrat",Arial,Sans-serif;font-weight:500;font-size:21px;line-height:28px;text-align:center;margin-top:30px;margin-bottom:0}']}),u})();var ae=f(28086),ee=f(79441);const Ge=["recaptcha"],At=["pass"],ht=["registerFormTemplate"];function Tt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.REQUIRED_ERROR")," "))}function Ce(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function Zt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.EMAIL_INPUT.ALREADY_EXISTS")," "))}function _e(u,v){1&u&&n._UZ(0,"i",65)}function Ot(u,v){1&u&&n._UZ(0,"i",66)}function Et(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.PASSWORD_INPUT.REQUIRED_ERROR")," "))}function Pt(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}const Ie=function(u){return{value:u}};function pe(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_LONGER",n.VKq(4,Ie,h.passwordLimits.minLength))," ")}}function ve(u,v){if(1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u){const h=n.oxw();n.xp6(1),n.hij(" ",n.xi3(2,1,"FORM.PASSWORD_INPUT.HAS_TO_BE_SHORTER",n.VKq(4,Ie,h.passwordLimits.maxLength))," ")}}function ie(u,v){1&u&&(n.TgZ(0,"div"),n._uU(1),n.ALo(2,"translate"),n.qZA()),2&u&&(n.xp6(1),n.hij(" ",n.lcZ(2,1,"REGISTER_PAGE.TERMS_AND_CONDITIONS_REQUIRED_ERROR")," "))}const Ct=function(u){return{submitted:u}},be=function(u){return{"d-none":u}},oe=function(u){return{link:u}},It=[{path:"",component:ue,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"recover-password",component:Me,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"check-email",component:ke,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"new-password/:token",component:ft,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"new",component:gt,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"quick-register",component:(()=>{class u{constructor(h,d,P,Y,B,K,se,ge,me,fe,xe){this.authService=h,this.notificationService=d,this.translate=P,this.environmentService=Y,this.urlService=B,this.formBuilder=K,this.activatedRoute=se,this.affiliatesService=ge,this.cookiesService=me,this.analyticsService=fe,this.router=xe,this.submitting=!0,this.siteKey=Re.N.recaptchaSitekey,this.passwordVisible=!1,this.passwordLimits={minLength:6,maxLength:64},this.checked=!1,this.showDetailedTerms=!1,this.emailValue="",this.passwordValue="",this.termsAccepted=!1,this.submitted=!1,this.recaptchaReadySubject=new ee.xQ,this.formType="register",this.CREDENTIALS_QUERY_PARAM_KEY="c"}ngOnInit(){this.initQuickRegister(),this.registerForm=this.formBuilder.group({email:[this.emailValue,[E.kI.required,E.kI.pattern(/\b[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}\b/)]],password:[this.passwordValue,[E.kI.required,E.kI.pattern(/^\S*$/),E.kI.minLength(this.passwordLimits.minLength),E.kI.maxLength(this.passwordLimits.maxLength)]],terms:[this.termsAccepted,[E.kI.requiredTrue]],recaptcha:[""],langCode:[this.getLangCode()],currencyCode:["EUR"],timeZone:[this.getTimezone()]})}initQuickRegister(){this.hasQuickRegisterQueryParams()?this.setQuickRegisterByQueryParams():this.setQuickRegisterByCookie()}hasQuickRegisterQueryParams(){return this.activatedRoute.snapshot.queryParams[this.CREDENTIALS_QUERY_PARAM_KEY]}setQuickRegisterByQueryParams(){this.quickRegisterFull=this.activatedRoute.snapshot.queryParams[this.CREDENTIALS_QUERY_PARAM_KEY],[this.emailValue,this.passwordValue]=this.decodeCookieData(this.quickRegisterFull),this.termsAccepted=!0}setQuickRegisterByCookie(){this.quickRegisterFull=this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData),this.quickRegisterFull?([this.emailValue,this.passwordValue]=this.decodeCookieData(this.quickRegisterFull),this.termsAccepted=!0):(this.quickRegister=this.cookiesService.get(this.environmentService.cookieNames.quickRegister),this.quickRegister&&(this.emailValue=this.quickRegister))}ngAfterViewInit(){this.quickRegisterFull?(this.submitted=!0,this.registerForm.updateValueAndValidity(),this.onSubmitForm()):this.submitting=!1,this.quickRegister&&setTimeout(()=>{this.passInput.nativeElement.focus()})}getTimezone(){return Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:"Europe/Madrid"}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}onSubmitForm(){this.registerForm.invalid||(this.submitting=!0,this.recaptchaReadySubject.pipe((0,e.q)(1)).subscribe(()=>{this.recaptcha.resetCaptcha(),this.recaptcha.execute()}))}handleRecaptchaReady(){this.recaptchaReadySubject.next(!0)}handleRecaptchaError(){this.submitting=!1}submitForm(h){if(this.registerForm.invalid)this.submitting=!1;else switch(h){case"register":this.submitRegisterForm();break;case"login":this.submitLoginForm();break;default:throw new Error(`Unsupported form type: ${h}`)}}submitRegisterForm(){if(this.registerForm.invalid)return void(this.submitting=!1);this.emailAlreadyExists=!1,this.injectReferralCodeIfExists();const h=this.registerForm.getRawValue();this.authService.register(h).subscribe(()=>{this.formType="login",this.recaptcha.resetCaptcha(),this.recaptcha.execute(),this.analyticsService.pushLayer({event:"register"}),this.analyticsService.pageView(),this.notificationService.success(this.translate.instant("REGISTER_PAGE.REGISTER_DONE")),this.affiliatesService.deleteReferralCookie(),localStorage.removeItem("b2m-referral")},d=>{409===d.status&&!d.message.includes("recaptcha")&&(this.registerForm.controls.email.setErrors({emailAlreadyExists:!0}),this.notificationService.error(this.translate.instant("FORM.EMAIL_INPUT.ALREADY_EXISTS"))),d.status<500&&409!==d.status&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha&&this.recaptcha.resetCaptcha(),this.submitting=!1})}submitLoginForm(){const h={email:this.registerForm.get("email").value,password:this.registerForm.get("password").value},d={recaptcha:this.registerForm.get("recaptcha").value};this.authService.login(h,d).subscribe(()=>{this.quickRegister&&this.cookiesService.remove(this.environmentService.cookieNames.quickRegister,{domain:this.environmentService.cookieNames.domain},!1),this.analyticsService.pushLayer({event:"login"}),this.analyticsService.pageView(),this.router.navigate(["/onboarding"])},P=>{409===P.status?this.notificationService.error(this.translate.instant("REGISTER_PAGE.RECAPTCHA_REQUIRED")):P.status<500&&409!==P.status&&this.notificationService.error(this.translate.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"),"",{nzDuration:0}),this.recaptcha&&this.recaptcha.resetCaptcha(),this.submitting=!1})}getLangCode(){const h=Intl.DateTimeFormat().resolvedOptions().locale.split("-")[0],P=this.translate.getLangs().some(Y=>Y===h);return Intl&&P?h:"en"}injectReferralCodeIfExists(){let h=this.affiliatesService.getReferralCookie();!h||(h.length>14&&(h=h.substring(0,14)),this.registerForm.addControl("referralCode",new E.NI(h)))}getReferralCode(){var h;let d=(null===(h=this.activatedRoute.snapshot.queryParams)||void 0===h?void 0:h.r)||localStorage.getItem("b2m-referral")||this.affiliatesService.getReferralCookie();return d?(d.length>14&&(d=d.substring(0,14)),d):""}onClickTerms(){document.querySelectorAll('input[type="checkbox"]').forEach(h=>{h.checked=!this.checked}),this.checked=!this.checked}showDetailed(){this.showDetailedTerms=!this.showDetailedTerms}decodeCookieData(h){const[d,P]=atob(h).split(":");return[d,decodeURIComponent(P)]}mockQuickRegisterDataCookie(){const Y=this.encodeCookieData("testquickregister123@yopmail.com","123123"),B={domain:this.urlService.getCurrentDomain(),expires:1};this.cookiesService.set(this.environmentService.cookieNames.quickRegisterData,Y,B)}encodeCookieData(h,d){const P=encodeURIComponent(d);return btoa(`${h}:${P}`)}}return u.\u0275fac=function(h){return new(h||u)(n.Y36(t.e80),n.Y36(t.TFo),n.Y36(y.sK),n.Y36(t.L$R),n.Y36(t.iOJ),n.Y36(E.qu),n.Y36(m.gz),n.Y36(t.Oiz),n.Y36(t.Fhc),n.Y36(t.gv3),n.Y36(m.F0))},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-register"]],viewQuery:function(h,d){if(1&h&&(n.Gf(Ge,5),n.Gf(At,5),n.Gf(ht,5)),2&h){let P;n.iGM(P=n.CRH())&&(d.recaptcha=P.first),n.iGM(P=n.CRH())&&(d.passInput=P.first),n.iGM(P=n.CRH())&&(d.registerFormElement=P.first)}},decls:184,vars:189,consts:[["context","fullscreen",1,"card-page-outer",3,"bngxLoadingLayer"],[1,"card-page-contents"],[1,"card-page-title-box"],[1,"wrapper-header-right-block","pl-4","pl-sm-0"],[1,"card-page-title"],["routerLink","/login",1,"b2m-btn","btn-line","mr-0",3,"title"],[1,"card-page-inner"],[1,"container-fluid"],[1,"row"],[1,"col-12","col-md-6","d-none","d-md-block","graphic-block"],["alt","",3,"src"],[1,"text-box"],[1,"col-12","col-md-6","form-block"],["name","registerForm","autocomplete","off",3,"formGroup","ngClass","ngSubmit"],["registerFormTemplate","ngForm"],[1,"form-group"],["for","email-input"],["autofocus","","name","email","type","email","id","email-input","formControlName","email","autocomplete","off",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],[1,"input-group"],["id","password-input","name","password","formControlName","password","autocomplete","off",3,"type","placeholder"],["pass",""],[1,"input-addon","right"],["type","button",3,"click"],["class","b2msf-eye-slash",4,"ngIf"],["class","b2msf-eye",4,"ngIf"],[3,"password"],[1,"b2m-checkbox"],["type","checkbox","id","terms-input","name","terms","formControlName","terms",1,"form-control",3,"click"],["for","terms-input"],[3,"innerHTML"],["type","button",1,"show-hide",3,"ngClass","click"],[1,"checkbox-list","p-1","mt-0",3,"ngClass"],["id","terms-conditions","type","checkbox","disabled",""],["for","terms-conditions",1,"mr-1"],["target","blank","rel","noopener noreferrer",3,"href"],["aria-hidden","true",1,"b2msf-external-link"],["id","terms-cookies","type","checkbox","disabled",""],["for","terms-cookies",1,"mr-1"],["id","terms-privacy","type","checkbox","disabled",""],["for","terms-privacy",1,"mr-1"],["id","terms-elec-money","type","checkbox","disabled",""],["for","terms-elec-money",1,"mr-1"],["id","terms-security","type","checkbox","disabled",""],["for","terms-security",1,"mr-1"],["id","terms-aml-kyc","type","checkbox","disabled",""],["for","terms-aml-kyc",1,"mr-1"],["id","terms-antifraud","type","checkbox","disabled",""],["for","terms-antifraud",1,"mr-1"],["id","terms-risks","type","checkbox","disabled",""],["for","terms-risks",1,"mr-1"],["id","terms-marketdata","type","checkbox","disabled",""],["for","terms-marketdata",1,"mr-1"],["id","terms-affiliates","type","checkbox","disabled",""],["for","terms-affiliates",1,"mr-1"],["id","terms-company-registration","type","checkbox","disabled",""],["for","terms-company-registration",1,"mr-1"],["id","terms-kyc-limits","type","checkbox","disabled",""],["for","terms-kyc-limits",1,"mr-1"],["name","recaptcha","formControlName","recaptcha",3,"siteKey","success","error","ready"],["recaptcha",""],["type","submit","context","replace",1,"b2m-btn","btn-solid","w-100","my-4","register-button",3,"disabled","bngxLoadingLayer"],[1,"text-center"],["routerLink","/login"],[1,"b2msf-eye-slash"],[1,"b2msf-eye"]],template:function(h,d){if(1&h&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n._UZ(3,"bngx-back-button"),n.TgZ(4,"div",3),n.TgZ(5,"h2",4),n._uU(6),n.ALo(7,"translate"),n.qZA(),n.TgZ(8,"a",5),n.ALo(9,"translate"),n._uU(10),n.ALo(11,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(12,"div",6),n.TgZ(13,"div",7),n.TgZ(14,"div",8),n.TgZ(15,"div",9),n._UZ(16,"img",10),n.TgZ(17,"div",11),n.TgZ(18,"h4"),n._uU(19),n.ALo(20,"translate"),n.qZA(),n.TgZ(21,"h4"),n._uU(22),n.ALo(23,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"div",12),n.TgZ(25,"h2"),n._uU(26),n.ALo(27,"translate"),n.qZA(),n.TgZ(28,"p"),n._uU(29),n.ALo(30,"translate"),n.qZA(),n.TgZ(31,"form",13,14),n.NdJ("ngSubmit",function(){return d.onSubmitForm()}),n.TgZ(33,"fieldset",15),n.TgZ(34,"label",16),n._uU(35),n.ALo(36,"translate"),n.qZA(),n._UZ(37,"input",17),n.ALo(38,"translate"),n.TgZ(39,"div",18),n.YNc(40,Tt,3,3,"div",19),n.YNc(41,Ce,3,3,"div",19),n.YNc(42,Zt,3,3,"div",19),n.qZA(),n.qZA(),n.TgZ(43,"fieldset",15),n.TgZ(44,"label"),n._uU(45),n.ALo(46,"translate"),n.qZA(),n.TgZ(47,"div",20),n._UZ(48,"input",21,22),n.ALo(50,"translate"),n.TgZ(51,"div",23),n.TgZ(52,"button",24),n.NdJ("click",function(){return d.togglePasswordVisible()}),n.YNc(53,_e,1,0,"i",25),n.YNc(54,Ot,1,0,"i",26),n.qZA(),n.qZA(),n._UZ(55,"bngx-password-strength",27),n.qZA(),n.TgZ(56,"div",18),n.YNc(57,Et,3,3,"div",19),n.YNc(58,Pt,3,3,"div",19),n.YNc(59,pe,3,6,"div",19),n.YNc(60,ve,3,6,"div",19),n.qZA(),n.qZA(),n.TgZ(61,"fieldset",15),n.TgZ(62,"div",28),n.TgZ(63,"input",29),n.NdJ("click",function(){return d.onClickTerms()}),n.qZA(),n.TgZ(64,"label",30),n.TgZ(65,"span",31),n.ALo(66,"translate"),n.TgZ(67,"button",32),n.NdJ("click",function(){return d.showDetailed()}),n._uU(68),n.ALo(69,"translate"),n.qZA(),n.TgZ(70,"button",32),n.NdJ("click",function(){return d.showDetailed()}),n._uU(71),n.ALo(72,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(73,"div",33),n.TgZ(74,"div",28),n._UZ(75,"input",34),n.TgZ(76,"label",35),n._uU(77),n.ALo(78,"translate"),n.qZA(),n.TgZ(79,"a",36),n.ALo(80,"translate"),n._UZ(81,"i",37),n.qZA(),n.qZA(),n.TgZ(82,"div",28),n._UZ(83,"input",38),n.TgZ(84,"label",39),n._uU(85),n.ALo(86,"translate"),n.qZA(),n.TgZ(87,"a",36),n.ALo(88,"translate"),n._UZ(89,"i",37),n.qZA(),n.qZA(),n.TgZ(90,"div",28),n._UZ(91,"input",40),n.TgZ(92,"label",41),n._uU(93),n.ALo(94,"translate"),n.qZA(),n.TgZ(95,"a",36),n.ALo(96,"translate"),n._UZ(97,"i",37),n.qZA(),n.qZA(),n.TgZ(98,"div",28),n._UZ(99,"input",42),n.TgZ(100,"label",43),n._uU(101),n.ALo(102,"translate"),n.qZA(),n.TgZ(103,"a",36),n.ALo(104,"translate"),n._UZ(105,"i",37),n.qZA(),n.qZA(),n.TgZ(106,"div",28),n._UZ(107,"input",44),n.TgZ(108,"label",45),n._uU(109),n.ALo(110,"translate"),n.qZA(),n.TgZ(111,"a",36),n.ALo(112,"translate"),n._UZ(113,"i",37),n.qZA(),n.qZA(),n.TgZ(114,"div",28),n._UZ(115,"input",46),n.TgZ(116,"label",47),n._uU(117),n.ALo(118,"translate"),n.qZA(),n.TgZ(119,"a",36),n.ALo(120,"translate"),n._UZ(121,"i",37),n.qZA(),n.qZA(),n.TgZ(122,"div",28),n._UZ(123,"input",48),n.TgZ(124,"label",49),n._uU(125),n.ALo(126,"translate"),n.qZA(),n.TgZ(127,"a",36),n.ALo(128,"translate"),n._UZ(129,"i",37),n.qZA(),n.qZA(),n.TgZ(130,"div",28),n._UZ(131,"input",50),n.TgZ(132,"label",51),n._uU(133),n.ALo(134,"translate"),n.qZA(),n.TgZ(135,"a",36),n.ALo(136,"translate"),n._UZ(137,"i",37),n.qZA(),n.qZA(),n.TgZ(138,"div",28),n._UZ(139,"input",52),n.TgZ(140,"label",53),n._uU(141),n.ALo(142,"translate"),n.qZA(),n.TgZ(143,"a",36),n.ALo(144,"translate"),n._UZ(145,"i",37),n.qZA(),n.qZA(),n.TgZ(146,"div",28),n._UZ(147,"input",54),n.TgZ(148,"label",55),n._uU(149),n.ALo(150,"translate"),n.qZA(),n.TgZ(151,"a",36),n.ALo(152,"translate"),n._UZ(153,"i",37),n.qZA(),n.qZA(),n.TgZ(154,"div",28),n._UZ(155,"input",56),n.TgZ(156,"label",57),n._uU(157),n.ALo(158,"translate"),n.qZA(),n.TgZ(159,"a",36),n.ALo(160,"translate"),n._UZ(161,"i",37),n.qZA(),n.qZA(),n.TgZ(162,"div",28),n._UZ(163,"input",58),n.TgZ(164,"label",59),n._uU(165),n.ALo(166,"translate"),n.qZA(),n.TgZ(167,"a",36),n.ALo(168,"translate"),n._UZ(169,"i",37),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(170,"div",18),n.YNc(171,ie,3,3,"div",19),n.qZA(),n.qZA(),n.TgZ(172,"bngx-recaptcha",60,61),n.NdJ("success",function(){return d.submitForm(d.formType)})("error",function(){return d.handleRecaptchaError()})("ready",function(){return d.handleRecaptchaReady()}),n.qZA(),n.TgZ(174,"button",62),n.TgZ(175,"span"),n._uU(176),n.ALo(177,"translate"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(178,"h4",63),n._uU(179),n.ALo(180,"translate"),n.TgZ(181,"a",64),n._uU(182),n.ALo(183,"translate"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&h){const P=n.MAs(32);n.Q6J("bngxLoadingLayer",d.submitting),n.xp6(6),n.Oqu(n.lcZ(7,63,"REGISTER_PAGE.CARD_TITLE")),n.xp6(2),n.s9C("title",n.lcZ(9,65,"REGISTER_PAGE.LOGIN_BUTTON_TITLE")),n.xp6(2),n.Oqu(n.lcZ(11,67,"REGISTER_PAGE.LOGIN_BUTTON_TEXT")),n.xp6(6),n.MGl("src","",d.urlService.getAssetsUrl(),"/images/pages/register/graphic.svg",n.LSH),n.xp6(3),n.Oqu(n.lcZ(20,69,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_1")),n.xp6(3),n.Oqu(n.lcZ(23,71,"REGISTER_PAGE.TEXT_UNDER_GRAPHIC_LEFT_COLUMN_2")),n.xp6(4),n.Oqu(n.lcZ(27,73,"REGISTER_PAGE.TITLE_RIGHT_COLUMN")),n.xp6(3),n.Oqu(n.lcZ(30,75,"REGISTER_PAGE.TEXT_HEADING_RIGHT_COLUMN")),n.xp6(2),n.Q6J("formGroup",d.registerForm)("ngClass",n.VKq(157,Ct,P.submitted||d.submitted)),n.xp6(4),n.Oqu(n.lcZ(36,77,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(2),n.Q6J("placeholder",n.lcZ(38,79,"FORM.EMAIL_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.email.errors?null:d.registerForm.controls.email.errors.emailAlreadyExists),n.xp6(3),n.Oqu(n.lcZ(46,81,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(3),n.Q6J("type",d.passwordVisible?"text":"password")("placeholder",n.lcZ(50,83,"FORM.PASSWORD_INPUT.PLACEHOLDER")),n.xp6(5),n.Q6J("ngIf",d.passwordVisible),n.xp6(1),n.Q6J("ngIf",!d.passwordVisible),n.xp6(1),n.Q6J("password",null==d.registerForm||null==d.registerForm.value?null:d.registerForm.value.password),n.xp6(2),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==d.registerForm||null==d.registerForm.controls||null==d.registerForm.controls.password||null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.pattern),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.minlength),n.xp6(1),n.Q6J("ngIf",null==d.registerForm.controls.password.errors?null:d.registerForm.controls.password.errors.maxlength),n.xp6(5),n.Q6J("innerHTML",n.lcZ(66,85,"REGISTER_PAGE.TERMS_AND_CONDITIONS"),n.oJD),n.xp6(2),n.Q6J("ngClass",n.VKq(159,be,d.showDetailedTerms)),n.xp6(1),n.hij(" (",n.lcZ(69,87,"REGISTER_PAGE.SHOW"),") "),n.xp6(2),n.Q6J("ngClass",n.VKq(161,be,!d.showDetailedTerms)),n.xp6(1),n.hij(" (",n.lcZ(72,89,"REGISTER_PAGE.HIDE"),") "),n.xp6(2),n.Q6J("ngClass",n.VKq(163,be,!d.showDetailedTerms)),n.xp6(4),n.Oqu(n.lcZ(78,91,"REGISTER_PAGE.TERMS_TYPES.TERMS")),n.xp6(2),n.Q6J("href",n.xi3(80,93,"REGISTER_PAGE.TERMS_LINKS.TERMS",n.VKq(165,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(86,96,"REGISTER_PAGE.TERMS_TYPES.COOKIES")),n.xp6(2),n.Q6J("href",n.xi3(88,98,"REGISTER_PAGE.TERMS_LINKS.COOKIES",n.VKq(167,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(94,101,"REGISTER_PAGE.TERMS_TYPES.PRIVACY")),n.xp6(2),n.Q6J("href",n.xi3(96,103,"REGISTER_PAGE.TERMS_LINKS.PRIVACY",n.VKq(169,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(102,106,"REGISTER_PAGE.TERMS_TYPES.MONEY_LICENSE")),n.xp6(2),n.Q6J("href",n.xi3(104,108,"REGISTER_PAGE.TERMS_LINKS.MONEY_LICENSE",n.VKq(171,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(110,111,"REGISTER_PAGE.TERMS_TYPES.SECURITY")),n.xp6(2),n.Q6J("href",n.xi3(112,113,"REGISTER_PAGE.TERMS_LINKS.SECURITY",n.VKq(173,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(118,116,"REGISTER_PAGE.TERMS_TYPES.AML_KYC")),n.xp6(2),n.Q6J("href",n.xi3(120,118,"REGISTER_PAGE.TERMS_LINKS.AML_KYC",n.VKq(175,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(126,121,"REGISTER_PAGE.TERMS_TYPES.ANTI_FRAUD")),n.xp6(2),n.Q6J("href",n.xi3(128,123,"REGISTER_PAGE.TERMS_LINKS.ANTI_FRAUD",n.VKq(177,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(134,126,"REGISTER_PAGE.TERMS_TYPES.RISK_WARNING")),n.xp6(2),n.Q6J("href",n.xi3(136,128,"REGISTER_PAGE.TERMS_LINKS.RISK_WARNING",n.VKq(179,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(142,131,"REGISTER_PAGE.TERMS_TYPES.MARKET_DATA")),n.xp6(2),n.Q6J("href",n.xi3(144,133,"REGISTER_PAGE.TERMS_LINKS.MARKET_DATA",n.VKq(181,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(150,136,"REGISTER_PAGE.TERMS_TYPES.AFFILIATES")),n.xp6(2),n.Q6J("href",n.xi3(152,138,"REGISTER_PAGE.TERMS_LINKS.AFFILIATES",n.VKq(183,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(158,141,"REGISTER_PAGE.TERMS_TYPES.COMPANY_REGISTRATION")),n.xp6(2),n.Q6J("href",n.xi3(160,143,"REGISTER_PAGE.TERMS_LINKS.COMPANY_REGISTRATION",n.VKq(185,oe,d.urlService.service("web"))),n.LSH),n.xp6(6),n.Oqu(n.lcZ(166,146,"REGISTER_PAGE.TERMS_TYPES.KYC_LIMITS")),n.xp6(2),n.Q6J("href",n.xi3(168,148,"REGISTER_PAGE.TERMS_LINKS.KYC_LIMITS",n.VKq(187,oe,d.urlService.service("web"))),n.LSH),n.xp6(4),n.Q6J("ngIf",null==d.registerForm.controls.terms.errors?null:d.registerForm.controls.terms.errors.required),n.xp6(1),n.Q6J("siteKey",d.siteKey),n.xp6(2),n.Q6J("disabled",d.submitting)("bngxLoadingLayer",d.submitting),n.xp6(2),n.Oqu(n.lcZ(177,151,"REGISTER_PAGE.REGISTER_BUTTON_TEXT")),n.xp6(3),n.hij(" ",n.lcZ(180,153,"REGISTER_PAGE.HEADING_LOGIN_BUTTON")," "),n.xp6(3),n.Oqu(n.lcZ(183,155,"REGISTER_PAGE.LOGIN_LINK_TEXT"))}},directives:[t.gO3,t.Cv1,m.yS,E._Y,E.JL,E.sg,T.mk,E.Fj,t.Uqp,E.JJ,E.u,T.O5,t.Iit,E.Wl,t.uu0],pipes:[y.X$],styles:["h2[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.form-block[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;font-weight:500;margin-bottom:70px}.graphic-block[_ngcontent-%COMP%]{position:relative}.graphic-block[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:30px}.graphic-block[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{position:absolute}.wrapper-header-right-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (max-width: 576px){.wrapper-header-right-block[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 991px){.graphic-block[_ngcontent-%COMP%]   .text-box[_ngcontent-%COMP%]{position:static;margin-top:20px}}.b2m-checkbox[_ngcontent-%COMP%]{padding-top:0;padding-bottom:0}@media (max-width: 768px){bngx-recaptcha[_ngcontent-%COMP%]    {flex-direction:column;align-items:unset}bngx-recaptcha[_ngcontent-%COMP%]     ngx-invisible-recaptcha{margin-right:0!important}bngx-recaptcha[_ngcontent-%COMP%]     .invalid-feedback{margin-top:10px!important}}.register-button[_ngcontent-%COMP%]     .loader-contents{padding:0!important}.show-hide[_ngcontent-%COMP%]{color:#044e97}label[_ngcontent-%COMP%]{font-weight:600}"]}),u})(),data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}},{path:"validate-email",component:le,data:{analytics:{pageAccess:t.Sk.notLoggedIn,pageType:t.vnv.companyInfo,pageCategory:t.ycu.general,pageCode:200}}}];let Se=(()=>{class u{}return u.\u0275fac=function(h){return new(h||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({imports:[[ae.v,T.ez,t.Rbs.forChild(),m.Bz.forChild(It)]]}),u})();var Te=f(95555);let vt=(()=>{class u{}return u.\u0275fac=function(h){return new(h||u)},u.\u0275mod=n.oAB({type:u}),u.\u0275inj=n.cJS({providers:[g.u,Te.$],imports:[[T.ez,t.Rbs.forChild(),ae.v,Se,_.cg],Se]}),u})()},95555:(X,J,f)=>{"use strict";f.d(J,{$:()=>U});var T=f(72923),t=f(2316),_=f(76249),g=f(70325);let m=(()=>{class c{constructor(e){this.nzModalRef=e}}return c.\u0275fac=function(e){return new(e||c)(t.Y36(_.Lf))},c.\u0275cmp=t.Xpm({type:c,selectors:[["ng-component"]],decls:11,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"innerHTML"],[1,"modal-footer"],["type","button",1,"b2m-btn","btn-solid","mr-0",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t._UZ(5,"p",3),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"div",4),t.TgZ(8,"button",5),t.NdJ("click",function(){return n.nzModalRef.close()}),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA()),2&e&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"CONFIRM_DEVICE.FAILED_DIALOG.TITLE")),t.xp6(3),t.Q6J("innerHTML",t.lcZ(6,5,"CONFIRM_DEVICE.FAILED_DIALOG.CONTENT"),t.oJD),t.xp6(4),t.hij(" ",t.lcZ(10,7,"BUTTONS.ACCEPT")," "))},pipes:[g.X$],styles:[""]}),c})();var E=f(16320);let U=(()=>{class c{constructor(e,n,q,N,y,M,G,w,$,L){this.authService=e,this.router=n,this.accountService=q,this.environment=N,this.notificationsService=y,this.translate=M,this.urlService=G,this.modalService=w,this.loggerService=$,this.analyticService=L}resolve(e){switch(e.params.type){case"confirm-email":this.handleConfirmEmail(e);break;case"pwd":this.handlePwd(e);break;case"authorize":this.handleConfirmDevice(e);break;default:this.router.navigate(["error",{type:"404"}])}return!0}handlePwd(e){this.router.navigate(["login","new-password",e.params.token])}handleConfirmEmail(e){this.accountService.confirmEmail({token:e.params.token}).subscribe(()=>{this.sendEmailVerifiedGTMEvent(),this.notificationsService.success("",this.translate.instant("TOAST.EMAIL_VERIFIED_SUCCESS.TITLE")),this.authService.refresh().subscribe({next:()=>{this.router.navigate(["/onboarding"])},error:()=>{this.authService.setRedirectUrl(`${this.urlService.service("account")}onboarding`),this.router.navigate(["/login"])}})},q=>{404===q.status&&this.notificationsService.error(q.error.message,null),403===q.status&&(this.authService.setRedirectUrl(`${window.location}`),this.notificationsService.error(this.translate.instant("TOAST.LOGIN_TO_VERIFY_EMAIL.TITLE"),null)),this.handleNavigation(["/profile","general"])})}sendEmailVerifiedGTMEvent(){this.authService.isVerified([T.Dzy.email])||this.analyticService.pushLayer({event:"email_verified"})}handleConfirmDevice(e){this.accountService.confirmDevice({deviceAuthId:e.params.extraHash,userId:e.params.token}).subscribe(y=>{this.translate.get("CONFIRM_DEVICE.DEVICE_CONFIRMED.SUCCESS").subscribe(M=>{this.notificationsService.success(M)}),y?y.sfa?this.show2FAPopup(y):(this.authService.setToken(y),this.authService.navigateToCorrectUrl()):this.router.navigate(["/authorized-device"])},y=>{this.router.navigate(["/login"]).then(()=>{404===y.status&&this.translate.get("CONFIRM_DEVICE.DEVICE_CONFIRMATION_LINK_EXPIRED.ERROR").subscribe(M=>{this.notificationsService.error(M)}),406===y.status&&this.modalService.open(m),409===y.status&&this.translate.get("CONFIRM_DEVICE.DEVICE_ALREADY_CONFIRMED.ERROR").subscribe(M=>{this.notificationsService.error(M)})})})}handleNavigation(e,n){this.authService.isAuth()?this.router.navigate(e,n):this.navigateToLogin()}navigateToLogin(){const e=window.location.href;if(this.authService.setRedirectUrl(e),this.environment.isAccount())this.router.navigate(["/login"]);else{const n=`${this.urlService.service("account")}/login`;window.location.href=n}}show2FAPopup(e){try{const n=this.modalService.open(T.cDe,{nzComponentParams:{responseSfa:e}});e.accessToken.expirationTime=null,n.afterClose.subscribe(q=>{q&&(this.authService.setToken(q),this.authService.navigateToCorrectUrl())})}catch(n){this.loggerService.error(n)}}}return c.\u0275fac=function(e){return new(e||c)(t.LFG(T.e80),t.LFG(E.F0),t.LFG(T.BRM),t.LFG(T.L$R),t.LFG(T.TFo),t.LFG(g.sK),t.LFG(T.iOJ),t.LFG(T.Z7U),t.LFG(T.mQy),t.LFG(T.gv3))},c.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac}),c})()},2686:(X,J,f)=>{"use strict";f.d(J,{u:()=>g});var T=f(2316),t=f(72923),_=f(16320);let g=(()=>{class m{constructor(U,c,H){this.authService=U,this.router=c,this.environment=H}resolve(){return!this.authService.isAuth()||(this.environment.isAccount()&&this.router.navigate(["/"]),!1)}}return m.\u0275fac=function(U){return new(U||m)(T.LFG(t.e80),T.LFG(_.F0),T.LFG(t.L$R))},m.\u0275prov=T.Yz7({token:m,factory:m.\u0275fac}),m})()},99839:(X,J,f)=>{"use strict";f.r(J),f.d(J,{OnboardingModule:()=>$});var T=f(54364),t=f(72923),_=f(45129),g=f(16320),m=f(28086),E=f(65861),U=f(84515),c=f(2316),H=f(70325),e=f(8709),n=f(3026);function q(L,Q){if(1&L){const b=c.EpF();c.TgZ(0,"div"),c._UZ(1,"img",22),c.TgZ(2,"h1"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"p",30),c._uU(6),c.ALo(7,"translate"),c.TgZ(8,"strong"),c._uU(9),c.qZA(),c._uU(10,". "),c.qZA(),c.TgZ(11,"h4",30),c._uU(12),c.ALo(13,"translate"),c.TgZ(14,"a",33),c.NdJ("click",function(V){return c.CHM(b),c.oxw().resendEmailVerification(V)}),c._uU(15),c.ALo(16,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&L){const b=c.oxw();c.xp6(1),c.Q6J("src",b.urlService.getAssetUrl("images/logo-bit2me-blue.svg"),c.LSH),c.xp6(2),c.Oqu(c.lcZ(4,6,"ONBOARDING.STEP_1.TITLE")),c.xp6(3),c.hij(" ",c.lcZ(7,8,"ONBOARDING.STEP_1.TEXT_1")," "),c.xp6(3),c.hij(" ",null==b.userInfo?null:b.userInfo.email," "),c.xp6(3),c.hij(" ",c.lcZ(13,10,"ONBOARDING.STEP_1.RESEND_TITLE")," "),c.xp6(3),c.Oqu(c.lcZ(16,12,"ONBOARDING.STEP_1.RESEND_TEXT"))}}function N(L,Q){if(1&L&&(c.TgZ(0,"div"),c._UZ(1,"img",22),c.TgZ(2,"h3"),c._uU(3),c.ALo(4,"translate"),c.qZA(),c.TgZ(5,"button",34),c._uU(6),c.ALo(7,"translate"),c.qZA(),c.qZA()),2&L){const b=c.oxw();c.xp6(1),c.Q6J("src",b.urlService.getAssetUrl("images/logo-bit2me-blue.svg"),c.LSH),c.xp6(2),c.Oqu(c.lcZ(4,3,"ONBOARDING.STEP_1.CONGRATULATIONS")),c.xp6(3),c.hij(" ",c.lcZ(7,5,"BUTTONS.CONTINUE")," ")}}const y=function(){return["/profile","identity"]},G=[{path:"",component:(()=>{class L{constructor(b,R,V,z,de,I,Ae,he,Ze){this.urlService=b,this.authService=R,this.translateService=V,this.accountService=z,this.notificationsService=de,this.currentUserStore=I,this.cookiesService=Ae,this.environmentService=he,this.router=Ze,this.canEnterStep1=Oe=>{switch(Oe){case E.$4.Backwards:return!this.isEmailVerified;case E.$4.Stay:return!0;default:return!1}}}ngOnInit(){if(this.currentUserStore.getAccountAndNext().subscribe(R=>{this.userInfo=R}),this.authService.tokenSubject.pipe((0,U.T)(1)).subscribe(()=>{this.setVerifications(),this.goToCorrectStep()}),this.setVerifications(),this.cookiesService.get(this.environmentService.cookieNames.quickRegisterData)){const R={domain:this.urlService.getCurrentDomain()};this.cookiesService.remove(this.environmentService.cookieNames.quickRegisterData,R)}}goToCorrectStep(){this.isEmailVerified&&this.isPhoneVerified&&this.goToStep(2),this.isEmailVerified&&this.isPhoneVerified&&this.isIdentityVerified&&(this.authService.setRedirectUrl(`${this.urlService.service("account")}profile/general`),this.router.navigate(["/login"]))}ngAfterViewInit(){this.setDefaultStepIndex(),this.goToCorrectStep()}setVerifications(){this.isEmailVerified=this.authService.isVerified([t.Dzy.email]),this.isPhoneVerified=this.authService.isVerified([t.Dzy.phone]),this.isIdentityVerified=this.authService.isVerified([t.Dzy.identity])}setDefaultStepIndex(){this.isEmailVerified?this.isPhoneVerified?this.isIdentityVerified?(this.authService.setRedirectUrl(`${this.urlService.service("account")}profile/general`),this.router.navigate(["/login"])):this.wizard.defaultStepIndex=2:this.wizard.defaultStepIndex=1:this.wizard.defaultStepIndex=0}handleConfirmPhoneNumber(){this.authService.refresh().subscribe(()=>{this.wizard.goToNextStep()})}goToStep(b){!this.wizard||this.wizard.goToStep(b)}resendEmailVerification(b){b.preventDefault(),this.accountService.verifyEmail({}).subscribe(()=>{this.notificationsService.success(this.translateService.instant("CORE_UI.TOAST.EMAIL_VERIFICATION_SENT"))},()=>{this.notificationsService.error(this.translateService.instant("CORE_UI.TOAST.UNRECOGNIZED_ERROR"))})}}return L.\u0275fac=function(b){return new(b||L)(c.Y36(t.iOJ),c.Y36(t.e80),c.Y36(H.sK),c.Y36(t.BRM),c.Y36(t.TFo),c.Y36(t.Dk$),c.Y36(t.Fhc),c.Y36(t.L$R),c.Y36(g.F0))},L.\u0275cmp=c.Xpm({type:L,selectors:[["ng-component"]],viewQuery:function(b,R){if(1&b&&c.Gf(E.Pl,5),2&b){let V;c.iGM(V=c.CRH())&&(R.wizard=V.first)}},decls:98,vars:61,consts:[[1,"b2m-onboarding-page","b2m-step-process-wrapper"],["navBarLayout","large-empty",3,"disableNavigationBar"],[3,"awCompletedStep","canEnter"],[1,"container-fluid"],[1,"row"],[1,"col-12","offset-md-6","col-md-6","order-1","order-md-2","right-col","text-right","steps-info"],[1,"step-header"],[1,"mr-3"],["nz-dropdown","","nzTrigger","click",3,"nzDropdownMenu"],["aria-hidden","true",1,"b2msf-ellipsis-v"],["step1Menu","nzDropdownMenu"],["nz-menu","","nzSelectable",""],["nz-menu-item",""],["target","_blank","rel","noopener noreferrer",3,"href"],["nz-menu-item","","awNextStep",""],[1,"col-12","col-md-6","order-2","order-md-1","left-col"],[4,"ngIf"],[1,"col-12","col-md-6","order-1","order-md-2","right-col"],[1,"right-col-image"],["src","assets/images/onboarding/2_onboarding_email.svg","alt","Email image"],["nz-dropdown","","nzTrigger","click",1,"b2m-btn","btn-link",3,"nzDropdownMenu"],["step2Menu","nzDropdownMenu"],["alt","Logo Bit2me",1,"my-4",3,"src"],[3,"confirmPhoneNumber"],["src","assets/images/onboarding/3_onboarding_phone.svg","alt","Phone image"],[3,"awCompletedStep"],[1,"col-12","offset-md-6","col-md-6","order-2","order-md-1","right-col","text-right","steps-info"],["step3Menu","nzDropdownMenu"],["nz-menu",""],[3,"href"],[1,"my-4"],[1,"b2m-btn","btn-solid","btn-block","text-white",3,"routerLink"],["src","assets/images/onboarding/4_onboarding_id.svg","alt","Identity process image"],["href","",3,"click"],["awNextStep","",1,"b2m-btn","btn-solid","btn-block"]],template:function(b,R){if(1&b&&(c.TgZ(0,"div",0),c.TgZ(1,"aw-wizard",1),c.TgZ(2,"aw-wizard-step",2),c.TgZ(3,"div",3),c.TgZ(4,"div",4),c.TgZ(5,"div",5),c.TgZ(6,"div",6),c.TgZ(7,"strong",7),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"a",8),c._UZ(11,"i",9),c.qZA(),c.TgZ(12,"nz-dropdown-menu",null,10),c.TgZ(14,"ul",11),c.TgZ(15,"li",12),c.TgZ(16,"a",13),c.ALo(17,"translate"),c._uU(18),c.ALo(19,"translate"),c.qZA(),c.qZA(),c.TgZ(20,"li",14),c._uU(21),c.ALo(22,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(23,"div",4),c.TgZ(24,"div",15),c.YNc(25,q,17,14,"div",16),c.YNc(26,N,8,7,"div",16),c.qZA(),c.TgZ(27,"div",17),c.TgZ(28,"div",18),c._UZ(29,"img",19),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(30,"aw-wizard-step",2),c.TgZ(31,"div",3),c.TgZ(32,"div",4),c.TgZ(33,"div",5),c.TgZ(34,"div",6),c.TgZ(35,"strong",7),c._uU(36),c.ALo(37,"translate"),c.qZA(),c.TgZ(38,"button",20),c._UZ(39,"i",9),c.qZA(),c.TgZ(40,"nz-dropdown-menu",null,21),c.TgZ(42,"ul",11),c.TgZ(43,"li",12),c.TgZ(44,"a",13),c.ALo(45,"translate"),c._uU(46),c.ALo(47,"translate"),c.qZA(),c.qZA(),c.TgZ(48,"li",14),c._uU(49),c.ALo(50,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(51,"div",4),c.TgZ(52,"div",15),c.TgZ(53,"div"),c._UZ(54,"img",22),c.TgZ(55,"h1"),c._uU(56),c.ALo(57,"translate"),c.qZA(),c.TgZ(58,"bngx-add-phone-number",23),c.NdJ("confirmPhoneNumber",function(){return R.handleConfirmPhoneNumber()}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(59,"div",17),c.TgZ(60,"div",18),c._UZ(61,"img",24),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(62,"aw-wizard-step",25),c.TgZ(63,"div",3),c.TgZ(64,"div",4),c.TgZ(65,"div",26),c.TgZ(66,"div",6),c.TgZ(67,"strong",7),c._uU(68),c.ALo(69,"translate"),c.qZA(),c.TgZ(70,"button",20),c._UZ(71,"i",9),c.qZA(),c.TgZ(72,"nz-dropdown-menu",null,27),c.TgZ(74,"ul",28),c.TgZ(75,"li",12),c._uU(76),c.ALo(77,"translate"),c.qZA(),c.TgZ(78,"li",12),c.TgZ(79,"a",29),c._uU(80),c.ALo(81,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(82,"div",4),c.TgZ(83,"div",15),c.TgZ(84,"div"),c._UZ(85,"img",22),c.TgZ(86,"h1"),c._uU(87),c.ALo(88,"translate"),c.qZA(),c.TgZ(89,"p",30),c._uU(90),c.ALo(91,"translate"),c.qZA(),c.TgZ(92,"a",31),c._uU(93),c.ALo(94,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(95,"div",17),c.TgZ(96,"div",18),c._UZ(97,"img",32),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&b){const V=c.MAs(13),z=c.MAs(41),de=c.MAs(73);c.xp6(1),c.Q6J("disableNavigationBar",!0),c.xp6(1),c.Q6J("awCompletedStep",R.isEmailVerified)("canEnter",R.canEnterStep1),c.xp6(6),c.Oqu(c.lcZ(9,30,"ONBOARDING.STEP_1.STEP_INFO")),c.xp6(2),c.Q6J("nzDropdownMenu",V),c.xp6(6),c.s9C("href",c.lcZ(17,32,"ONBOARDING.HELP_LINK"),c.LSH),c.xp6(2),c.hij("",c.lcZ(19,34,"ONBOARDING.HELP")," "),c.xp6(3),c.Oqu(c.lcZ(22,36,"ONBOARDING.SKIP_STEP")),c.xp6(4),c.Q6J("ngIf",!R.isEmailVerified),c.xp6(1),c.Q6J("ngIf",R.isEmailVerified),c.xp6(4),c.Q6J("awCompletedStep",R.isPhoneVerified)("canEnter",!R.isPhoneVerified),c.xp6(6),c.Oqu(c.lcZ(37,38,"ONBOARDING.STEP_2.STEP_INFO")),c.xp6(2),c.Q6J("nzDropdownMenu",z),c.xp6(6),c.s9C("href",c.lcZ(45,40,"ONBOARDING.HELP_LINK"),c.LSH),c.xp6(2),c.hij("",c.lcZ(47,42,"ONBOARDING.HELP")," "),c.xp6(3),c.Oqu(c.lcZ(50,44,"ONBOARDING.SKIP_STEP")),c.xp6(5),c.Q6J("src",R.urlService.getAssetUrl("images/logo-bit2me-blue.svg"),c.LSH),c.xp6(2),c.Oqu(c.lcZ(57,46,"ONBOARDING.STEP_2.LINK_PHONE")),c.xp6(6),c.Q6J("awCompletedStep",R.isIdentityVerified),c.xp6(6),c.hij(" ",c.lcZ(69,48,"ONBOARDING.STEP_3.STEP_INFO"),""),c.xp6(2),c.Q6J("nzDropdownMenu",de),c.xp6(6),c.Oqu(c.lcZ(77,50,"ONBOARDING.HELP")),c.xp6(3),c.Q6J("href",R.urlService.service("wallet"),c.LSH),c.xp6(1),c.hij(" ",c.lcZ(81,52,"ONBOARDING.SKIP_STEP")," "),c.xp6(5),c.Q6J("src",R.urlService.getAssetUrl("images/logo-bit2me-blue.svg"),c.LSH),c.xp6(2),c.Oqu(c.lcZ(88,54,"ONBOARDING.STEP_3.TITLE")),c.xp6(3),c.Oqu(c.lcZ(91,56,"ONBOARDING.LINK_IDENTITY.TEXT")),c.xp6(2),c.Q6J("routerLink",c.DdM(60,y)),c.xp6(1),c.Oqu(c.lcZ(94,58,"ONBOARDING.STEP_3.LINK_NOW"))}},directives:[E.Pl,E.GZ,E.fs,e.Ws,e.cm,e.RR,n.wO,n.r9,E.j,T.O5,t.YwO,g.yS],pipes:[H.X$],styles:[".b2m-onboarding-page.b2m-step-process-wrapper{position:relative;background-color:#fff;width:calc(100% - 30px);max-width:1140px;border-radius:10px;margin:0 15px}@media (max-width: 767px){.b2m-onboarding-page.b2m-step-process-wrapper{min-height:100vh}}.b2m-onboarding-page.b2m-step-process-wrapper .left-col{padding:3rem}.b2m-onboarding-page.b2m-step-process-wrapper .left-col h1{color:#0f335b;font-weight:bold}.b2m-onboarding-page.b2m-step-process-wrapper .left-col img{width:180px}.b2m-onboarding-page.b2m-step-process-wrapper .right-col{background-color:#f6f8fb;border-radius:0 10px 10px 0;padding:3rem}.b2m-onboarding-page.b2m-step-process-wrapper .right-col .right-col-image{display:flex;align-items:center;justify-content:center;vertical-align:middle;height:100%}.b2m-onboarding-page.b2m-step-process-wrapper .steps-info{font-size:14px;padding:1rem 3rem}.b2m-onboarding-page.b2m-step-process-wrapper .steps-info i{color:#91adcc}.b2m-onboarding-page.b2m-step-process-wrapper .steps-info .step-header{position:relative;float:right}.b2m-onboarding-page.b2m-step-process-wrapper aw-wizard-navigation-bar{background-color:#000;display:none}@media (max-width: 768px){.b2m-onboarding-page.b2m-step-process-wrapper{border-radius:0!important}.b2m-onboarding-page.b2m-step-process-wrapper .right-col{border-radius:0!important}}@media (max-width: 575px){.b2m-onboarding-page.b2m-step-process-wrapper .right-col{padding-bottom:0;padding-top:0}.b2m-onboarding-page.b2m-step-process-wrapper .right-col .right-col-image img{height:100%;width:60%}}\n"],encapsulation:2}),L})()}];let w=(()=>{class L{}return L.\u0275fac=function(b){return new(b||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[[T.ez,g.Bz.forChild(G),t.Rbs.forChild(),m.v],g.Bz]}),L})(),$=(()=>{class L{}return L.\u0275fac=function(b){return new(b||L)},L.\u0275mod=c.oAB({type:L}),L.\u0275inj=c.cJS({imports:[[T.ez,t.Rbs.forChild(),m.v,w,_.U8,e.b1]]}),L})()},91031:(X,J,f)=>{"use strict";f.d(J,{$:()=>q});var T=f(1707),t=f(72923),_=f(66244),g=f.n(_),m=f(2316),E=f(70325),U=f(36868),c=f(54364);function H(N,y){if(1&N&&(m.TgZ(0,"ng-option",18),m._uU(1),m.ALo(2,"titlecase"),m.qZA()),2&N){const M=y.$implicit,G=m.oxw();m.Q6J("value",M),m.xp6(1),m.Oqu(m.lcZ(2,2,G.languageNames[M]))}}function e(N,y){if(1&N&&m._uU(0),2&N){const M=y.item;m.AsE(" ",null==M?null:M.name," (",null==M?null:M.symbol,") ")}}function n(N,y){if(1&N&&m._uU(0),2&N){const M=y.item;m.AsE(" ",null==M?null:M.name," (",null==M?null:M.symbol,") ")}}let q=(()=>{class N{constructor(M,G,w,$,L,Q,b,R,V){this.formBuilder=M,this.accountService=G,this.notificationService=w,this.currentUserStore=$,this.localeService=L,this.liveCurrencyService=Q,this.assetsService=b,this.pocketService=R,this.translate=V}ngOnInit(){this.initTimezones(),this.initAccount(),this.availableLanguages=this.translate.langs,this.languageNames=t.eec.getLanguageNames(this.translate.currentLang),this.localeService.onLangChange.subscribe(()=>{this.translateLanguages(),this.getAvailableFiatCurrencies()}),this.getAvailableFiatCurrencies()}getAvailableFiatCurrencies(){this.availableCurrencies=this.assetsService.getFiatAssetsByLang(this.translate.currentLang)}initTimezones(){const M=g().raw.timezones,G=Object.keys(M).reduce((w,$)=>{const L=M[$].name.replace("_"," ");return M[$].label=`${M[$].offsetStr} ${L}`,w.push(M[$]),w},[]);G.sort((w,$)=>w.utcOffset===$.utcOffset?0:w.utcOffset>$.utcOffset?-1:1),this.availableTimeZones=G}translateLanguages(){this.languageNames=t.eec.getLanguageNames(this.translate.currentLang)}initAccount(){this.buildForm(),this.currentUserStore.userSubject.subscribe(M=>{this.account=M.account,this.setCurrentAccountPreferences()})}setCurrentAccountPreferences(){this.account&&this.account.profile&&this.generalPreferencesForm.patchValue(this.account.profile)}orderTimezonesByOffset(M,G){return M.value.utcOffset<G.value.utcOffset?M.value.utcOffset:null}buildForm(){this.generalPreferencesForm=this.formBuilder.group({langCode:["",[T.kI.required]],currencyCode:["",[T.kI.required]],timeZone:["",[T.kI.required]]})}submitPreferences(){this.submitting=!0;const M={profile:this.generalPreferencesForm.value};this.accountService.update(M).subscribe(()=>{this.submitting=!1,this.currentUserStore.refresh().subscribe(()=>{this.liveCurrencyService.loadCurrencyRates().subscribe(()=>{this.pocketService.refreshPockets().then()})}),this.localeService.setLocale(M.profile.langCode),this.notificationService.success(this.translate.instant("TOAST.SAVE.SUCCESS"))},()=>{this.submitting=!1})}searchByNameAndSymbol(M,G){if(!G.name||!G.symbol)return null;const w=M.toLocaleLowerCase();return G.name.toLocaleLowerCase().indexOf(w)>-1||G.symbol.toLocaleLowerCase().indexOf(w)>-1}}return N.\u0275fac=function(M){return new(M||N)(m.Y36(T.qu),m.Y36(t.BRM),m.Y36(t.TFo),m.Y36(t.Dk$),m.Y36(t.OLO),m.Y36(t.dLj),m.Y36(t.zcL),m.Y36(t.xHo),m.Y36(E.sK))},N.\u0275cmp=m.Xpm({type:N,selectors:[["ng-component"]],decls:36,vars:37,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"row",3,"formGroup"],[1,"col-12","col-sm-6","col-md-6","col-lg-6"],[1,"form-group"],["for","language",1,"active"],["formControlName","langCode",1,"b2m-select",3,"placeholder","clearable","searchable"],[3,"value",4,"ngFor","ngForOf"],["formControlName","currencyCode","bindLabel","name","bindValue","symbol",1,"b2m-select",3,"searchable","clearable","placeholder","items","searchFn"],["ng-label-tmp",""],["ng-option-tmp",""],["formControlName","timeZone","bindLabel","label","bindValue","name",1,"b2m-select","timezone-select",3,"searchable","clearable","placeholder","items"],[1,"card-page-footer","text-right"],[1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled","click"],[3,"value"]],template:function(M,G){1&M&&(m.TgZ(0,"div",0),m.TgZ(1,"div",1),m.TgZ(2,"div",2),m.TgZ(3,"div",3),m.TgZ(4,"h2",4),m._uU(5),m.ALo(6,"translate"),m.qZA(),m.qZA(),m.TgZ(7,"div",5),m.TgZ(8,"form",6),m.TgZ(9,"div",7),m.TgZ(10,"fieldset",8),m.TgZ(11,"label",9),m._uU(12),m.ALo(13,"translate"),m.qZA(),m.TgZ(14,"ng-select",10),m.ALo(15,"translate"),m.YNc(16,H,3,4,"ng-option",11),m.qZA(),m.qZA(),m.qZA(),m.TgZ(17,"div",7),m.TgZ(18,"fieldset",8),m.TgZ(19,"label"),m._uU(20),m.ALo(21,"translate"),m.qZA(),m.TgZ(22,"ng-select",12),m.ALo(23,"translate"),m.YNc(24,e,1,2,"ng-template",13),m.YNc(25,n,1,2,"ng-template",14),m.qZA(),m.qZA(),m.TgZ(26,"fieldset",8),m.TgZ(27,"label"),m._uU(28),m.ALo(29,"translate"),m.qZA(),m._UZ(30,"ng-select",15),m.ALo(31,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.TgZ(32,"div",16),m.TgZ(33,"button",17),m.NdJ("click",function(){return G.submitPreferences()}),m._uU(34),m.ALo(35,"translate"),m.qZA(),m.qZA(),m.qZA(),m.qZA(),m.qZA()),2&M&&(m.xp6(5),m.Oqu(m.lcZ(6,21,"GENERAL_PREFERENCES_PAGE.TITLE")),m.xp6(3),m.Q6J("formGroup",G.generalPreferencesForm),m.xp6(4),m.Oqu(m.lcZ(13,23,"FORM.LANGUAGE_SELECT.LABEL")),m.xp6(2),m.Q6J("placeholder",m.lcZ(15,25,"FORM.LANGUAGE_SELECT.PLACEHOLDER"))("clearable",!1)("searchable",!1),m.xp6(2),m.Q6J("ngForOf",G.availableLanguages),m.xp6(4),m.Oqu(m.lcZ(21,27,"FORM.CURRENCY_SELECT.LABEL")),m.xp6(2),m.Q6J("searchable",!0)("clearable",!1)("placeholder",m.lcZ(23,29,"FORM.CURRENCY_SELECT.LABEL"))("items",G.availableCurrencies)("searchFn",G.searchByNameAndSymbol),m.xp6(6),m.Oqu(m.lcZ(29,31,"FORM.TIMEZONE_SELECT.LABEL")),m.xp6(2),m.Q6J("searchable",!0)("clearable",!1)("placeholder",m.lcZ(31,33,"FORM.TIMEZONE_SELECT.LABEL"))("items",G.availableTimeZones),m.xp6(3),m.Q6J("bngxLoadingLayer",G.submitting)("disabled",G.submitting),m.xp6(1),m.hij(" ",m.lcZ(35,35,"BUTTONS.SAVE")," "))},directives:[T._Y,T.JL,T.sg,U.w9,T.JJ,T.u,c.sg,U.bb,U.Z2,t.gO3,U.xv],pipes:[E.X$,c.rS],styles:[".card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}@media (max-width: 992px){.card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:25px;padding-bottom:25px}}.timezone-select[_ngcontent-%COMP%]  .ng-dropdown-panel-items{max-height:180px}@media (max-width: 992px){.timezone-select[_ngcontent-%COMP%]  .ng-dropdown-panel-items{max-height:130px}}"]}),N})()},39152:(X,J,f)=>{"use strict";f.d(J,{x:()=>$});var T=f(36592),t=f(79441),_=f(53882),g=f(2316),m=f(72923),E=f(16320),U=f(54364),c=f(30119),H=f(70325);function e(L,Q){if(1&L&&(g.TgZ(0,"div",12),g._UZ(1,"img",13),g.ALo(2,"translate"),g.TgZ(3,"p",14),g.TgZ(4,"strong"),g._uU(5),g.ALo(6,"translate"),g.qZA(),g.qZA(),g.qZA()),2&L){const b=g.oxw();g.xp6(1),g.s9C("alt",g.lcZ(2,3,"IDENTITY_CAMERA_PAGE.NO_PICTURE")),g.Q6J("width",b.width),g.xp6(4),g.Oqu(g.lcZ(6,5,"IDENTITY_CAMERA_PAGE.NO_PICTURE"))}}function n(L,Q){if(1&L){const b=g.EpF();g.TgZ(0,"button",15),g.NdJ("click",function(){return g.CHM(b),g.oxw().triggerPhoto()}),g.TgZ(1,"label"),g._UZ(2,"i",16),g.TgZ(3,"input",17),g.NdJ("change",function(V){return g.CHM(b),g.oxw().onFileSelected(V)}),g.qZA(),g.qZA(),g.qZA()}if(2&L){const b=g.oxw();g.xp6(3),g.Q6J("accept",b.acceptImageTypes)}}function q(L,Q){if(1&L){const b=g.EpF();g.TgZ(0,"button",18),g.NdJ("click",function(){return g.CHM(b),g.oxw().savePhoto()}),g._UZ(1,"i",19),g.qZA()}}function N(L,Q){if(1&L){const b=g.EpF();g.TgZ(0,"button",20),g.NdJ("click",function(){return g.CHM(b),g.oxw().retakePhoto()}),g._UZ(1,"i",21),g.qZA()}}function y(L,Q){if(1&L&&g._UZ(0,"div",22),2&L){const b=g.oxw();g.Udp("background-image","url("+b.webcamImage.imageAsDataUrl+")")}}function M(L,Q){1&L&&(g.TgZ(0,"div",23),g.TgZ(1,"div",24),g.TgZ(2,"h4",25),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"div",26),g.TgZ(6,"p"),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&L&&(g.xp6(3),g.Oqu(g.lcZ(4,2,"IDENTITY_CAMERA_PAGE.UPLOAD_ERROR")),g.xp6(4),g.Oqu(g.lcZ(8,4,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED_ERROR")))}function G(L,Q){1&L&&(g.TgZ(0,"div",27),g.TgZ(1,"div",28),g.TgZ(2,"h4",25),g._uU(3),g.ALo(4,"translate"),g.qZA(),g.TgZ(5,"div",26),g.TgZ(6,"p"),g._uU(7),g.ALo(8,"translate"),g.qZA(),g.qZA(),g.qZA(),g.qZA()),2&L&&(g.xp6(3),g.Oqu(g.lcZ(4,2,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED")),g.xp6(4),g.Oqu(g.lcZ(8,4,"IDENTITY_CAMERA_PAGE.PICTURE_UPLOADED_SUCCESSFULLY")))}const w=function(L){return{validate:L}};let $=(()=>{class L{constructor(b,R,V,z){this.accountService=b,this.activatedRoute=R,this.urlService=V,this.logger=z,this.trigger=new t.xQ,this.availableDevices=[],this.switchCamera=new t.xQ,this.videoOptions={aspectRatio:1},this.deviceSelectedPosition=0,this.acceptImageTypes=".png,.jpg,.jpeg",this.uploading=!1}ngOnInit(){this.token=this.activatedRoute.snapshot.params.token,this.type=this.activatedRoute.snapshot.queryParams.type,this.onResize()}onResize(b){const R=b?b.target:window;this.width=R.innerWidth,this.height=R.innerHeight}triggerPhoto(){this.trigger.next()}get triggerObservable(){return this.trigger.asObservable()}handleImage(b){this.webcamImage=b}savePhoto(){const b=new FormData;this.uploadError=!1,fetch(this.webcamImage.imageAsDataUrl).then(R=>R.blob()).then(R=>{b.append("image",R);const V=new _.WM({Authorization:`Bearer ${this.token}`});this.uploading=!0,this.uploadSuccessfully=!1,this.accountService.uploadIdentityImage(b,this.type,{headers:V}).subscribe(()=>{this.uploadSuccessfully=!0,this.uploading=!1,this.uploadError=!1},()=>{this.uploadError=!0,this.uploading=!1})}).catch(()=>{this.uploadError=!0})}retakePhoto(){this.webcamImage=null}onFileSelected(b){const R=new FileReader;if(b.target.files&&b.target.files.length){const[V]=b.target.files;R.readAsDataURL(V),R.onload=()=>{this.webcamImage=new T.T8(R.result,V.type,V)}}}handleWebcamError(b){this.logger.log(b)}getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}}return L.\u0275fac=function(b){return new(b||L)(g.Y36(m.BRM),g.Y36(E.gz),g.Y36(m.iOJ),g.Y36(m.mQy))},L.\u0275cmp=g.Xpm({type:L,selectors:[["ng-component"]],hostBindings:function(b,R){1&b&&g.NdJ("resize",function(z){return R.onResize(z)},!1,g.Jf7)},decls:14,vars:17,consts:[["id","picture-not-found","class","element",4,"ngIf"],["id","help-button","target","_blank","rel","noopener noreferrer",3,"href","title"],["aria-hidden","true",1,"b2msf-question-circle-line","b2msf-2x"],["id","buttons-box",3,"ngClass"],["class","take-picture-button",3,"click",4,"ngIf"],["class","accept-picture-button",3,"click",4,"ngIf"],["class","discard-picture-button",3,"click",4,"ngIf"],["context","fullscreen",3,"bngxLoadingLayer"],["id","picture-taken-review","class","element",3,"backgroundImage",4,"ngIf"],["id","background",1,"element"],["id","error-alert",4,"ngIf"],["id","success-alert",4,"ngIf"],["id","picture-not-found",1,"element"],["src","../../../../assets/images/no-picture-camera-red-cross.svg",3,"width","alt"],[1,"picture-not-found-text","text-center"],[1,"take-picture-button",3,"click"],[1,"b2msf-camera-thin"],["type","file","ngFileSelect","",1,"d-none",3,"accept","change"],[1,"accept-picture-button",3,"click"],[1,"b2msf-check"],[1,"discard-picture-button",3,"click"],[1,"b2msf-times"],["id","picture-taken-review",1,"element"],["id","error-alert"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"alert-contents"],["id","success-alert"],["role","alert",1,"alert","alert-success"]],template:function(b,R){1&b&&(g.YNc(0,e,7,7,"div",0),g.TgZ(1,"a",1),g.ALo(2,"translate"),g.ALo(3,"translate"),g._UZ(4,"i",2),g.qZA(),g.TgZ(5,"div",3),g.YNc(6,n,4,1,"button",4),g.YNc(7,q,2,0,"button",5),g.YNc(8,N,2,0,"button",6),g.qZA(),g._UZ(9,"div",7),g.YNc(10,y,1,2,"div",8),g._UZ(11,"div",9),g.YNc(12,M,9,6,"div",10),g.YNc(13,G,9,6,"div",11)),2&b&&(g.Q6J("ngIf",!R.webcamImage),g.xp6(1),g.Q6J("href",g.lcZ(2,11,"PROFILE_IDENTITY_NEW_PAGE.UPLOAD_STEP.KNOWLEDGEBASE_LINK.HREF"),g.LSH)("title",g.lcZ(3,13,"PROFILE_IDENTITY_NEW_PAGE.UPLOAD_STEP.KNOWLEDGEBASE_LINK.TITLE")),g.xp6(4),g.Q6J("ngClass",g.VKq(15,w,R.webcamImage)),g.xp6(1),g.Q6J("ngIf",!R.webcamImage),g.xp6(1),g.Q6J("ngIf",R.webcamImage),g.xp6(1),g.Q6J("ngIf",R.webcamImage),g.xp6(1),g.Q6J("bngxLoadingLayer",R.uploading),g.xp6(1),g.Q6J("ngIf",R.webcamImage),g.xp6(2),g.Q6J("ngIf",R.uploadError),g.xp6(1),g.Q6J("ngIf",R.uploadSuccessfully))},directives:[U.O5,U.mk,m.gO3,c.qx],pipes:[H.X$],styles:[".element[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}#picture-not-found[_ngcontent-%COMP%]{z-index:2;text-align:center;padding-top:40px}#picture-not-found[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:90%}#webcam-view[_ngcontent-%COMP%]{display:inline-block;left:50%;width:auto;height:auto;max-height:100vw;transform:translate(-50%) translateY(-50%);z-index:2}@media (orientation: portrait){#webcam-view[_ngcontent-%COMP%]{top:40%}}@media (orientation: landscape){#webcam-view[_ngcontent-%COMP%]{top:50%}}#picture-taken-review[_ngcontent-%COMP%]{z-index:2;background-color:#fff;background-size:contain;background-position:center;background-repeat:no-repeat}#background[_ngcontent-%COMP%]{z-index:1;background-color:#fff}#error-alert[_ngcontent-%COMP%]{position:absolute;z-index:100;width:100vw;height:100vh;background-color:#000c}#error-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:10px;max-width:calc(100vw - 20px)}#success-alert[_ngcontent-%COMP%]{position:absolute;z-index:100;width:100vw;height:100vh;background-color:#000c}#success-alert[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:10px;max-width:calc(100vw - 20px)}#help-button[_ngcontent-%COMP%]{position:absolute;top:0;left:0;border-radius:50%;color:#044e97;background-color:#fff;width:48px;height:48px;z-index:2;border:0;padding:6px;margin:10px}#buttons-box[_ngcontent-%COMP%]{position:absolute;z-index:3}@media (orientation: portrait){#buttons-box[_ngcontent-%COMP%]{width:100vw;height:10vh;min-height:120px;bottom:0;left:0}}@media (orientation: landscape){#buttons-box[_ngcontent-%COMP%]{width:10vw;min-width:120px;height:100vh;top:0;right:0}}#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{position:absolute;border-radius:50%;text-align:center;transform:translate(-50%) translateY(-50%);border:0 none transparent;padding:0;transition:all ease .3s}#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{background-color:#fff;color:#044e97;width:40px;height:40px;line-height:40px;font-size:16px}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{width:100px;height:100px;background-color:#004f9a;border:10px solid #fff;color:#fff;line-height:80px;font-size:30px}#buttons-box[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%], #buttons-box[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{width:80px;height:80px;background-color:#004f9a;border:6px solid #fff;color:#fff;line-height:68px;font-size:24px}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font:inherit;line-height:inherit;margin:0}@media (orientation: portrait){#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:50%;left:25%}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{top:50%;left:50%}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:50%;left:75%}}@media (orientation: landscape){#buttons-box[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:25%;left:50%}#buttons-box[_ngcontent-%COMP%]   .take-picture-button[_ngcontent-%COMP%]{top:50%;left:50%}#buttons-box[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:75%;left:50%}}@media (orientation: portrait){#buttons-box.validate[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:50%;left:15%}#buttons-box.validate[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%]{top:50%;left:40%}#buttons-box.validate[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{top:50%;left:60%}#buttons-box.validate[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:50%;left:85%}}@media (orientation: landscape){#buttons-box.validate[_ngcontent-%COMP%]   .spin-camera-button[_ngcontent-%COMP%]{top:15%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .accept-picture-button[_ngcontent-%COMP%]{top:40%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .discard-picture-button[_ngcontent-%COMP%]{top:60%;left:50%}#buttons-box.validate[_ngcontent-%COMP%]   .upload-file-button[_ngcontent-%COMP%]{top:85%;left:50%}}"]}),L})()},76598:(X,J,f)=>{"use strict";f.d(J,{b:()=>n});var T=f(72923),t=f(79441),_=f(22663),g=f(2316),m=f(54364),E=f(70325);function U(q,N){1&q&&(g.TgZ(0,"h2",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&q&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TITLE")," "))}function c(q,N){1&q&&(g.TgZ(0,"h2",7),g._uU(1),g.ALo(2,"translate"),g.qZA()),2&q&&(g.xp6(1),g.hij(" ",g.lcZ(2,1,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TITLE")," "))}function H(q,N){1&q&&(g.TgZ(0,"div",8),g._UZ(1,"img",9),g.TgZ(2,"h5",10),g.TgZ(3,"strong"),g._uU(4),g.ALo(5,"translate"),g.qZA(),g.qZA(),g._UZ(6,"p",11),g.ALo(7,"translate"),g._UZ(8,"p",11),g.ALo(9,"translate"),g._UZ(10,"p",11),g.ALo(11,"translate"),g.qZA()),2&q&&(g.xp6(4),g.Oqu(g.lcZ(5,4,"IDENTITY_SUCCESS_PAGE.LOW_RISK.SUBTITLE")),g.xp6(2),g.Q6J("innerHTML",g.lcZ(7,6,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_1"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(9,8,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_2"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(11,10,"IDENTITY_SUCCESS_PAGE.LOW_RISK.TEXT_3"),g.oJD))}function e(q,N){1&q&&(g.TgZ(0,"div",12),g.TgZ(1,"div",13),g._UZ(2,"p",14),g.ALo(3,"translate"),g._UZ(4,"p",14),g.ALo(5,"translate"),g.qZA(),g.TgZ(6,"div",15),g.TgZ(7,"a",16),g.ALo(8,"translate"),g.TgZ(9,"button",17),g._uU(10),g.ALo(11,"translate"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(12,"div",18),g._UZ(13,"p",19),g.ALo(14,"translate"),g.TgZ(15,"small",20),g._uU(16),g.ALo(17,"translate"),g.qZA(),g.qZA(),g.qZA()),2&q&&(g.xp6(2),g.Q6J("innerHTML",g.lcZ(3,6,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_1"),g.oJD),g.xp6(2),g.Q6J("innerHTML",g.lcZ(5,8,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_2"),g.oJD),g.xp6(3),g.Q6J("href",g.lcZ(8,10,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.FORM_HREF"),g.LSH),g.xp6(3),g.hij(" ",g.lcZ(11,12,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_DOCUMENTATION_FORM_OPENED_LINK_TEXT")," "),g.xp6(3),g.Q6J("innerHTML",g.lcZ(14,14,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_HELP"),g.oJD),g.xp6(3),g.Oqu(g.lcZ(17,16,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.TEXT_3")))}let n=(()=>{class q{constructor(y,M,G){this.urlService=y,this.accountService=M,this.analyticService=G,this.destroy=new t.xQ}ngOnInit(){this.accountService.getIdentityStatus().pipe((0,_.R)(this.destroy)).subscribe(y=>{this.setUserRisk(y),this.sendIdentityProcessCompletedGTMEvent(y)})}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}setUserRisk(y){this.isHighRiskUser=!(y.risk.level!==T.Ftf.high||!y.error.includes("enhancedMeasuresNotReceived"))}sendIdentityProcessCompletedGTMEvent(y){y.status!==T.olx.error&&this.analyticService.pushLayer({event:"identity_process_completed"})}}return q.\u0275fac=function(y){return new(y||q)(g.Y36(T.iOJ),g.Y36(T.BRM),g.Y36(T.gv3))},q.\u0275cmp=g.Xpm({type:q,selectors:[["ng-component"]],decls:8,vars:4,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],["class","card-page-title",4,"ngIf"],[1,"card-page-inner"],["class","low-risk text-center",4,"ngIf"],["class","high-risk text-left",4,"ngIf"],[1,"card-page-title"],[1,"low-risk","text-center"],["src","../../../../assets/images/identity/illustration-send-info.svg"],[1,"mb-5","mt-5"],[1,"description",3,"innerHTML"],[1,"high-risk","text-left"],[1,"explanation"],[1,"mb-3",3,"innerHTML"],[1,"form-btn","w-100","text-center"],["target","_blank","rel","noopener noreferrer",1,"mb-3",3,"href"],[1,"b2m-btn","btn-solid"],[1,"additional-info"],[1,"mb-3","mt-3",3,"innerHTML"],[1,"mt-2"]],template:function(y,M){1&y&&(g.TgZ(0,"div",0),g.TgZ(1,"div",1),g.TgZ(2,"div",2),g.YNc(3,U,3,3,"h2",3),g.YNc(4,c,3,3,"h2",3),g.qZA(),g.TgZ(5,"div",4),g.YNc(6,H,12,12,"div",5),g.YNc(7,e,18,18,"div",6),g.qZA(),g.qZA(),g.qZA()),2&y&&(g.xp6(3),g.Q6J("ngIf",!M.isHighRiskUser),g.xp6(1),g.Q6J("ngIf",M.isHighRiskUser),g.xp6(2),g.Q6J("ngIf",!M.isHighRiskUser),g.xp6(1),g.Q6J("ngIf",M.isHighRiskUser))},directives:[m.O5],pipes:[E.X$],styles:["img[_ngcontent-%COMP%]{max-width:100%}@media (min-width: 576px){.description[_ngcontent-%COMP%]{padding:0 60px}img[_ngcontent-%COMP%]{max-width:70%}}"]}),q})()},53813:(X,J,f)=>{"use strict";f.r(J),f.d(J,{ProfileModule:()=>fi});var T=f(72923),t=f(36502),_=f(61928),g=f(28086),m=f(16320),E=f(54364),U=f(98636),c=f(33927),H=f(76491),e=f(2316),n=f(70325);function q(a,p){if(1&a&&(e.TgZ(0,"div",7),e._UZ(1,"img",8),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.Q6J("src",i.urlService.getAssetsUrl()+"/images/no-data.png",e.LSH),e.xp6(2),e.Oqu(e.lcZ(4,2,"CORE_UI.NOTIFICATIONS.PANEL.NO_NOTIFICATIONS"))}}function N(a,p){if(1&a&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"async"),e.ALo(3,"timeAgo"),e.qZA()),2&a){const i=e.oxw(2).$implicit;e.Q6J("title",i.time),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,i.time))," ")}}function y(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(Z){e.CHM(i);const S=e.oxw().$implicit;return e.oxw(2).handleClickLink(Z,S)}),e.TgZ(1,"div",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"div",17),e.TgZ(4,"div",18),e.TgZ(5,"h5",19),e._uU(6),e.qZA(),e._UZ(7,"p",20),e.qZA(),e.TgZ(8,"div",21),e.YNc(9,N,4,6,"p",22),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.s9C("target",r.checkIfNotificationDescriptionContainHref(i)?"_blank":"_self"),e.Q6J("title",r.getNotificationDescriptionWithoutHtml(i))("href",r.getHref(i),e.LSH),e.xp6(2),e.Q6J("ngClass",r.getNotificationIconClass(i,"b2msf-receive")),e.xp6(3),e.Q6J("title",r.getNotificationTitle(i)),e.xp6(1),e.hij(" ",r.getNotificationTitle(i)," "),e.xp6(1),e.Q6J("innerHTML",r.getNotificationDescription(i),e.oJD),e.xp6(2),e.Q6J("ngIf",i.time)}}function M(a,p){if(1&a&&(e.TgZ(0,"p",23),e._uU(1),e.ALo(2,"async"),e.ALo(3,"timeAgo"),e.qZA()),2&a){const i=e.oxw(2).$implicit;e.Q6J("title",i.time),e.xp6(1),e.hij(" ",e.lcZ(2,2,e.lcZ(3,4,i.time))," ")}}function G(a,p){if(1&a&&(e.TgZ(0,"a",24),e.TgZ(1,"div",15),e._UZ(2,"i",16),e.qZA(),e.TgZ(3,"div",17),e.TgZ(4,"div",18),e.TgZ(5,"h5",19),e._uU(6),e.qZA(),e._UZ(7,"p",20),e.qZA(),e.TgZ(8,"div",21),e.YNc(9,M,4,6,"p",22),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw().$implicit,r=e.oxw(2);e.Q6J("title",r.getNotificationDescription(i)),e.xp6(2),e.Q6J("ngClass",r.getNotificationIconClass(i)),e.xp6(3),e.Q6J("title",r.getNotificationTitle(i)),e.xp6(1),e.hij(" ",r.getNotificationTitle(i)," "),e.xp6(1),e.Q6J("innerHTML",r.getNotificationDescription(i),e.oJD),e.xp6(2),e.Q6J("ngIf",i.time)}}const w=function(a){return{active:a}};function $(a,p){if(1&a&&(e.TgZ(0,"li",11),e.YNc(1,y,10,8,"a",12),e.YNc(2,G,10,6,"a",13),e.qZA()),2&a){const i=p.$implicit,r=e.oxw(2);e.Q6J("ngClass",e.VKq(3,w,!i.read)),e.xp6(1),e.Q6J("ngIf",r.getHref(i)),e.xp6(1),e.Q6J("ngIf",!r.getHref(i))}}function L(a,p){if(1&a&&(e.TgZ(0,"ul",9),e.YNc(1,$,3,5,"li",10),e.qZA()),2&a){const i=p.ngIf;e.xp6(1),e.Q6J("ngForOf",i.data)}}let Q=(()=>{class a{constructor(i,r,Z,S,F,ne,re){this.notificationsService=i,this.translate=r,this.router=Z,this.cryptocurrencyPipe=S,this.urlService=F,this.environmentService=ne,this.notificationsWebSocketService=re,this.LIMIT=20,this.notificationsSubject$=new H.X({total:0,data:[]}),this.notifications={total:0,data:[]},this.notificationTypes=T.mv9,this.offset=0,this.regexToDetectLinks=/href=["'](.*?)["']/,this.regexToDetectHtml=/<[^>]*>/g}onWindowScroll(){window.innerHeight+window.scrollY>=document.body.offsetHeight&&this.notifications.data.length<this.notifications.total&&!this.loading&&(this.offset+=this.LIMIT,this.loadNotifications())}ngOnInit(){this.notificationsWebsocket$=this.notificationsWebSocketService.subject.pipe((0,U.b)(()=>{this.offset=0,this.loadNotifications()})),this.loadNotifications()}loadNotifications(){this.loading=!0,this.notificationsService.findAll(!0,this.LIMIT,this.offset).pipe((0,c.U)(({total:i,data:r})=>(this.notifications.total=i,this.notifications.data=[...this.notifications.data,...r],this.notifications))).subscribe(i=>{this.notificationsSubject$.next(i),this.loading=!1})}getNotificationLinkTitle(i){return i?`this.translate.instant('CORE_UI.NOTIFICATIONS.${i.type}.title', { meta: notification.meta }). ${this.getNotificationDescription(i)}`:null}getNotificationTitle(i){return i?this.translate.instant(`CORE_UI.NOTIFICATIONS.${i.type}.title`,{meta:i.meta}):null}getNotificationDescription(i){if(!i)return null;if("affiliate.activity"===i.type||"affiliate.error"===i.type||"affiliate.invoice"===i.type)return this.translate.instant(`CORE_UI.NOTIFICATIONS.${i.type}.description.${i.meta.action}`,i.meta);const r={amount:""};return i.meta&&i.meta.amount&&(r.amount=this.cryptocurrencyPipe.transform(i.meta.amount,i.meta.currency,!0)),this.translate.instant(`CORE_UI.NOTIFICATIONS.${i.type}.description`,r)}getNotificationDescriptionWithoutHtml(i){return this.getNotificationDescription(i).replace(this.regexToDetectHtml,"")}getNotificationDescriptionTitleAttribute(i){if(!i)return null;let r=this.translate.instant(`CORE_UI.NOTIFICATIONS.${i.type}.description`);return i.meta&&i.meta.amount&&(r+=this.cryptocurrencyPipe.transform(i.meta.amount,i.meta.currency,!0)),r}getNotificationIconClass(i,r=null){var Z,S;return i.type.includes("affiliate")?(null===(Z=this.notificationTypes["affiliate.subtype"][i.meta.action])||void 0===Z?void 0:Z.iconClass)||r:null===(S=this.notificationTypes[i.type])||void 0===S?void 0:S.iconClass}getHref(i){if(this.checkIfNotificationDescriptionContainHref(i))return this.getFirstHrefFromNotificationDescription(i);let r="";if(i.type.includes("wallet.trx")||i.type.includes("teller")){const Z=this.urlService.service("wallet");i.meta.transactionId&&(r=`${Z}activity/list/${i.meta.transactionId}`)}else if(i.type.includes("identity."))r=`${this.urlService.service("account")}profile/identity`;else if(i.type.includes("affiliate.")){if("payoutProcessed"===i.meta.action)return r=`${this.urlService.service("wallet")}/pockets/${i.meta.pocketId}`,r;r=`${this.urlService.service("account")}affiliates/links`}else(i.type.includes("wallet.promo")||i.type.includes("social.payment"))&&(r=`${this.urlService.service("wallet")}/pockets`);return r}handleClickLink(i,r){const Z=this.getHref(r);if(Z.includes("account")&&"account"!==this.environmentService.serviceName||Z.includes("wallet")&&"wallet"!==this.environmentService.serviceName||this.checkIfNotificationDescriptionContainHref(r))return;i.preventDefault();const S=Z.replace(/https?:\/\/[^/]+/i,"");this.router.navigate([S])}checkIfNotificationDescriptionContainHref(i){const r=this.getNotificationDescription(i);return this.regexToDetectHtml.test(r)&&this.regexToDetectLinks.test(r)}getFirstHrefFromNotificationDescription(i){const r=this.getNotificationDescription(i),Z=null==r?void 0:r.match(this.regexToDetectLinks);return Z&&Z.length>1?Z[1]:""}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.TFo),e.Y36(n.sK),e.Y36(m.F0),e.Y36(T.v$D),e.Y36(T.iOJ),e.Y36(T.L$R),e.Y36(T.aVn))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],hostBindings:function(i,r){1&i&&e.NdJ("scroll",function(S){return r.onWindowScroll(S)},!1,e.Jf7)("scroll",function(S){return r.onWindowScroll(S)},!1,e.evT)},decls:10,vars:8,consts:[[1,"card-page-outer","card-page-no-padding"],["context","fullcomponent",1,"card-page-contents","wide-content",3,"bngxLoadingLayer"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],["class","empty",4,"ngIf"],["class","notifications-list",4,"ngIf"],[1,"empty"],["alt","",1,"no-data-image",3,"src"],[1,"notifications-list"],["class","notification-element",3,"ngClass",4,"ngFor","ngForOf"],[1,"notification-element",3,"ngClass"],["href","#",3,"title","href","target","click",4,"ngIf"],["href","#",3,"title",4,"ngIf"],["href","#",3,"title","href","target","click"],[1,"icon"],["aria-hidden","true",3,"ngClass"],[1,"list-contents","row"],[1,"col-9"],[1,"font-weight-bold",3,"title"],[1,"notification-description","font-weight-light",3,"innerHTML"],[1,"col-3","pl-0"],["class","date",3,"title",4,"ngIf"],[1,"date",3,"title"],["href","#",3,"title"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,q,5,4,"div",5),e.YNc(8,L,2,1,"ul",6),e.ALo(9,"async"),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(1),e.Q6J("bngxLoadingLayer",r.loading),e.xp6(3),e.Oqu(e.lcZ(5,4,"NOTIFICATIONS_PAGE.ALL_NOTIFICATIONS")),e.xp6(3),e.Q6J("ngIf",0===r.notifications.total),e.xp6(1),e.Q6J("ngIf",e.lcZ(9,6,r.notificationsSubject$)))},directives:[T.gO3,E.O5,E.sg,E.mk],pipes:[n.X$,E.Ov,T.eGd],styles:['@charset "UTF-8";.empty[_ngcontent-%COMP%]{text-align:center}.empty[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-width:0;max-width:100%}.notifications-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%]{transition:all .3s ease}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{display:block;padding:20px 20px 20px 50px;color:#000;position:relative;text-decoration:none!important;cursor:pointer}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover, .notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:active{background-color:#fafafa}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:focus-visible{z-index:1}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:25px;transform:translate(-50%) translateY(-50%)}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5em}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:20px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%;height:20px}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   .notification-description[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .contents-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;line-height:18px}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .date-col[_ngcontent-%COMP%]{display:flex;align-items:center}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]   .list-contents\\a0[_ngcontent-%COMP%]   .date-col[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{color:#999;font-size:.8em;-webkit-hyphens:auto;hyphens:auto}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%]:hover{z-index:1!important}.notifications-list[_ngcontent-%COMP%]   .notification-element[_ngcontent-%COMP%] + .notification-element[_ngcontent-%COMP%]{border-top:1px solid #e8edf4!important}  .loading-fullcomponent{z-index:1!important}']}),a})();var b=f(53882),R=f(9170),V=f(44149),z=f(76249);let de=(()=>{class a{constructor(i){this.nzModalRef=i,this.imageChangedEvent="",this.croppedImage=""}fileChangeEvent(i){this.imageChangedEvent=i}imageCropped(i){this.croppedImage=i.base64,this.croppedEvent=i}crop(){this.imageCropper.crop(),this.nzModalRef.close(this.croppedEvent)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(i,r){if(1&i&&e.Gf(_.a,5),2&i){let Z;e.iGM(Z=e.CRH())&&(r.imageCropper=Z.first)}},decls:22,vars:14,consts:[["id","popup-camera-viewer"],[1,"modal-header","popup-header"],[1,"modal-title"],[1,"modal-body"],[1,"popup-contents"],["format","png",3,"imageFileChanged","imageChangedEvent","maintainAspectRatio","aspectRatio","resizeToWidth","imageCropped"],[1,"cropper-toolbar","clearfix"],[1,"cropper-btn","float-right",3,"title","click"],["aria-hidden","true",1,"b2msf-reload"],[1,"modal-footer","d-block"],[1,"row"],[1,"col-12","col-md-4","offset-md-8"],[1,"text-right","py-2"],["autofocus","",1,"b2m-btn","btn-solid","my-0",3,"click"],["aria-hidden","true",1,"b2msf-check"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3",2),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.TgZ(5,"div",3),e.TgZ(6,"div",4),e.TgZ(7,"image-cropper",5),e.NdJ("imageCropped",function(S){return r.imageCropped(S)}),e.qZA(),e.TgZ(8,"div",6),e.TgZ(9,"button",7),e.NdJ("click",function(){return r.imageCropper.rotateRight()}),e.ALo(10,"translate"),e._UZ(11,"i",8),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",9),e.TgZ(13,"div",10),e.TgZ(14,"div",11),e.TgZ(15,"div",12),e.TgZ(16,"button",13),e.NdJ("click",function(){return r.crop()}),e._UZ(17,"i",14),e._uU(18,"\xa0 "),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(3),e.Oqu(e.lcZ(4,8,"IMAGE_CROPPER_DIALOG.TITLE")),e.xp6(4),e.Q6J("imageFileChanged",r.image)("imageChangedEvent",r.imageChangedEvent)("maintainAspectRatio",!0)("aspectRatio",1)("resizeToWidth",400),e.xp6(2),e.s9C("title",e.lcZ(10,10,"IMAGE_CROPPER_DIALOG.BUTTON_ROTATE")),e.xp6(11),e.Oqu(e.lcZ(21,12,"BUTTONS.APPLY")))},directives:[_.a,T.Uqp],pipes:[n.X$],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#000;padding:0;height:100vh;max-height:calc(100vh - 4.6rem - 55px - 65px);position:relative}image-cropper[_ngcontent-%COMP%]{text-align:center;padding:0;width:auto;height:auto;max-width:80%;max-height:80%;min-width:60%;transform:translate(-50%) translateY(-50%);position:absolute;top:50%;left:50%}.cropper-toolbar[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0;width:100%;padding:0 10px}.cropper-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px;border:0;padding:0;background-color:transparent;color:#fff}"]}),a})();var I=f(1707),Ae=f(83720),he=f(80639),Ze=f(20088);function Oe(a,p){1&a&&(e.TgZ(0,"div",18),e._UZ(1,"i",19),e.qZA())}function Ee(a,p){1&a&&(e.TgZ(0,"div",20),e._UZ(1,"i",21),e.qZA())}function Ve(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_ALIAS")," "))}function x(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function ue(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")))}const Le=function(a){return{value:a}};function He(a,p){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",e.VKq(4,Le,i.validations.minLength))," ")}}function ze(a,p){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,Le,i.validations.maxLength))," ")}}const Be=function(a){return{submitted:a}};let Me=(()=>{class a{constructor(i,r,Z){this.nzModalRef=i,this.formBuilder=r,this.accountService=Z,this.userTyping=!1,this.validAlias=!0,this.submitting=!1,this.validations={pattern:new RegExp(/^[0-9a-z-_]*$/),minLength:2,maxLength:20}}ngOnInit(){this.aliasForm=this.formBuilder.group({alias:["",[I.kI.required,I.kI.pattern(this.validations.pattern),I.kI.minLength(this.validations.minLength),I.kI.maxLength(this.validations.maxLength)]]}),this.aliasForm.get("alias").valueChanges.pipe((0,Ae.x)(),(0,c.U)(i=>i.replace(/[^0-9a-zA-Z-_]+/g,"")),(0,U.b)(i=>{this.userTyping=!0,i&&this.aliasForm.get("alias").setValue(i.toLowerCase())}),(0,he.b)(1e3)).subscribe(i=>{this.userTyping=!1,i&&this.handleChangeUsername()})}handleChangeUsername(){this.aliasForm.invalid||(this.submitting=!0,this.accountService.checkAlias(this.aliasForm.value.alias).pipe((0,Ze.P)()).subscribe(i=>{i.available||this.aliasForm.controls.alias.setErrors({existingAlias:!0}),this.submitting=!1},()=>{this.submitting=!1}))}onSubmit(){if(this.aliasForm.invalid)return;const i=this.aliasForm.value;this.submitting=!0,this.accountService.update(i).subscribe(r=>{this.submitting=!1,this.nzModalRef.close(r)},()=>{this.submitting=!1})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf),e.Y36(I.qu),e.Y36(T.BRM))},a.\u0275cmp=e.Xpm({type:a,selectors:[["b2m-dialog-create-username"]],decls:32,vars:29,consts:[[1,"modal-header"],[1,"modal-title"],[1,"login-form",3,"formGroup","ngClass","ngSubmit"],["aliasFormTemplate","ngForm"],[1,"modal-body"],[1,"d-none"],["href","#","target","_blank","rel","noopener noreferrer","title",""],[1,"form-group"],[1,"input-group"],[1,"input-addon","left"],[1,"b2msf-at"],["type","text","autofocus","","name","alias","id","alias","formControlName","alias",3,"placeholder","maxlength"],["class","input-addon right valid",4,"ngIf"],["class","input-addon right not-valid","style","display: block",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"modal-footer"],[1,"b2m-btn","btn-solid",3,"bngxLoadingLayer","disabled","click"],[1,"input-addon","right","valid"],[1,"b2msf-check"],[1,"input-addon","right","not-valid",2,"display","block"],[1,"b2msf-times"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(6,"div",4),e.TgZ(7,"p"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"p",5),e.TgZ(11,"a",6),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.TgZ(14,"fieldset",7),e.TgZ(15,"div",8),e.TgZ(16,"div",9),e._UZ(17,"i",10),e.qZA(),e._UZ(18,"input",11),e.ALo(19,"translate"),e.YNc(20,Oe,2,0,"div",12),e.YNc(21,Ee,2,0,"div",13),e.qZA(),e.TgZ(22,"div",14),e.YNc(23,Ve,3,3,"div",15),e.YNc(24,x,3,3,"div",15),e.YNc(25,ue,3,3,"div",15),e.YNc(26,He,3,6,"div",15),e.YNc(27,ze,3,6,"div",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",16),e.TgZ(29,"button",17),e.NdJ("click",function(){return r.onSubmit()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.qZA(),e.qZA()),2&i){const Z=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,17,"CREATE_USERNAME_DIALOG.TITLE")),e.xp6(2),e.Q6J("formGroup",r.aliasForm)("ngClass",e.VKq(27,Be,Z.submitted)),e.xp6(4),e.Oqu(e.lcZ(9,19,"CREATE_USERNAME_DIALOG.USERNAME_HAS_TO_BE_UNIQUE")),e.xp6(4),e.Oqu(e.lcZ(13,21,"BUTTONS.MORE_INFO")),e.xp6(6),e.Q6J("placeholder",e.lcZ(19,23,"CREATE_USERNAME_DIALOG.USERNAME_LABEL"))("maxlength",r.validations.maxLength),e.xp6(2),e.Q6J("ngIf",r.aliasForm.valid&&!(null!=r.aliasForm.get("alias").errors&&r.aliasForm.get("alias").errors.existingAlias)&&!r.userTyping&&!r.submitting),e.xp6(1),e.Q6J("ngIf",(null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.existingAlias)&&!r.userTyping&&!r.submitting),e.xp6(2),e.Q6J("ngIf",null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.existingAlias),e.xp6(1),e.Q6J("ngIf",null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.pattern),e.xp6(1),e.Q6J("ngIf",null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.minlength),e.xp6(1),e.Q6J("ngIf",null==r.aliasForm.get("alias").errors?null:r.aliasForm.get("alias").errors.maxlength),e.xp6(2),e.Q6J("bngxLoadingLayer",r.submitting)("disabled",r.submitting),e.xp6(1),e.hij(" ",e.lcZ(31,25,"BUTTONS.CREATE")," ")}},directives:[I._Y,I.JL,I.sg,E.mk,I.Fj,T.Uqp,I.JJ,I.u,I.nD,E.O5,T.gO3],pipes:[n.X$],styles:["fieldset[_ngcontent-%COMP%]{margin-top:30px}.valid[_ngcontent-%COMP%]{color:#28af12}.not-valid[_ngcontent-%COMP%]{color:#dc0006}"]}),a})();var le=f(65861);const Re=["wizard"];function ye(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.EMAIL_INPUT.INVALID_ERROR")," "))}function je(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function We(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.CURRENT_SAME_EMAIL")," "))}const De=function(a){return{value:a}};function qe(a,p){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",e.VKq(4,De,i.validations.minLength))," ")}}function $e(a,p){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,De,i.validations.maxLength))," ")}}const Ke=function(){return{value:"Email"}};function Xe(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.ALREADY_EXISTS",e.DdM(4,Ke))," "))}function et(a,p){1&a&&e._UZ(0,"i",28)}function tt(a,p){1&a&&e._UZ(0,"i",29)}function nt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD_CHARACTERS")," "))}function Ne(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function it(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.WRONG_PASSWORD")," "))}const ce=function(a){return{submitted:a}};let Fe=(()=>{class a{constructor(i,r,Z,S){this.nzModalRef=i,this.formBuilder=r,this.accountService=Z,this.currentUserStore=S,this.validations={minLength:2,maxLength:50},this.emailAlreadyExists=!1}ngOnInit(){this.account=this.currentUserStore.getCurrentUser().account,this.emailForm=this.formBuilder.group({email:["",[I.kI.required,I.kI.minLength(this.validations.minLength),I.kI.maxLength(this.validations.maxLength),I.kI.pattern(/[^ @]*@[^ @]*/)]],password:["",[I.kI.required,I.kI.minLength(6),I.kI.pattern(/^\S*$/)]]})}onSubmit(){this.emailForm.invalid||this.accountService.verifyEmail(this.emailForm.value).subscribe(()=>{this.wizard.goToNextStep(),this.emailForm.controls.email.setErrors({alreadyExists:null}),this.emailForm.controls.password.setErrors({wrongPassword:null}),this.emailForm.updateValueAndValidity()},r=>{409===r.error.statusCode&&this.emailForm.controls.email.setErrors({alreadyExists:!0}),401===r.error.statusCode&&this.emailForm.controls.password.setErrors({wrongPassword:!0}),412===r.error.statusCode&&this.emailForm.controls.email.setErrors({sameEmail:!0})})}togglePasswordVisible(){this.passwordVisible=!this.passwordVisible}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf),e.Y36(I.qu),e.Y36(T.BRM),e.Y36(T.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["b2m-dialog-change-email"]],viewQuery:function(i,r){if(1&i&&e.Gf(Re,5),2&i){let Z;e.iGM(Z=e.CRH())&&(r.wizard=Z.first)}},decls:83,vars:57,consts:[[1,"modal-header"],[1,"modal-title"],["novalidate","",1,"login-form","needs-validation",3,"formGroup","ngClass","ngSubmit"],["emailFormTemplate","ngForm"],[1,"aw-wizard-hide-steps"],["wizard",""],[1,"modal-body"],[1,"form-group"],[1,"d-none"],["href","#","target","_blank","rel","noopener noreferrer","title",""],[1,"form-group","input-field","mt-4"],["for","email"],["autofocus","","autocomplete","email","name","email","id","email","formControlName","email","type","email",1,"form-control",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-group","input-field"],["for","password"],[1,"input-group"],["name","password","autocomplete","current-password","id","password","formControlName","password",1,"form-control",3,"type","placeholder"],[1,"input-addon","right"],["type","button",3,"click"],["class","b2msf-eye-slash",4,"ngIf"],["class","b2msf-eye",4,"ngIf"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","mr-0"],["href","#","awPreviousStep","",3,"click"],[1,"action-box"],[1,"b2m-btn","btn-solid","mr-0",3,"click"],[1,"b2msf-eye-slash"],[1,"b2msf-eye"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(6,"aw-wizard",4,5),e.TgZ(8,"aw-wizard-step"),e.TgZ(9,"div",6),e.TgZ(10,"fieldset",7),e.TgZ(11,"p"),e.TgZ(12,"span"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e._uU(15,"\xa0"),e.TgZ(16,"strong"),e._uU(17),e.qZA(),e._uU(18,". "),e.qZA(),e.TgZ(19,"p"),e.TgZ(20,"span"),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.qZA(),e.TgZ(23,"p",8),e.TgZ(24,"a",9),e._uU(25),e.ALo(26,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"fieldset",10),e.TgZ(28,"label",11),e._uU(29),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"input",12),e.ALo(32,"translate"),e.TgZ(33,"div",13),e.YNc(34,ye,3,3,"div",14),e.YNc(35,je,3,3,"div",14),e.YNc(36,We,3,3,"div",14),e.YNc(37,qe,3,6,"div",14),e.YNc(38,$e,3,6,"div",14),e.YNc(39,Xe,3,5,"div",14),e.qZA(),e.qZA(),e.TgZ(40,"fieldset",15),e.TgZ(41,"label",16),e._uU(42),e.ALo(43,"translate"),e.qZA(),e.TgZ(44,"div",17),e._UZ(45,"input",18),e.ALo(46,"translate"),e.TgZ(47,"div",19),e.TgZ(48,"button",20),e.NdJ("click",function(){return r.togglePasswordVisible()}),e.YNc(49,et,1,0,"i",21),e.YNc(50,tt,1,0,"i",22),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",13),e.YNc(52,nt,3,3,"div",14),e.YNc(53,Ne,3,3,"div",14),e.YNc(54,it,3,3,"div",14),e.qZA(),e.qZA(),e.qZA(),e.TgZ(55,"div",23),e.TgZ(56,"button",24),e._uU(57),e.ALo(58,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(59,"aw-wizard-step"),e.TgZ(60,"div",6),e.TgZ(61,"p"),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e._uU(65,"\xa0"),e.TgZ(66,"strong"),e._uU(67),e.qZA(),e._uU(68,". "),e.qZA(),e.TgZ(69,"p"),e.TgZ(70,"span"),e._uU(71),e.ALo(72,"translate"),e.qZA(),e._uU(73,"\xa0"),e.TgZ(74,"a",25),e.NdJ("click",function(){return r.onSubmit()}),e._uU(75),e.ALo(76,"translate"),e.qZA(),e._uU(77,". "),e.qZA(),e._UZ(78,"div",26),e.qZA(),e.TgZ(79,"div",23),e.TgZ(80,"button",27),e.NdJ("click",function(){return r.nzModalRef.close()}),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i){const Z=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,29,"CHANGE_EMAIL_DIALOG.MODAL_TITLE")),e.xp6(2),e.Q6J("formGroup",r.emailForm)("ngClass",e.VKq(55,ce,Z.submitted)),e.xp6(9),e.Oqu(e.lcZ(14,31,"CHANGE_EMAIL_DIALOG.CURRENT_EMAIL_ADDRESS")),e.xp6(4),e.Oqu(null==r.account?null:r.account.email),e.xp6(4),e.Oqu(e.lcZ(22,33,"CHANGE_EMAIL_DIALOG.TYPE_YOUR_EMAIL")),e.xp6(4),e.Oqu(e.lcZ(26,35,"CHANGE_EMAIL_DIALOG.MORE_INFO_BUTTON")),e.xp6(4),e.Oqu(e.lcZ(30,37,"CHANGE_EMAIL_DIALOG.EMAIL_LABEL")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,39,"CHANGE_EMAIL_DIALOG.EMAIL_LABEL")),e.xp6(3),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.sameEmail),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.maxlength),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.email||null==r.emailForm.controls.email.errors?null:r.emailForm.controls.email.errors.alreadyExists),e.xp6(3),e.Oqu(e.lcZ(43,41,"CHANGE_EMAIL_DIALOG.PASSWORD_LABEL")),e.xp6(3),e.Q6J("type",r.passwordVisible?"text":"password")("placeholder",e.lcZ(46,43,"CHANGE_EMAIL_DIALOG.PASSWORD_LABEL")),e.xp6(4),e.Q6J("ngIf",r.passwordVisible),e.xp6(1),e.Q6J("ngIf",!r.passwordVisible),e.xp6(2),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.password||null==r.emailForm.controls.password.errors?null:r.emailForm.controls.password.errors.pattern),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.password||null==r.emailForm.controls.password.errors?null:r.emailForm.controls.password.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.emailForm||null==r.emailForm.controls||null==r.emailForm.controls.password||null==r.emailForm.controls.password.errors?null:r.emailForm.controls.password.errors.wrongPassword),e.xp6(3),e.hij(" ",e.lcZ(58,45,"CHANGE_EMAIL_DIALOG.CHANGE_BUTTON")," "),e.xp6(6),e.Oqu(e.lcZ(64,47,"CHANGE_EMAIL_DIALOG.WE_HAVE_SENT_YOU_VERIFICATION_EMAIL")),e.xp6(4),e.Oqu(r.emailForm.value.email),e.xp6(4),e.Oqu(e.lcZ(72,49,"CHANGE_EMAIL_DIALOG.DIDNT_RECEIVED_ANYTHING")),e.xp6(4),e.Oqu(e.lcZ(76,51,"CHANGE_EMAIL_DIALOG.SEND_VERIFICATION_AGAIN")),e.xp6(6),e.hij(" ",e.lcZ(82,53,"CHANGE_EMAIL_DIALOG.CLOSE_BUTTON")," ")}},directives:[I._Y,I.JL,I.sg,E.mk,le.Pl,le.GZ,I.Fj,T.Uqp,I.JJ,I.u,E.O5,le.ei],pipes:[n.X$],encapsulation:2}),a})();function ot(a,p){1&a&&(e.TgZ(0,"div",34),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"PROFILE_GENERAL_PAGE.INVALID_PICTURE")," "))}function at(a,p){1&a&&e._UZ(0,"div",35)}function rt(a,p){if(1&a&&e._UZ(0,"div",36),2&a){const i=e.oxw();e.Udp("background-image","url("+(null==i.account||null==i.account.profile||null==i.account.profile.avatar?null:i.account.profile.avatar.md)+")")}}function st(a,p){1&a&&e._UZ(0,"div",36)}function Ue(a,p){1&a&&(e.TgZ(0,"div",37),e.TgZ(1,"button",38),e._UZ(2,"i",39),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA(),e.qZA()),2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_EMAIL")))}function lt(a,p){1&a&&e._UZ(0,"i",47)}function ct(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",41),e._UZ(1,"i",39),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e.YNc(6,lt,1,0,"i",44),e._uU(7),e.qZA(),e.TgZ(8,"span",45),e.TgZ(9,"button",46),e.NdJ("click",function(){return e.CHM(i),e.oxw().openChangeEmailDialog()}),e._UZ(10,"i",18),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"FORM.EMAIL_INPUT.LABEL")),e.xp6(3),e.Q6J("ngIf",!i.emailNotVerified),e.xp6(1),e.hij(" ",null==i.account?null:i.account.email," ")}}function gt(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"button",48),e.NdJ("click",function(){return e.CHM(i),e.oxw().openCreateUsernameDialog()}),e._UZ(2,"i",49),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA(),e.qZA()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.CREATE_USERNAME")))}function dt(a,p){if(1&a&&(e.TgZ(0,"div",41),e._UZ(1,"i",50),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45),e.TgZ(8,"button",51),e._UZ(9,"i",52),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"FORM.USERNAME_INPUT.LABEL")),e.xp6(3),e.Oqu(null==i.account?null:i.account.alias)}}function we(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"button",48),e.NdJ("click",function(){return e.CHM(i),e.oxw().openPhoneNumberDialog()}),e._UZ(2,"i",53),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA(),e.qZA()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_PHONE")))}function Pe(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",41),e._UZ(1,"i",53),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45),e.TgZ(8,"button",46),e.NdJ("click",function(){return e.CHM(i),e.oxw().openPhoneNumberDialog()}),e._UZ(9,"i",18),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,3,"FORM.PHONE_NUMBER_INPUT.LABEL")),e.xp6(3),e.AsE("","+"+(null==i.account||null==i.account.phone?null:i.account.phone.countryCode)," ",null==i.account||null==i.account.phone?null:i.account.phone.number,"")}}function pt(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",37),e.TgZ(1,"button",48),e.NdJ("click",function(){return e.CHM(i),e.oxw().openAddReferrerDialog()}),e._UZ(2,"i",54),e.TgZ(3,"span"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"i",40),e.qZA(),e.qZA()}2&a&&(e.xp6(4),e.Oqu(e.lcZ(5,1,"PROFILE_GENERAL_PAGE.LINK_REFERRAL")))}function ut(a,p){if(1&a&&(e.TgZ(0,"div",41),e._UZ(1,"i",54),e.TgZ(2,"span",42),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",43),e._uU(6),e.qZA(),e.TgZ(7,"span",45),e.TgZ(8,"button",51),e._UZ(9,"i",52),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,"PROFILE_GENERAL_PAGE.LINKED_REFERRAL")),e.xp6(3),e.Oqu(i.referralCode)}}const _t=function(a,p){return{empty:a,loading:p}},mt=function(a){return{backgroundImage:a}},ft=function(a,p,i){return{loading:a,idle:p,completed:i}};let ke=(()=>{class a{constructor(i,r,Z,S,F,ne,re,qt,Nt){this.modalService=i,this.currentUserStore=r,this.accountService=Z,this.notificationService=S,this.translate=F,this.authService=ne,this.urlService=re,this.affiliatesService=qt,this.activateRoute=Nt,this.dateUtils=T.EDk,this.userImage="",this.loadingUserImage=!1,this.loadingPercentage=0,this.acceptImageTypes=".png,.jpg,.jpeg"}ngOnInit(){this.activateRoute.queryParamMap.pipe((0,R.h)(i=>Boolean(i.get("modal"))),(0,c.U)(i=>({modal:i.get("modal"),phoneNumber:i.get("phoneNumber")}))).subscribe(({modal:i,phoneNumber:r})=>{"phone"===i&&this.modalService.open(T.RK9,{nzComponentParams:{phoneNumber:r}})}),this.authService.tokenSubject.subscribe(()=>{this.emailNotVerified=this.checkEmailVerification()}),this.currentUserStore.userSubject.subscribe(i=>{this.account=i.account,this.registrationDate=i.account.registrationDate}),this.affiliatesService.getAffiliationSerial().subscribe(i=>{i.serial.length&&(this.userIsReferred=!0,this.referralCode=i.serial)},i=>{404===i.status&&(this.userIsReferred=!1)}),this.activateRoute.snapshot.queryParams.showonboardingdialog&&setTimeout(()=>this.modalService.open(T.qt9))}ngAfterViewInit(){setTimeout(()=>{this.emailNotVerified=this.checkEmailVerification()})}openCreateUsernameDialog(){this.modalService.open(Me).afterClose.subscribe(r=>{r&&this.refreshCurrentStore()})}refreshCurrentStore(){this.currentUserStore.refresh().subscribe(()=>{})}openPhoneNumberDialog(){this.modalService.open(T.RK9).afterClose.subscribe(r=>{r&&this.refreshCurrentStore()})}openChangeEmailDialog(){this.modalService.open(Fe).afterClose.subscribe(r=>{r&&this.refreshCurrentStore()})}openAddReferrerDialog(){this.modalService.open(T.aIc).afterClose.subscribe(r=>{r&&(this.userIsReferred=!0,this.referralCode=r)})}handleClickImageInput(i){i.target.value=""}onFileSelected(i){const r=i.target.files[0],Z=new RegExp(/\.png|\.jpg|\.jpeg$/),S=r.name.toLowerCase();if(this.maxSizeError=!1,S.match(Z)){const F=new FormData(i.target.form);this.modalService.open(de,{size:"lg",nzComponentParams:{image:r}}).afterClose.subscribe(re=>{if(re){this.uploadImageCompleted=!1,this.loadingUserImage=!0,this.loadingPercentage=0;const qt=setInterval(()=>{this.loadingPercentage<90&&(this.loadingPercentage+=10)},250),Nt=(new b.LE).set("height",`${re.height}`).set("width",`${re.width}`).set("offsetLeft","0").set("offsetTop","0");F.append("image",re.file),this.accountService.uploadAvatar(F,Nt).subscribe(()=>{this.authService.setImageSessionCookie(),this.refreshCurrentStore(),clearInterval(qt),this.loadingPercentage=100,setTimeout(()=>{this.loadingUserImage=!1,this.uploadImageCompleted=!0,this.notificationService.success(this.translate.instant("PROFILE_GENERAL_PAGE.SUCCESSFULLY_UPLOADED"))},100)},()=>{this.notificationService.error(this.translate.instant("PROFILE_GENERAL_PAGE.UPLOAD_FAILED")),this.loadingUserImage=!1})}})}else this.notificationService.error(this.translate.instant("PROFILE_GENERAL_PAGE.INVALID_FILE"))}checkEmailVerification(){return!this.authService.getAccessToken()&&this.authService.getRefreshToken()&&this.authService.refresh().subscribe(()=>{}),this.authService.isAuth()&&!this.authService.isVerified([T.Dzy.email])}canLinkToReferral(){if(!this.registrationDate)return!1;const i=this.dateUtils.toDateTime(new Date),r=this.dateUtils.toDateTime(this.registrationDate);return V.Xp.fromDateTimes(r,i).toDuration("days").toObject().days<7}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.Z7U),e.Y36(T.Dk$),e.Y36(T.BRM),e.Y36(T.TFo),e.Y36(n.sK),e.Y36(T.e80),e.Y36(T.iOJ),e.Y36(T.Oiz),e.Y36(m.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-general"]],decls:45,vars:34,consts:[[1,"profile-general-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner"],["class","alert alert-danger",4,"ngIf"],[1,"row"],[1,"col-12","col-sm-4","col-md-3","graphic-block","position-relative"],[1,"profile-picture-outer",3,"ngClass","ngStyle"],[1,"profile-picture-height"],["class","profile-picture-vignette",4,"ngIf"],["class","profile-picture-inner",3,"background-image",4,"ngIf"],["class","profile-picture-inner",4,"ngIf"],["enctype","multipart/form-data"],["for","image",1,"upload-button"],[1,"profile-picture-edit"],["id","image","type","file",1,"d-none",3,"accept","click","change"],[1,"b2msf-pencil"],[1,"status",3,"ngClass"],[1,"loading-bar","clearfix"],[1,"percent"],[1,"bar"],[1,"fill"],[1,"completed"],[1,"b2msf-check-circle-solid"],[1,"col-12","col-sm-8","col-md-9","mt-4","mt-sm-0","content-block"],[1,"profile-form"],[1,"profile-form-row","email"],["class","no-data",4,"ngIf"],["class","data",4,"ngIf"],[1,"profile-form-row","username"],[1,"profile-form-row","tel"],[1,"profile-form-row","referral"],[1,"alert","alert-danger"],[1,"profile-picture-vignette"],[1,"profile-picture-inner"],[1,"no-data"],[1,"btn-link","clearfix"],[1,"b2msf-message","icon"],[1,"b2msf-chevron-right","go-button","float-right"],[1,"data"],[1,"first"],[1,"second"],["class","b2msf-check-circle-solid mr-1",4,"ngIf"],[1,"third"],[1,"edit-button",3,"click"],[1,"b2msf-check-circle-solid","mr-1"],[1,"btn-link","clearfix",3,"click"],[1,"b2msf-user-plus","icon"],[1,"b2msf-user","icon"],["disabled","",1,"edit-button"],[1,"b2msf-pencil-slash"],[1,"b2msf-phone","icon"],[1,"b2msf-smile","icon"]],template:function(i,r){1&i&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.YNc(8,ot,3,3,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"div",8),e.TgZ(11,"div",9),e.TgZ(12,"div",10),e.YNc(13,at,1,0,"div",11),e.YNc(14,rt,1,2,"div",12),e.YNc(15,st,1,0,"div",13),e.TgZ(16,"form",14),e.TgZ(17,"label",15),e.TgZ(18,"div",16),e.TgZ(19,"input",17),e.NdJ("click",function(S){return r.handleClickImageInput(S)})("change",function(S){return r.onFileSelected(S)}),e.qZA(),e._UZ(20,"i",18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",19),e.TgZ(22,"div",20),e.TgZ(23,"span",21),e._uU(24),e.qZA(),e.TgZ(25,"div",22),e._UZ(26,"div",23),e.qZA(),e.qZA(),e.TgZ(27,"div",24),e._UZ(28,"i",25),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(31,"div",26),e.TgZ(32,"div",27),e.TgZ(33,"div",28),e.YNc(34,Ue,7,3,"div",29),e.YNc(35,ct,11,5,"div",30),e.qZA(),e.TgZ(36,"div",31),e.YNc(37,gt,7,3,"div",29),e.YNc(38,dt,10,4,"div",30),e.qZA(),e.TgZ(39,"div",32),e.YNc(40,we,7,3,"div",29),e.YNc(41,Pe,10,5,"div",30),e.qZA(),e.TgZ(42,"div",33),e.YNc(43,pt,7,3,"div",29),e.YNc(44,ut,10,4,"div",30),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,21,"PROFILE_GENERAL_PAGE.TITLE")),e.xp6(3),e.Q6J("ngIf",r.maxSizeError),e.xp6(3),e.Q6J("ngClass",e.WLB(25,_t,!(null!=r.account&&null!=r.account.profile&&null!=r.account.profile.avatar&&r.account.profile.avatar.md),r.loadingUserImage))("ngStyle",e.VKq(28,mt,null!=r.account&&null!=r.account.profile&&null!=r.account.profile.avatar&&r.account.profile.avatar.md?"":"url("+r.urlService.getAssetsUrl()+"/images/no-profile-picture.svg)")),e.xp6(2),e.Q6J("ngIf",null==r.account||null==r.account.profile||null==r.account.profile.avatar?null:r.account.profile.avatar.md),e.xp6(1),e.Q6J("ngIf",null==r.account||null==r.account.profile?null:r.account.profile.avatar),e.xp6(1),e.Q6J("ngIf",!(null!=r.account&&null!=r.account.profile&&r.account.profile.avatar)),e.xp6(4),e.Q6J("accept",r.acceptImageTypes),e.xp6(2),e.Q6J("ngClass",e.kEZ(30,ft,r.loadingUserImage,!r.loadingUserImage,r.uploadImageCompleted)),e.xp6(3),e.hij("",r.loadingPercentage,"%"),e.xp6(2),e.Udp("width",r.loadingPercentage+"%"),e.xp6(3),e.hij(" ",e.lcZ(30,23,"PROFILE_GENERAL_PAGE.COMPLETED")," "),e.xp6(5),e.Q6J("ngIf",!(null!=r.account&&r.account.email)),e.xp6(1),e.Q6J("ngIf",null==r.account?null:r.account.email),e.xp6(2),e.Q6J("ngIf",!(null!=r.account&&r.account.alias)),e.xp6(1),e.Q6J("ngIf",null==r.account?null:r.account.alias),e.xp6(2),e.Q6J("ngIf",!(null!=r.account&&null!=r.account.phone&&r.account.phone.number)),e.xp6(1),e.Q6J("ngIf",null==r.account||null==r.account.phone?null:r.account.phone.number),e.xp6(2),e.Q6J("ngIf",!r.userIsReferred&&r.canLinkToReferral()),e.xp6(1),e.Q6J("ngIf",r.userIsReferred))},directives:[E.O5,E.mk,E.PC,I._Y,I.JL,I.F],pipes:[n.X$],styles:['@charset "UTF-8";.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]{max-width:200px;height:auto;background-size:cover;background-position:center;position:relative}@media (max-width: 768px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]{max-width:300px;margin:0 auto}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]{height:0;padding-bottom:100%;position:relative;z-index:0}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;background-size:cover;background-position:center;opacity:1;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%]{background-image:url(profile-picture-vignette.44474109cca6ee85a741.png)}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{z-index:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]{cursor:pointer;position:absolute;width:50px;height:50px;background-color:#fff;box-shadow:0 0 13px #0003;border-radius:50%;right:0;bottom:0;margin-bottom:-15px;margin-right:-15px;transition:.3s;line-height:50px;z-index:3;text-decoration:none;text-align:center;font-size:17px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]{width:100%;color:#044e97;transition:all .3s ease}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]:hover, .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer[_ngcontent-%COMP%]   .profile-picture-height[_ngcontent-%COMP%]   .upload-button[_ngcontent-%COMP%]   .profile-picture-edit[_ngcontent-%COMP%]:focus{color:#0f335b}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer.empty[_ngcontent-%COMP%]   .profile-picture-vignette[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .profile-picture-outer.empty[_ngcontent-%COMP%]   .profile-picture-inner[_ngcontent-%COMP%]{opacity:0}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{width:100%;max-width:200px;margin-left:auto;margin-right:auto;top:15px;position:relative}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.idle[_ngcontent-%COMP%]{overflow:hidden}@media (max-width: 575px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%], .profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{top:0;margin-top:15px;padding-bottom:30px}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;text-align:center;opacity:0;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:20px;color:#099c14;transform:scale(0);transition:inherit}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]{width:100%;position:absolute;top:0;left:0;opacity:0;transition:all ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .percent[_ngcontent-%COMP%]{color:#044e97;font-size:10px;font-weight:700;width:30px;display:block;float:left}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:calc(100% - 35px);height:4px;display:block;float:left;margin-top:9px;background-color:#0000001a;border-radius:2px;position:relative}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:0;height:100%;background-color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.loading\\a0[_ngcontent-%COMP%]   .loading-bar[_ngcontent-%COMP%]{opacity:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.loading\\a0[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:width ease .3s}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]{opacity:1}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .status.completed[_ngcontent-%COMP%]   .completed[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:scale(1)}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]{display:flex;align-items:center}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{width:100%;margin-top:-10px}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]{margin-top:0;padding:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:10px 20px}@media (max-width: 768px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:15px 0}}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]{padding:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%] + .profile-form-row[_ngcontent-%COMP%]{border-top:1px solid #eaeff4}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]{padding:10px}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{width:10%}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;width:100%;text-align:left;line-height:30px;height:30px}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline-block;line-height:30px;height:30px;vertical-align:middle}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .go-button[_ngcontent-%COMP%]{margin-left:auto;margin-right:10px}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .no-data[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .go-button[_ngcontent-%COMP%]{margin-right:0}}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{padding:10px 40px;position:relative}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{display:inline-block;line-height:30px;height:30px;vertical-align:middle}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   i.icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:0;width:40px;text-align:center}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{color:#000;width:35%;font-weight:700}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{width:100%;display:block}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{color:#7a7a7a;width:45%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]{width:100%;display:block}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .second[_ngcontent-%COMP%]   .b2msf-check-circle-fill[_ngcontent-%COMP%]{color:#36a34d}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;width:30px;text-align:center;line-height:20px;transform:translateY(-50%)}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:block;text-decoration:none;padding:0;width:30px;height:30px;line-height:30px;text-align:center;border-radius:50%;transition:all .3s ease;margin-left:auto}@media (max-width: 576px){.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]{display:block;margin:0}}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:hover{background-color:#e8edf4;color:#044e97}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]:active{color:#0f335b}.profile-general-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   .content-block[_ngcontent-%COMP%]   .profile-form[_ngcontent-%COMP%]   .profile-form-row[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]   .third[_ngcontent-%COMP%]   .edit-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{line-height:inherit;display:block}']}),a})();var ae=f(79441),ee=f(22663);let Ge=(()=>{class a{constructor(i,r,Z){this.router=i,this.authService=r,this.activatedRoute=Z,this.hasIdentity=!0,this.destroy$=new ae.xQ}ngOnInit(){const{status:i,disableProcess:r}=this.activatedRoute.snapshot.data.identityStatus;this.navigateToCorrectPage(i,r),this.activatedRoute.data.pipe((0,Ae.x)(),(0,ee.R)(this.destroy$)).subscribe(({identityStatus:{status:Z,disableProcess:S}})=>{this.navigateToCorrectPage(Z,S)}),this.authService.tokenSubject.pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.router.navigate(["/profile/identity"],{replaceUrl:!0})})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}navigateToCorrectPage(i,r){this.authService.isVerified([T.Dzy.identity])||i===T.olx.pending||i===T.olx.verified||i===T.olx.error&&r?this.router.navigate(["/profile/identity/resume"],{replaceUrl:!0}):this.router.url.includes("new")||this.router.navigate(["/profile/identity/new"],{replaceUrl:!0})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(m.F0),e.Y36(T.e80),e.Y36(m.gz))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-identity"]],decls:2,vars:0,consts:[["id","content"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},directives:[m.lC],styles:["@media (min-width: 768px){.card-tab.information .card-page-inner,.card-tab.identity .card-page-inner{padding-top:70px;padding-bottom:70px}}@media (max-width: 576px){.card-tab.proofs{text-align:center}.card-tab.identity .card-page-title-box,.card-tab.proofs .card-page-title-box{padding-left:60px}}#identity-steps{width:100%;margin-bottom:60px;text-align:justify;display:flex;flex-wrap:wrap;justify-content:center}#identity-steps .identity-step{text-align:center;position:relative;z-index:2;transition:all ease .3s;border:0}#identity-steps .step-icon{width:60px;height:60px;background:#f3f5f9;border:1px solid #fff;color:#044e97;font-size:20px;line-height:58px;border-radius:50%;transition:all ease .3s;margin:0 auto 10px}#identity-steps .step-icon i.b2msf-id-document{position:relative;top:2px}#identity-steps .identity-step:hover .step-icon{border-color:#044e97}#identity-steps .identity-step.completed .step-icon,#identity-steps .identity-step.active .step-icon{background:#fff;border-color:#044e97}#identity-steps .step-title{color:#044e97;font-weight:700;margin-bottom:0;opacity:.5;transition:all ease .3s}#identity-steps .identity-step:hover .step-title,#identity-steps .identity-step.active .step-title,#identity-steps .identity-step.completed .step-title{opacity:1}#identity-steps .path{color:#b9cde2;display:flex;flex-direction:row;align-items:center}#identity-steps .path.completed{color:#044e97}#identity-steps{box-shadow:0 0 0 1px #c7d6e4}#identity-steps button{position:relative;font-weight:700;color:#044e97;opacity:.5;margin:0 15px;padding:20px 40px}#identity-steps button.active{opacity:1}@media (max-width: 767px){#identity-steps button{padding:20px 25px}}@media (max-width: 575px){#identity-steps button{padding:20px 0;margin:0 5px}}@media (max-width: 575px){#identity-steps{margin-bottom:0}}.card-tab:not(:first-child){display:none}.information-tab{display:none}.proof-hall-header{margin-bottom:30px}.proof-hall-header .title{line-height:48px}.proof-tab.hall .user-picture-box+.b2m-btn{max-width:240px}.user-picture-box{width:100%;max-width:240px;margin:0 auto}.user-picture{width:100%;padding-bottom:80%;background-size:cover;background-position:center;background-repeat:no-repeat;background-color:#d3dce7;transition:all ease .3s}.proof-tab.hall ul{margin-top:30px;list-style:none;padding-left:0}.proof-tab.hall li{line-height:36px}.proof-tab.hall .list-icon{color:#36a34d;margin-right:10px}.upload-method{width:150px;height:150px;border:1px solid #e8edf4;border-radius:5px;text-align:center;position:relative;padding-bottom:80px;display:inline-block;vertical-align:middle;cursor:pointer;transition:all ease .3s}.upload-method+.upload-method{margin-left:15px}.upload-method:hover{border:1px solid #044e97!important}.upload-method .method-icon{line-height:75px;font-size:40px;color:#044e97}.upload-method .method-title{margin-bottom:0;position:absolute;bottom:0;left:0;width:100%;height:70px;line-height:20px;padding:15px 0;background-color:#e8edf4}.upload-method:hover .method-title{background-color:#044e97;color:#fff}@media (min-width: 768px){.upload-methods{display:flex;flex-direction:row;justify-content:center}}@media (max-width: 767px){.help-buttons-box{margin-bottom:15px}.upload-method{width:100%;height:auto;padding:0 0 0 60px;position:relative;margin-bottom:15px}.upload-method .method-icon{position:absolute;top:0;left:0;width:60px;height:60px;line-height:60px;text-align:center}.upload-method .method-title{line-height:20px;position:static;height:auto;padding:20px 0}}.proof-tab.qr .text-box{width:100%;max-width:460px;margin:0 auto 30px}.qr-code-outer{position:relative;width:100%;max-width:300px;padding:40px;margin:50px auto}.qr-code-outer .corner{position:absolute;width:40px;height:40px}.corner.top{top:0;border-top:2px solid #000}.corner.left{left:0;border-left:2px solid #000}.corner.bottom{bottom:0;border-bottom:2px solid #000}.corner.right{right:0;border-right:2px solid #000}.qr-code-outer img{width:100%}.img-top{display:block}.img-bottom{display:none}@media (min-width: 576px) and (max-width: 767px){.step-requeriments{flex:0 0 100%;max-width:100%}}@media (max-width: 767px){.img-top{display:none}.img-bottom{display:block}}aw-wizard .wizard-steps.horizontal{flex-direction:column!important}\n"],encapsulation:2}),a})();var At=f(89919),ht=f(202),Tt=f.n(ht),Ce=f(85816),Zt=f(18293),_e=f(30600);let Ot=(()=>{class a{constructor(i,r){this.httpClient=i,this.urlService=r,this.apiUrl=this.urlService.api("")}initiate(i,r){let Z={locale:i};return r&&(Z=Object.assign(Object.assign({},Z),{workflowId:r})),this.httpClient.post(`${this.apiUrl}account/verify/identity/init`,Z)}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(b.eN),e.LFG(T.iOJ))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var Et=f(71570),Pt=f(61486),Ie=f(1143),pe=f(79902);let ve=(()=>{class a{constructor(i,r){this.httpClient=i,this.urlService=r}getEmploymentStatuses(i){const r={params:{langCode:i}};return this.httpClient.get(`${this.urlService.api()}/account/employment-status`,r)}getFundsOrigins(i){const r={params:{langCode:i}};return this.httpClient.get(`${this.urlService.api()}/account/funds-origin`,r)}getProfessions(i){const r={params:{langCode:i}};return this.httpClient.get(`${this.urlService.api()}/account/professions`,r)}getPurposes(i){const r={params:{langCode:i}};return this.httpClient.get(`${this.urlService.api()}/account/purposes`,r)}getDepositEstimation(){return this.httpClient.get(`${this.urlService.api()}/account/deposit-estimation`)}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(b.eN),e.LFG(T.iOJ))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var ie=f(36868);function Ct(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.iso),e.xp6(1),e.Oqu(i.name)}}function be(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function oe(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function Ye(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.ALo(2,"async"),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(e.lcZ(2,2,i.label))}}function It(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Se(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function Te(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.name),e.xp6(1),e.Oqu(i.description)}}function vt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function u(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function v(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.professionCode),e.xp6(1),e.Oqu(i.description)}}function h(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function d(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function P(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.ALo(2,"async"),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.value),e.xp6(1),e.Oqu(e.lcZ(2,2,i.label))}}function Y(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function B(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function K(a,p){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"cryptocurrency"),e.ALo(3,"cryptocurrency"),e.qZA()),2&a){const i=p.item;e.xp6(1),e.AsE("",e.xi3(2,2,i.minimum,"EUR")," - ",e.xi3(3,5,i.maximum,"EUR"),"")}}function se(a,p){if(1&a&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"cryptocurrency"),e.ALo(3,"cryptocurrency"),e.qZA()),2&a){const i=p.item;e.xp6(1),e.AsE("",e.xi3(2,2,i.minimum,"EUR")," - ",e.xi3(3,5,i.maximum,"EUR"),"")}}function ge(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function me(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function fe(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.name),e.xp6(1),e.Oqu(i.description)}}function xe(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function bt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function $t(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.name),e.xp6(1),e.Oqu(i.description)}}function Kt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Xt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function en(a,p){1&a&&(e.TgZ(0,"div"),e._UZ(1,"legend"),e._UZ(2,"label",24),e._UZ(3,"input",35),e.ALo(4,"translate"),e.qZA()),2&a&&(e.xp6(3),e.s9C("placeholder",e.lcZ(4,1,"FORM.FUNDS_ORIGIN_OTHERS_REASON.PLACEHOLDER")))}function tn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function nn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function on(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.iso),e.xp6(1),e.Oqu(i.name)}}function an(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function rn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function sn(a,p){if(1&a&&(e.TgZ(0,"ng-option",34),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",i.fips),e.xp6(1),e.Oqu(i.name)}}function ln(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function cn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function gn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function dn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function pn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function un(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function _n(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function mn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.INVALID")," "))}function fn(a,p){if(1&a&&(e.TgZ(0,"div"),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"fieldset",4),e._UZ(5,"legend"),e.TgZ(6,"label"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"ng-select",5),e.ALo(10,"translate"),e.YNc(11,Ct,2,2,"ng-option",6),e.qZA(),e.TgZ(12,"div",7),e.YNc(13,be,3,3,"div",0),e.YNc(14,oe,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(15,"div",3),e.TgZ(16,"fieldset",4),e._UZ(17,"legend"),e.TgZ(18,"label",8),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ng-select",9),e.ALo(22,"translate"),e.YNc(23,Ye,3,4,"ng-option",6),e.qZA(),e.TgZ(24,"div",7),e.YNc(25,It,3,3,"div",0),e.YNc(26,Se,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",3),e.TgZ(28,"fieldset",4),e._UZ(29,"legend"),e.TgZ(30,"label",10),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"ng-select",11),e.ALo(34,"translate"),e.YNc(35,Te,2,2,"ng-option",6),e.qZA(),e.TgZ(36,"div",7),e.YNc(37,vt,3,3,"div",0),e.YNc(38,u,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(39,"div",3),e.TgZ(40,"fieldset",4),e._UZ(41,"legend"),e.TgZ(42,"label",12),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"ng-select",13),e.ALo(46,"translate"),e.YNc(47,v,2,2,"ng-option",6),e.qZA(),e.TgZ(48,"div",7),e.YNc(49,h,3,3,"div",0),e.YNc(50,d,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"div",3),e.TgZ(52,"fieldset",4),e._UZ(53,"legend"),e.TgZ(54,"label",14),e._uU(55),e.ALo(56,"translate"),e.qZA(),e.TgZ(57,"ng-select",15),e.ALo(58,"translate"),e.YNc(59,P,3,4,"ng-option",6),e.qZA(),e.TgZ(60,"div",7),e.YNc(61,Y,3,3,"div",0),e.YNc(62,B,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(63,"div",16),e.TgZ(64,"div",3),e.TgZ(65,"fieldset",4),e._UZ(66,"legend"),e.TgZ(67,"label",17),e._uU(68),e.ALo(69,"translate"),e.qZA(),e.TgZ(70,"ng-select",18),e.ALo(71,"translate"),e.YNc(72,K,4,8,"ng-template",19),e.YNc(73,se,4,8,"ng-template",20),e.qZA(),e.TgZ(74,"div",7),e.YNc(75,ge,3,3,"div",0),e.YNc(76,me,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(77,"div",3),e.TgZ(78,"fieldset",4),e._UZ(79,"legend"),e.TgZ(80,"label",21),e._uU(81),e.ALo(82,"translate"),e.qZA(),e.TgZ(83,"ng-select",22),e.ALo(84,"translate"),e.YNc(85,fe,2,2,"ng-option",6),e.qZA(),e.TgZ(86,"div",7),e.YNc(87,xe,3,3,"div",0),e.YNc(88,bt,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(89,"div",23),e.TgZ(90,"div",3),e.TgZ(91,"fieldset",4),e._UZ(92,"legend"),e.TgZ(93,"label",24),e._uU(94),e.ALo(95,"translate"),e.qZA(),e.TgZ(96,"ng-select",25),e.ALo(97,"translate"),e.YNc(98,$t,2,2,"ng-option",6),e.qZA(),e.TgZ(99,"div",7),e.YNc(100,Kt,3,3,"div",0),e.YNc(101,Xt,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(102,"div",3),e.TgZ(103,"fieldset",4),e.YNc(104,en,5,3,"div",0),e.TgZ(105,"div",7),e.YNc(106,tn,3,3,"div",0),e.YNc(107,nn,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(108,"div",26),e.TgZ(109,"div",27),e.TgZ(110,"fieldset",4),e._UZ(111,"legend"),e.TgZ(112,"label"),e._uU(113),e.ALo(114,"translate"),e.qZA(),e.TgZ(115,"ng-select",28),e.ALo(116,"translate"),e.YNc(117,on,2,2,"ng-option",6),e.qZA(),e.TgZ(118,"div",7),e.YNc(119,an,3,3,"div",0),e.YNc(120,rn,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(121,"div",27),e.TgZ(122,"fieldset",4),e._UZ(123,"legend"),e.TgZ(124,"label"),e._uU(125),e.ALo(126,"translate"),e.qZA(),e.TgZ(127,"ng-select",29),e.ALo(128,"translate"),e.YNc(129,sn,2,2,"ng-option",6),e.qZA(),e.TgZ(130,"div",7),e.YNc(131,ln,3,3,"div",0),e.YNc(132,cn,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(133,"div",30),e.TgZ(134,"fieldset",4),e._UZ(135,"legend"),e.TgZ(136,"label"),e._uU(137),e.ALo(138,"translate"),e.qZA(),e._UZ(139,"input",31),e.ALo(140,"translate"),e.TgZ(141,"div",7),e.YNc(142,gn,3,3,"div",0),e.YNc(143,dn,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(144,"div",3),e.TgZ(145,"fieldset",4),e._UZ(146,"legend"),e.TgZ(147,"label"),e._uU(148),e.ALo(149,"translate"),e.qZA(),e._UZ(150,"input",32),e.ALo(151,"translate"),e.TgZ(152,"div",7),e.YNc(153,pn,3,3,"div",0),e.YNc(154,un,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.TgZ(155,"div",27),e.TgZ(156,"fieldset",4),e._UZ(157,"legend"),e.TgZ(158,"label"),e._uU(159),e.ALo(160,"translate"),e.qZA(),e._UZ(161,"input",33),e.ALo(162,"translate"),e.TgZ(163,"div",7),e.YNc(164,_n,3,3,"div",0),e.YNc(165,mn,3,3,"div",0),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a){const i=p.ngIf,r=e.oxw();e.xp6(1),e.Q6J("formGroup",r.personalInfoForm),e.xp6(6),e.Oqu(e.lcZ(8,88,"FORM.NATIONATITY_SELECT.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(10,90,"FORM.COUNTRY_SELECT.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.countries),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("nationalityCountryCode").errors?null:r.personalInfoForm.get("person").get("nationalityCountryCode").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("nationalityCountryCode").errors?null:r.personalInfoForm.get("person").get("nationalityCountryCode").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(20,92,"FORM.GENDER_SELECT.LABEL")),e.xp6(2),e.Q6J("searchable",!1)("clearable",!1)("placeholder",e.lcZ(22,94,"FORM.GENDER_SELECT.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",r.availableGenders),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("gender").errors?null:r.personalInfoForm.get("person").get("gender").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("gender").errors?null:r.personalInfoForm.get("person").get("gender").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(32,96,"FORM.EMPLOYMENT_STATUS.LABEL")),e.xp6(2),e.Q6J("searchable",!1)("clearable",!1)("placeholder",e.lcZ(34,98,"FORM.EMPLOYMENT_STATUS.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.employments),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("employmentStatus").errors?null:r.personalInfoForm.get("person").get("employmentStatus").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("employmentStatus").errors?null:r.personalInfoForm.get("person").get("employmentStatus").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(44,100,"FORM.PROFESSION.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(46,102,"FORM.EMPLOYMENT_STATUS.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.professions),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("profession").errors?null:r.personalInfoForm.get("person").get("profession").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("profession").errors?null:r.personalInfoForm.get("person").get("profession").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(56,104,"FORM.POLITICALLY_EXPOSED_PERSON.LABEL")),e.xp6(2),e.Q6J("searchable",!1)("clearable",!1)("placeholder",e.lcZ(58,106,"FORM.POLITICALLY_EXPOSED_PERSON.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",r.politicallyExposedPersonOptions),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("politicallyExposedPerson").errors?null:r.personalInfoForm.get("person").get("politicallyExposedPerson").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("person").get("politicallyExposedPerson").errors?null:r.personalInfoForm.get("person").get("politicallyExposedPerson").errors.invalid),e.xp6(6),e.Oqu(e.lcZ(69,108,"FORM.DEPOSIT_ESTIMATION.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(71,110,"FORM.DEPOSIT_ESTIMATION.PLACEHOLDER"))("items",null==i?null:i.deposits),e.xp6(5),e.Q6J("ngIf",null==r.personalInfoForm.get("depositEstimation").errors?null:r.personalInfoForm.get("depositEstimation").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("depositEstimation").errors?null:r.personalInfoForm.get("depositEstimation").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(82,112,"FORM.ACCOUNT_PURPOSE.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(84,114,"FORM.ACCOUNT_PURPOSE.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.purposes),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("accountPurpose").errors?null:r.personalInfoForm.get("accountPurpose").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("accountPurpose").errors?null:r.personalInfoForm.get("accountPurpose").errors.invalid),e.xp6(6),e.Oqu(e.lcZ(95,116,"FORM.FUNDS_ORIGIN_TYPE.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(97,118,"FORM.FUNDS_ORIGIN_TYPE.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.fundsOrigins),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("fundsOrigin").get("type").errors?null:r.personalInfoForm.get("fundsOrigin").get("type").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("fundsOrigin").get("type").errors?null:r.personalInfoForm.get("fundsOrigin").get("type").errors.invalid),e.xp6(3),e.Q6J("ngIf","others"===r.personalInfoForm.get("fundsOrigin").get("type").value),e.xp6(2),e.Q6J("ngIf",null==r.personalInfoForm.get("fundsOrigin").get("othersReason").errors?null:r.personalInfoForm.get("fundsOrigin").get("othersReason").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.personalInfoForm.get("fundsOrigin").get("othersReason").errors?null:r.personalInfoForm.get("fundsOrigin").get("othersReason").errors.invalid),e.xp6(1),e.Q6J("formGroup",r.addressForm),e.xp6(5),e.Oqu(e.lcZ(114,120,"FORM.RESIDENCY_SELECT.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(116,122,"FORM.COUNTRY_SELECT.PLACEHOLDER")),e.xp6(2),e.Q6J("ngForOf",i.countries),e.xp6(2),e.Q6J("ngIf",null==r.addressForm.get("countryCode").errors?null:r.addressForm.get("countryCode").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.addressForm.get("countryCode").errors?null:r.addressForm.get("countryCode").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(126,124,"FORM.PROVINCE.LABEL")),e.xp6(2),e.Q6J("searchable",!0)("clearable",!1)("placeholder",e.lcZ(128,126,"FORM.REGION_SELECT.PLACEHOLDER"))("disabled",!0),e.xp6(2),e.Q6J("ngForOf",null==i?null:i.countryRegions),e.xp6(2),e.Q6J("ngIf",null==r.addressForm.get("stateCode").errors?null:r.addressForm.get("stateCode").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.addressForm.get("stateCode").errors?null:r.addressForm.get("stateCode").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(138,128,"FORM.RESIDENCY_ZIP.LABEL")),e.xp6(2),e.Q6J("placeholder",e.lcZ(140,130,"FORM.RESIDENCY_ZIP.PLACEHOLDER")),e.xp6(3),e.Q6J("ngIf",null==r.addressForm.get("zip").errors?null:r.addressForm.get("zip").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.addressForm.get("zip").errors?null:r.addressForm.get("zip").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(149,132,"FORM.RESIDENCY_LOCATION.LABEL")),e.xp6(2),e.Q6J("placeholder",e.lcZ(151,134,"FORM.RESIDENCY_LOCATION.PLACEHOLDER")),e.xp6(3),e.Q6J("ngIf",null==r.addressForm.get("streetAddress").errors?null:r.addressForm.get("streetAddress").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.addressForm.get("streetAddress").errors?null:r.addressForm.get("streetAddress").errors.invalid),e.xp6(5),e.Oqu(e.lcZ(160,136,"FORM.RESIDENCY_CITY.LABEL")),e.xp6(2),e.Q6J("placeholder",e.lcZ(162,138,"FORM.RESIDENCY_CITY.PLACEHOLDER")),e.xp6(3),e.Q6J("ngIf",null==r.addressForm.get("city").errors?null:r.addressForm.get("city").errors.required),e.xp6(1),e.Q6J("ngIf",null==r.addressForm.get("city").errors?null:r.addressForm.get("city").errors.invalid)}}const An=function(a,p,i,r,Z,S,F){return{countries:a,countryRegions:p,employments:i,deposits:r,fundsOrigins:Z,professions:S,purposes:F}};let Ft=(()=>{class a{constructor(i,r,Z,S){this.localeService=i,this.commonService=r,this.translateService=Z,this.accountService=S,this.languageCode$=this.localeService.onLangChange.pipe((0,c.U)(F=>F.lang),(0,Ie.O)(this.localeService.getLocale())),this.availableGenders=[{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.GENDER_SELECT.MALE"),value:"male"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.GENDER_SELECT.FEMALE"),value:"female"}],this.politicallyExposedPersonOptions=[{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.YES"),value:"yes"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.NO"),value:"no"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.POLITICALLY_EXPOSED_PERSON.FAMILY"),value:"family members and/or relatives"}],this.employments$=this.languageCode$.pipe((0,pe.w)(F=>this.accountService.getEmploymentStatuses(F)),(0,c.U)(F=>F.data)),this.fundsOrigins$=this.languageCode$.pipe((0,pe.w)(F=>this.accountService.getFundsOrigins(F)),(0,c.U)(F=>F.data)),this.professions$=this.languageCode$.pipe((0,pe.w)(F=>this.accountService.getProfessions(F)),(0,c.U)(F=>F.data)),this.purposes$=this.languageCode$.pipe((0,pe.w)(F=>this.accountService.getPurposes(F)),(0,c.U)(F=>F.data)),this.deposits$=this.accountService.getDepositEstimation().pipe((0,c.U)(F=>F.data.map(ne=>({minimum:ne.minimum,maximum:ne.maximum})))),this.countries$=this.languageCode$.pipe((0,pe.w)(F=>this.commonService.countryList(F)))}ngOnInit(){this.addressForm.controls.stateCode.disable();const i=this.addressForm.get("countryCode").valueChanges.pipe((0,U.b)(()=>this.addressForm.get("stateCode").setValue("")));this.countryRegions$=(0,Pt.aj)([i,this.languageCode$]).pipe((0,pe.w)(([r,Z])=>this.commonService.regionsByCountryList(r,Z)),(0,Ie.O)(this.regionList),(0,U.b)(r=>{this.disableStateSelect(r)}))}ngAfterViewInit(){const i=this.addressForm.get("countryCode").value,r=this.addressForm.get("stateCode").value;setTimeout(()=>{i&&this.addressForm.get("countryCode").setValue(i),r&&(this.addressForm.get("stateCode").setValue(r),this.addressForm.controls.stateCode.enable())},0)}disableStateSelect(i){i&&(i.length||this.addressForm.get("stateCode").value)?this.addressForm.controls.stateCode.enable():this.addressForm.controls.stateCode.disable()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.OLO),e.Y36(T.v_H),e.Y36(n.sK),e.Y36(ve))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-user-identity-and-residence-address"]],inputs:{personalInfoForm:"personalInfoForm",addressForm:"addressForm",regionList:"regionList"},decls:8,vars:23,consts:[[4,"ngIf"],[3,"formGroup"],["formGroupName","person",1,"row"],[1,"col-12","col-md-6"],[1,"form-group"],["formControlName","nationalityCountryCode","bindLabel","name",3,"searchable","clearable","placeholder"],[3,"value",4,"ngFor","ngForOf"],[1,"invalid-feedback"],["for","gender",1,"active"],["formControlName","gender",3,"searchable","clearable","placeholder"],["for","employmentStatus",1,"active"],["formControlName","employmentStatus",3,"searchable","clearable","placeholder"],["for","profession",1,"active"],["formControlName","profession",3,"searchable","clearable","placeholder"],["for","politicallyExposedPerson",1,"active"],["formControlName","politicallyExposedPerson",3,"searchable","clearable","placeholder"],[1,"row"],["for","depositEstimation",1,"active"],["formControlName","depositEstimation",3,"searchable","clearable","placeholder","items"],["ng-label-tmp",""],["ng-option-tmp",""],["for","accountPurpose",1,"active"],["formControlName","accountPurpose",3,"searchable","clearable","placeholder"],["formGroupName","fundsOrigin",1,"row"],["for","type",1,"active"],["formControlName","type",3,"searchable","clearable","placeholder"],[1,"row",3,"formGroup"],[1,"col-12","col-md-4"],["formControlName","countryCode","bindLabel","name",3,"searchable","clearable","placeholder"],["formControlName","stateCode","bindLabel","name",3,"searchable","clearable","placeholder","disabled"],[1,"col-12","col-md-2"],["type","text","formControlName","zip",3,"placeholder"],["type","text","formControlName","streetAddress",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],[3,"value"],["type","text","name","othersReason","autocomplete","false","formControlName","othersReason",1,"form-control",3,"placeholder"]],template:function(i,r){1&i&&(e.YNc(0,fn,166,140,"div",0),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.ALo(4,"async"),e.ALo(5,"async"),e.ALo(6,"async"),e.ALo(7,"async")),2&i&&e.Q6J("ngIf",e.Hh0(15,An,e.lcZ(1,1,r.countries$),e.lcZ(2,3,r.countryRegions$),e.lcZ(3,5,r.employments$),e.lcZ(4,7,r.deposits$),e.lcZ(5,9,r.fundsOrigins$),e.lcZ(6,11,r.professions$),e.lcZ(7,13,r.purposes$)))},directives:[E.O5,I.JL,I.sg,I.x0,ie.w9,I.JJ,I.u,E.sg,ie.bb,ie.Z2,I.Fj,ie.xv],pipes:[E.Ov,n.X$,T.v$D],styles:[".form-group[_ngcontent-%COMP%]{margin:0}"]}),a})();const hn=["wizard"];function Ut(a,p){if(1&a&&(e.TgZ(0,"li"),e._UZ(1,"p",46),e.ALo(2,"translate"),e.qZA()),2&a){const i=p.$implicit;e.xp6(1),e.Q6J("innerHTML",e.lcZ(2,1,"PROFILE_IDENTITY_NEW_PAGE.STATUS_ERROR."+i.toUpperCase()),e.oJD)}}function Tn(a,p){if(1&a&&(e.TgZ(0,"div",52),e.TgZ(1,"h4",53),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",54),e._UZ(5,"p",46),e.ALo(6,"translate"),e.TgZ(7,"ul"),e.YNc(8,Ut,3,3,"li",55),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw(2);e.xp6(2),e.Oqu(e.lcZ(3,3,"PROFILE_IDENTITY_NEW_PAGE.STATUS_ERROR.TITLE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(6,5,"PROFILE_IDENTITY_NEW_PAGE.STATUS_ERROR.DESCRIPTION"),e.oJD),e.xp6(3),e.Q6J("ngForOf",i.identityStatus.error)}}function Zn(a,p){1&a&&(e.TgZ(0,"div",59),e.TgZ(1,"div",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.UNACCEPTABLE_RISK")))}function On(a,p){1&a&&(e.TgZ(0,"div",59),e.TgZ(1,"div",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.UNDEFINED_RISK")))}function En(a,p){if(1&a&&(e.TgZ(0,"div",56),e._UZ(1,"app-user-identity-and-residence-address",57),e.YNc(2,Zn,5,3,"div",58),e.YNc(3,On,5,3,"div",58),e.qZA()),2&a){const i=e.oxw(2);e.xp6(1),e.Q6J("personalInfoForm",i.personalInfoForm)("addressForm",i.addressForm)("regionList",i.regionList),e.xp6(1),e.Q6J("ngIf",i.isUnacceptableRisk),e.xp6(1),e.Q6J("ngIf",i.isUndefinedRisk)}}function Je(a,p){1&a&&(e.TgZ(0,"div",60),e.TgZ(1,"p"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"a",61),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.COMPANY.DESCRIPTION")," "),e.xp6(3),e.hij(" ",e.lcZ(6,4,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.COMPANY.START_PROCESS")," "))}function Pn(a,p){if(1&a&&(e.TgZ(0,"button",62),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw(2);e.Q6J("disabled",i.submitting||i.isUnacceptableRisk)("bngxLoadingLayer",i.submitting),e.xp6(1),e.hij(" ",e.lcZ(2,3,"BUTTONS.CONTINUE")," ")}}const Cn=function(a){return{"d-none":a}},wt=function(a){return{active:a}},In=function(){return{stepIndex:0}},vn=function(a){return{completed:a}},bn=function(){return{stepIndex:2}},kt=function(a){return{"entity-selection":a}},Sn=function(a){return{submitted:a}};function xn(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",1),e.YNc(2,Tn,9,7,"div",2),e.TgZ(3,"aw-wizard",3,4),e.TgZ(5,"div",5),e._UZ(6,"div",6),e.TgZ(7,"button",7),e.NdJ("click",function(){return e.CHM(i),e.oxw().resetEntity()}),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"div",8),e._UZ(11,"i",9),e.qZA(),e.TgZ(12,"button",10),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.qZA(),e.TgZ(15,"div",11),e.TgZ(16,"aw-wizard-step",12),e.NdJ("stepEnter",function(){return e.CHM(i),e.oxw().scrollToTop()}),e.TgZ(17,"h2"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.TgZ(20,"div",13),e.TgZ(21,"div",14),e.TgZ(22,"div",15),e.TgZ(23,"div",16),e.TgZ(24,"div",17),e.TgZ(25,"div",18),e._UZ(26,"div",19),e.qZA(),e.TgZ(27,"div",20),e.TgZ(28,"h4"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"p"),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.qZA(),e.TgZ(34,"button",21),e.NdJ("click",function(){return e.CHM(i),e.oxw().setEntityType("personal")}),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",16),e.TgZ(38,"div",17),e.TgZ(39,"div",18),e._UZ(40,"div",22),e.qZA(),e.TgZ(41,"div",20),e.TgZ(42,"h4"),e._uU(43),e.ALo(44,"translate"),e.qZA(),e.TgZ(45,"p"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.qZA(),e.TgZ(48,"button",21),e.NdJ("click",function(){return e.CHM(i),e.oxw().setEntityType("company")}),e._uU(49),e.ALo(50,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(51,"aw-wizard-step",23),e.NdJ("stepEnter",function(){return e.CHM(i),e.oxw().scrollToTop()}),e.TgZ(52,"form",24,25),e.NdJ("ngSubmit",function(){return e.CHM(i),e.oxw().submitPersonalInfo()}),e.TgZ(54,"div",26),e.TgZ(55,"div",27),e.TgZ(56,"a",28),e.NdJ("click",function(){return e.CHM(i),e.oxw().resetEntity()}),e._UZ(57,"i",29),e.qZA(),e.TgZ(58,"h2",30),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"p",31),e.TgZ(62,"span"),e._uU(63),e.ALo(64,"translate"),e.qZA(),e._uU(65,"\xa0"),e.TgZ(66,"a",32),e._uU(67),e.ALo(68,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(69,"div",33),e.YNc(70,En,4,5,"div",34),e.YNc(71,Je,7,6,"div",35),e.qZA(),e.TgZ(72,"div",36),e.YNc(73,Pn,3,5,"button",37),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(74,"aw-wizard-step",38),e.NdJ("stepEnter",function(){return e.CHM(i),e.oxw().scrollToTop()}),e.TgZ(75,"div",39),e.TgZ(76,"div",27),e.TgZ(77,"a",40),e._UZ(78,"i",29),e.qZA(),e.TgZ(79,"h2",41),e._uU(80),e.ALo(81,"translate"),e.qZA(),e.TgZ(82,"p",31),e.TgZ(83,"span"),e._uU(84),e.ALo(85,"translate"),e.qZA(),e._uU(86,"\xa0"),e.TgZ(87,"a",32),e._uU(88),e.ALo(89,"translate"),e.qZA(),e.qZA(),e.TgZ(90,"p",31),e.TgZ(91,"span"),e._uU(92),e.ALo(93,"translate"),e.qZA(),e._uU(94,"\xa0"),e.TgZ(95,"a",32),e._uU(96),e.ALo(97,"translate"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(98,"div",33),e._UZ(99,"p",42),e.ALo(100,"translate"),e.TgZ(101,"div",43),e.TgZ(102,"div",44),e._UZ(103,"iframe",45),e.qZA(),e.TgZ(104,"div",44),e._UZ(105,"h4",46),e.ALo(106,"translate"),e.TgZ(107,"div",47),e.TgZ(108,"p"),e._UZ(109,"i",48),e._UZ(110,"span",46),e.ALo(111,"translate"),e.qZA(),e.TgZ(112,"p"),e._UZ(113,"i",48),e._UZ(114,"span",46),e.ALo(115,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(116,"div",49),e.TgZ(117,"a",50),e.TgZ(118,"button",51),e._uU(119),e.ALo(120,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.MAs(4),r=e.MAs(53),Z=e.oxw();e.xp6(2),e.Q6J("ngIf","error"===Z.identityStatus.status),e.xp6(3),e.Q6J("ngClass",e.VKq(85,Cn,0===i.currentStepIndex)),e.xp6(2),e.Q6J("ngClass",e.VKq(87,wt,0===i.currentStepIndex||1===i.currentStepIndex))("awGoToStep",e.DdM(89,In)),e.xp6(1),e.hij(" 1. ",e.lcZ(9,41,"PROFILE_IDENTITY_NEW_PAGE.STEPS_HEADER.INFORMATION")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(90,vn,i.currentStepIndex>0)),e.xp6(2),e.Q6J("ngClass",e.VKq(92,wt,2===i.currentStepIndex))("disabled",!0)("awGoToStep",e.DdM(94,bn)),e.xp6(1),e.hij(" 2. ",e.lcZ(14,43,"PROFILE_IDENTITY_NEW_PAGE.STEPS_HEADER.IDENTITY")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(95,kt,Z.selectingEntity)),e.xp6(3),e.Oqu(e.lcZ(19,45,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.TITLE")),e.xp6(11),e.hij(" ",e.lcZ(30,47,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.PERSONAL.TITLE")," "),e.xp6(3),e.hij(" ",e.lcZ(33,49,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.PERSONAL.DESCRIPTION")," "),e.xp6(3),e.hij(" ",e.lcZ(36,51,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.PERSONAL.BUTTON")," "),e.xp6(8),e.hij(" ",e.lcZ(44,53,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.COMPANY.TITLE")," "),e.xp6(3),e.hij(" ",e.lcZ(47,55,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.COMPANY.DESCRIPTION")," "),e.xp6(3),e.hij(" ",e.lcZ(50,57,"PROFILE_IDENTITY_NEW_PAGE.ACCOUNT_TYPE_SELECTION.COMPANY.BUTTON")," "),e.xp6(2),e.Q6J("canEnter",Z.canEnterFirstStep())("ngClass",e.VKq(97,kt,Z.selectingEntity)),e.xp6(1),e.Q6J("formGroup",Z.personalInfoForm)("ngClass",e.VKq(99,Sn,r.submitted)),e.xp6(2),e.Q6J("bngxLoadingLayer",Z.submitting),e.xp6(5),e.hij(" ",e.lcZ(60,59,"PROFILE_IDENTITY_NEW_PAGE.STEPS_HEADER.INFORMATION")," "),e.xp6(4),e.Oqu(e.lcZ(64,61,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.SUBTITLE")),e.xp6(4),e.Oqu(e.lcZ(68,63,"PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.KNOW_MORE")),e.xp6(3),e.Q6J("ngIf","personal"===Z.entityType),e.xp6(1),e.Q6J("ngIf","company"===Z.entityType),e.xp6(2),e.Q6J("ngIf","personal"===Z.entityType),e.xp6(1),e.Q6J("canEnter",Z.canEnterSecondStep()),e.xp6(6),e.hij(" ",e.lcZ(81,65,"PROFILE_IDENTITY_NEW_PAGE.IDENTITY_STEP.TITLE")," "),e.xp6(4),e.Oqu(e.lcZ(85,67,"PROFILE_IDENTITY_NEW_PAGE.IDENTITY_STEP.SUBTITLE")),e.xp6(4),e.Oqu(e.lcZ(89,69,"PROFILE_IDENTITY_NEW_PAGE.IDENTITY_STEP.KNOW_MORE")),e.xp6(4),e.Oqu(e.lcZ(93,71,"PROFILE_IDENTITY_NEW_PAGE.IDENTITY_STEP.SUBTITLE")),e.xp6(4),e.Oqu(e.lcZ(97,73,"PROFILE_IDENTITY_NEW_PAGE.IDENTITY_STEP.KNOW_MORE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(100,75,"PROFILE_IDENTITY_NEW_PAGE.JUMIO_VIDEO_ADVICE"),e.oJD),e.xp6(6),e.Q6J("innerHTML",e.lcZ(106,77,"PROFILE_IDENTITY_NEW_PAGE.BEFORE_START"),e.oJD),e.xp6(5),e.Q6J("innerHTML",e.lcZ(111,79,"PROFILE_IDENTITY_NEW_PAGE.ADVICES.FIRST"),e.oJD),e.xp6(4),e.Q6J("innerHTML",e.lcZ(115,81,"PROFILE_IDENTITY_NEW_PAGE.ADVICES.SECOND"),e.oJD),e.xp6(3),e.Q6J("href",Z.jumioHref,e.LSH),e.xp6(2),e.hij(" ",e.lcZ(120,83,"PROFILE_IDENTITY_NEW_PAGE.JUMIO_LINK")," ")}}let Gt=(()=>{class a{constructor(i,r,Z,S,F,ne,re,qt,Nt,Ai,hi,Ti,Zi,Oi,Ei,Pi){this.formBuilder=i,this.changeDetectorRef=r,this.currentUserStore=Z,this.router=S,this.activatedRoute=F,this.translateService=ne,this.urlService=re,this.authService=qt,this.sessionsService=Nt,this.layoutService=Ai,this.accountService=hi,this.addressService=Ti,this.jumioService=Zi,this.localeService=Oi,this.domSanitizer=Ei,this.commonService=Pi,this.addressesUser$=this.addressService.getAddresses().pipe((0,U.b)(Ci=>this.buildAddressForm(Ci))),this.destroy$=new ae.xQ,this.firstStepDone=!1,this.secondStepDone=!1,this.selectingEntity=!0,this.showWizard=!1,this.availableAccountTypes=[{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.ACCOUNT_TYPE_SELECT.PERSONAL"),value:"personal"},{label:this.translateService.stream("PROFILE_IDENTITY_NEW_PAGE.INFORMATION_STEP.ACCOUNT_TYPE_SELECT.COMPANY"),value:"company"}],this.currentDate=T.EDk.prepareDateToBack(new Date),this.datePattern=T.lth.DATE.PATTERN,this.submitting=!1,this.activeSession={data:[],total:0},this.showAlertNotAvailableCountry=!1,this.OTHERS_REASON_CONTROL_VALIDATORS=[I.kI.required]}ngOnInit(){this.isMobileOrTablet=this.layoutService.isMobile()||this.layoutService.isTablet(),this.identityStatus=this.activatedRoute.parent.snapshot.data.identityStatus,this.account=this.currentUserStore.getCurrentUser().account,this.buildForms(),this.currentUserStore.userSubject.pipe((0,ee.R)(this.destroy$)).subscribe(i=>{this.account=i.account,i.account.person&&(this.showWizard=!0)}),this.authService.tokenSubject.pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.authService.isVerified([T.Dzy.identity])?this.router.navigate(["/"],{replaceUrl:!0}).then(()=>{this.router.navigate(["/profile/identity"])}):this.router.navigate(["/profile/identity/new"],{replaceUrl:!0})}),this.loadActiveSession()}ngAfterViewInit(){this.changeDetectorRef.detectChanges()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}loadActiveSession(){this.sessionsService.getSessions({offset:0,limit:1,sort:"desc",filter:"active"}).subscribe(r=>{this.activeSession=r,this.personalInfoForm.get("person").get("nationalityCountryCode").setValue(this.activeSession.data[0].countryCode)})}isActiveStep(i){return!!this.wizard&&(this.wizard.currentStepIndex>=0?this.wizard.currentStepIndex:this.wizard.defaultStepIndex).toString()===i}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}canEnterSecondStep(){return Boolean("personal"===this.entityType&&this.personalInfoForm&&this.personalInfoForm.valid)}canEnterFirstStep(){return Boolean(this.entityType)}buildForms(){this.account.person=Object.assign({nationalityCountryCode:null,employmentStatus:null,profession:null,politicallyExposedPerson:null,gender:null},this.account.person),this.account.fundsOrigin=Object.assign({type:null,othersReason:null},this.account.fundsOrigin),this.personalInfoForm=this.formBuilder.group({depositEstimation:[this.account.depositEstimation,[I.kI.required]],fundsOrigin:this.formBuilder.group({type:[this.account.fundsOrigin.type||null,[I.kI.required]],othersReason:[this.account.fundsOrigin.othersReason||"",this.account.fundsOrigin.othersReason?this.OTHERS_REASON_CONTROL_VALIDATORS:null]}),person:this.formBuilder.group({nationalityCountryCode:[this.account.person.nationalityCountryCode||null,[I.kI.required]],gender:[this.account.person.gender||null,[I.kI.required]],employmentStatus:[this.account.person.employmentStatus||null,[I.kI.required]],profession:[this.account.person.profession||null,[I.kI.required]],politicallyExposedPerson:[this.account.person.politicallyExposedPerson||"no",[I.kI.required]]}),accountPurpose:[this.account.accountPurpose||null,[I.kI.required]]}),this.setValidatorsOnFundsOriginOthersReason()}buildAddressForm(i){const r=i.filter(S=>!0===S.isResidence);let Z=this.account.address;r&&!Tt().isEmpty(r)&&(Z={country:r[0].countryCode,state:r[0].stateCode,city:r[0].city,street:r[0].streetAddress,zip:r[0].zip}),Z.country&&this.commonService.regionsByCountryList(Z.country,this.currentUserStore.user.getLangCode()).pipe((0,ee.R)(this.destroy$)).subscribe(S=>{this.regionList=S}),this.addressForm=this.formBuilder.group({countryCode:[Z.country||null,[I.kI.required]],streetAddress:[Z.street,[I.kI.required]],stateCode:[Z.state,[I.kI.required]],city:[Z.city,[I.kI.required]],zip:[Z.zip,[I.kI.required]],isResidence:[!0,[I.kI.required]],isDefaultAddress:[!0]}),this.setUnacceptableForFormChanges()}setValidatorsOnFundsOriginOthersReason(){this.personalInfoForm.get("fundsOrigin.type").valueChanges.pipe((0,ee.R)(this.destroy$)).subscribe(i=>{const r=this.personalInfoForm.get("fundsOrigin").get("othersReason");"others"===i?r.setValidators(this.OTHERS_REASON_CONTROL_VALIDATORS):r.clearValidators(),this.personalInfoForm.get("fundsOrigin.othersReason").updateValueAndValidity()})}setUnacceptableForFormChanges(){const i=this.personalInfoForm.get("person").get("nationalityCountryCode").valueChanges,r=this.addressForm.get("countryCode").valueChanges;(0,At.T)(i,r).pipe((0,ee.R)(this.destroy$)).subscribe(()=>{this.isUnacceptableRisk=!1,this.isUndefinedRisk=!1})}submitPersonalInfo(){if(this.personalInfoForm.invalid||this.addressForm.invalid||this.isUnacceptableRisk)return;this.submitting=!0,this.submitting=!0;const i=this.personalInfoForm.getRawValue(),r=this.addressForm.getRawValue();this.accountService.update(i).pipe((0,Ce.zg)(()=>this.addressService.createAddress(r)),(0,Ce.zg)(()=>this.accountService.getIdentityStatus()),(0,U.b)(Z=>{this.isUnacceptableRisk=Z.risk.level===T.Ftf.unacceptable,this.isUndefinedRisk=Z.risk.level===T.Ftf.undefined}),(0,R.h)(Z=>![T.Ftf.unacceptable,T.Ftf.undefined].includes(Z.risk.level)),(0,Ce.zg)(()=>{const Z=this.localeService.getLocale();return this.jumioService.initiate(Z).pipe((0,Zt.K)(S=>(406===S.status&&this.router.navigate(["/profile/identity/max-retries-reached"]),S)))})).subscribe(Z=>{this.jumioHref=this.domSanitizer.bypassSecurityTrustResourceUrl(null==Z?void 0:Z.redirectUrl),this.wizard.goToNextStep()}).add(()=>{this.submitting=!1})}setEntityType(i){this.entityType=i,setTimeout(()=>{this.wizard.goToNextStep(),this.selectingEntity=!1})}resetEntity(){this.entityType="",this.selectingEntity=!0}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(I.qu),e.Y36(e.sBO),e.Y36(T.Dk$),e.Y36(m.F0),e.Y36(m.gz),e.Y36(n.sK),e.Y36(T.iOJ),e.Y36(T.e80),e.Y36(T.jVh),e.Y36(T.Pb3),e.Y36(T.BRM),e.Y36(_e.D),e.Y36(Ot),e.Y36(T.OLO),e.Y36(Et.H7),e.Y36(T.v_H))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(i,r){if(1&i&&e.Gf(hn,5),2&i){let Z;e.iGM(Z=e.CRH())&&(r.wizard=Z.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"card-page-outer","card-page-no-padding","pt-0"],["class","alert alert-danger alert-dismissible","role","alert",4,"ngIf"],["navBarLayout","large-empty",1,"aw-wizard-hide-steps"],["wizard",""],["id","identity-steps",1,"position-relative",3,"ngClass"],[1,"margin"],["role","button",1,"card-tab-button","identity-step","step-a",3,"ngClass","awGoToStep","click"],[1,"path","path-a",3,"ngClass"],["aria-hidden","true",1,"b2msf-chevron-right"],["role","button",1,"card-tab-button","identity-step","step-b",3,"ngClass","disabled","awGoToStep"],[1,"card-page-contents","wide-content",3,"ngClass"],[3,"stepEnter"],[1,"row"],[1,"col-12","col-md-10","offset-md-1"],[1,"row","entity-type-selection"],[1,"col-12","col-lg-6"],[1,"option"],[1,"max-width","mx-auto"],[1,"aspect-ratio",2,"background-image","url(../../../../assets/images/identity/img-account-personal.svg)"],[1,"hide-text"],[1,"b2m-btn","btn-solid",3,"click"],[1,"aspect-ratio",2,"background-image","url(../../../../assets/images/identity/img-account-business.svg)"],[3,"canEnter","ngClass","stepEnter"],[1,"position-relative",3,"formGroup","ngClass","ngSubmit"],["personalInfoFormTemplate","ngForm"],["context","fullcomponent",1,"card-tab","information",3,"bngxLoadingLayer"],[1,"card-page-title-box","clearfix"],["awPreviousStep","",1,"card-page-back-button-placeholder",3,"click"],["aria-hidden","true",1,"b2msf-chevron-left"],[1,"card-page-title","pl-0"],[1,"card-page-subtitle","my-0","d-none"],["href","#","target","_blank","rel","noopener noreferrer"],[1,"card-page-inner"],["class","personal",4,"ngIf"],["class","company",4,"ngIf"],[1,"card-page-footer","text-right"],["type","submit","class","b2m-btn btn-solid mr-0",3,"disabled","bngxLoadingLayer",4,"ngIf"],[3,"canEnter","stepEnter"],[1,"card-tab","identity"],["awPreviousStep","",1,"card-page-back-button-placeholder"],[1,"card-page-title"],[1,"mb-5",3,"innerHTML"],[1,"row","jumio-start"],[1,"col-md-6","col-12","section"],["width","100%","height","100%","src","https://www.youtube.com/embed/mY_XrwbW5j0","frameborder","0","allowfullscreen",""],[3,"innerHTML"],[1,"advices","text-left"],["aria-hidden","true",1,"b2msf-check-circle-solid","mr-3"],[1,"w-100","mt-5","text-center"],[3,"href"],[1,"b2m-btn","btn-solid"],["role","alert",1,"alert","alert-danger","alert-dismissible"],[1,"alert-heading"],[1,"alert-contents"],[4,"ngFor","ngForOf"],[1,"personal"],[3,"personalInfoForm","addressForm","regionList"],["class","alert mini-alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","mini-alert","alert-danger"],[1,"company"],["routerLink","company",1,"company-link","b2m-btn","btn-solid"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"disabled","bngxLoadingLayer"]],template:function(i,r){1&i&&(e.YNc(0,xn,121,101,"div",0),e.ALo(1,"async")),2&i&&e.Q6J("ngIf",e.lcZ(1,1,r.addressesUser$))},directives:[E.O5,le.Pl,E.mk,le.F6,le.GZ,I._Y,I.JL,I.sg,T.gO3,le.ei,E.sg,Ft,m.yS],pipes:[E.Ov,n.X$],styles:["form.submitted[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]  .ng-invalid .ng-select-container:after{border-color:#ea3632;box-shadow:0 2px #ea3632}form.submitted[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]  .ng-invalid .ng-select-container .ng-arrow-wrapper .ng-arrow{color:#ea3632}ng-select[_ngcontent-%COMP%]  .ng-dropdown-panel-items{max-height:140px}.date-box-group[_ngcontent-%COMP%]   ng-select[_ngcontent-%COMP%]  .ng-select-container{padding-left:5px!important}.help-buttons-box[_ngcontent-%COMP%]   .b2m-btn[_ngcontent-%COMP%]{width:100%;max-width:360px}.card-page-contents[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:30px}.card-page-contents.entity-selection[_ngcontent-%COMP%]{background-color:transparent;border:none}@media (max-width: 576px){.card-page-contents.entity-selection[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:5px;font-weight:600;font-size:18px}}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{background-color:#fff;box-shadow:0 0 0 1px #eaeff6;padding:60px;text-align:center;max-height:460px}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .max-width[_ngcontent-%COMP%]{max-width:400px;padding:0 80px}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   .max-width[_ngcontent-%COMP%]   .aspect-ratio[_ngcontent-%COMP%]{width:100%;padding-bottom:84.75%;background-size:contain;background-position:center}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;font-size:14px}@media (max-width: 991px){.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-bottom:30px;max-height:500px}}@media (max-width: 575px){.entity-type-selection[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{margin-bottom:0;padding:10px}}.entity-type-selection.extra-requeriments[_ngcontent-%COMP%]   .option[_ngcontent-%COMP%]{padding:0;box-shadow:none}[_nghost-%COMP%]{padding-top:70px}[_nghost-%COMP%]   .company[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   .company[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#044e97}[_nghost-%COMP%]   .company[_ngcontent-%COMP%]   a.company-link[_ngcontent-%COMP%]{color:#fff}[_nghost-%COMP%]   .company[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:15px}[_nghost-%COMP%]   .company[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:30px}@media (max-width: 575px){[_nghost-%COMP%]{margin-top:10px;padding-top:0}}.jumio-start[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{min-height:250px}.jumio-start[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin-bottom:30px}.jumio-start[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .advices[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:20px}.jumio-start[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .advices[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#36a34d}@media (max-width: 767px){.card-page-contents.entity-selection[_ngcontent-%COMP%]{width:90%}.help-buttons-box[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.jumio-start[_ngcontent-%COMP%]   .advices[_ngcontent-%COMP%]{margin-top:30px;text-align:center}}@media (max-width: 575px){.card-page-title[_ngcontent-%COMP%]{margin-bottom:0!important}.card-page-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%!important}.hide-text[_ngcontent-%COMP%]{display:none}}"]}),a})();var Yt=f(37442);function Jt(a,p){if(1&a&&(e.TgZ(0,"div",22),e.TgZ(1,"h4",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",24),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"a",25),e._uU(12),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,5,"PROFILE_IDENTITY_RESUME_PAGE.VERIFICATION_PENDING")),e.xp6(4),e.Oqu(e.lcZ(7,7,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.TEXT_A")),e.xp6(3),e.Oqu(e.lcZ(10,9,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.TEXT_B")),e.xp6(2),e.MGl("href","https://wallet",i.urlService.getCurrentDomain(),"",e.LSH),e.xp6(1),e.hij(" ",e.lcZ(13,11,"PROFILE_IDENTITY_RESUME_PAGE.DATA_SUBMITTED.BUTTON")," ")}}function Ln(a,p){1&a&&(e.TgZ(0,"div",26),e.TgZ(1,"h4",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",24),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.TgZ(8,"a",27),e._uU(9,"+34 910 91 37 88"),e.qZA(),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"a",28),e.ALo(13,"translate"),e._uU(14,"support@bit2me.com"),e.qZA(),e._uU(15,". "),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TITLE")),e.xp6(4),e.hij(" ",e.lcZ(7,6,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TEXT_A")," "),e.xp6(4),e.hij(" ",e.lcZ(11,8,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.TEXT_B")," "),e.xp6(2),e.Q6J("title",e.lcZ(13,10,"PROFILE_IDENTITY_RESUME_PAGE.ID_VERIFIED.LINK_TITLE")))}function Mn(a,p){1&a&&(e.TgZ(0,"div",22),e.TgZ(1,"h4",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",24),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,2,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TITLE")),e.xp6(4),e.Oqu(e.lcZ(7,4,"PROFILE_IDENTITY_RESUME_PAGE.DISABLE_PROCESS.TEXT_A")))}function Rn(a,p){1&a&&(e.TgZ(0,"div",29),e.TgZ(1,"h4",23),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",24),e.TgZ(5,"p"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"p"),e.TgZ(9,"a",25),e.ALo(10,"translate"),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Oqu(e.lcZ(3,4,"PROFILE_IDENTITY_RESUME_PAGE.VERIFICATION_PENDING")),e.xp6(4),e.Oqu(e.lcZ(7,6,"PROFILE_IDENTITY_NEW_PAGE.STATUS_ERROR.ENHANCEDMEASURESNOTRECEIVED")),e.xp6(3),e.Q6J("href",e.lcZ(10,8,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.FORM_HREF"),e.LSH),e.xp6(2),e.hij(" ",e.lcZ(12,10,"IDENTITY_SUCCESS_PAGE.HIGH_RISK.EXTRA_DOCUMENTATION_FORM_OPENED_LINK_TEXT")," "))}let St=(()=>{class a{constructor(i,r,Z,S){this.currentUserStore=i,this.activatedRoute=r,this.translateService=Z,this.urlService=S,this.account={},this.countryList=Yt.getNames(this.translateService.currentLang),this.availableIdTypes=[{label:this.translateService.stream("PROFILE_IDENTITY_RESUME_PAGE.IDENTITY.DOCUMENT_TYPE_OPTION_ID"),value:"idcard"},{label:this.translateService.stream("PROFILE_IDENTITY_RESUME_PAGE.IDENTITY.DOCUMENT_TYPE_OPTION_PASSPORT"),value:"passport"}],this.unsubscribe=new ae.xQ}ngOnInit(){this.currentUserStore.userSubject.pipe((0,ee.R)(this.unsubscribe)).subscribe(i=>{this.account=i.account}),this.translateService.onLangChange.pipe((0,ee.R)(this.unsubscribe)).subscribe(i=>{this.countryList=Yt.getNames(i.lang)}),this.identityStatus=this.activatedRoute.parent.snapshot.data.identityStatus}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}showDisableProcess(){var i;let r=!1;return"error"===this.identityStatus.status&&(null===(i=this.identityStatus)||void 0===i?void 0:i.disableProcess)&&(r=!0),this.identityStatus.error.includes(T.Tjq.enhancedMeasuresNotReceived)&&(r=!1),r}showEnhancedMeasures(){return this.identityStatus.error.includes(T.Tjq.enhancedMeasuresNotReceived)}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.Dk$),e.Y36(m.gz),e.Y36(n.sK),e.Y36(T.iOJ))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:64,vars:58,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],[1,"card-page-title"],[1,"card-page-inner"],["class","alert alert-primary","role","alert",4,"ngIf"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-primary alert-dismissible","role","alert",4,"ngIf"],[1,"py-4"],[1,"title","title-border-bottom","mb-4"],[1,"row"],[1,"col-12","col-md-4"],[1,"form-group"],["disabled","",1,"b2m-select",3,"ngModel","searchable","clearable","placeholder"],["value","person"],["value","company"],[1,"col-12","col-md-8"],[1,"col-12","col-sm-6"],["type","text","name","","disabled","",1,"input-control",3,"placeholder","ngModel"],["type","date","disabled","",3,"ngModel"],["value","male"],["value","female"],["role","alert",1,"alert","alert-primary"],[1,"alert-heading"],[1,"alert-contents"],["type","button",1,"b2m-btn","btn-solid","mb-1",3,"href"],["role","alert",1,"alert","alert-success"],["href","tel:+34910913788"],["href","mailto:support@bit2me.com",3,"title"],["role","alert",1,"alert","alert-primary","alert-dismissible"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.YNc(7,Jt,14,13,"div",5),e.YNc(8,Ln,16,12,"div",6),e.YNc(9,Mn,8,6,"div",5),e.YNc(10,Rn,13,12,"div",7),e.TgZ(11,"section",8),e.TgZ(12,"h5",9),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"div",10),e.TgZ(16,"div",11),e.TgZ(17,"fieldset",12),e.TgZ(18,"label"),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"ng-select",13),e.ALo(22,"translate"),e.TgZ(23,"ng-option",14),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.TgZ(26,"ng-option",15),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(29,"div",16),e.TgZ(30,"div",10),e.TgZ(31,"div",17),e.TgZ(32,"fieldset",12),e.TgZ(33,"label"),e._uU(34),e.ALo(35,"translate"),e.qZA(),e._UZ(36,"input",18),e.ALo(37,"translate"),e.qZA(),e.qZA(),e.TgZ(38,"div",17),e.TgZ(39,"fieldset",12),e.TgZ(40,"label"),e._uU(41),e.ALo(42,"translate"),e.qZA(),e._UZ(43,"input",18),e.ALo(44,"translate"),e.qZA(),e.qZA(),e.TgZ(45,"div",17),e.TgZ(46,"fieldset",12),e.TgZ(47,"label"),e._uU(48),e.ALo(49,"translate"),e.qZA(),e._UZ(50,"input",19),e.qZA(),e.qZA(),e.TgZ(51,"div",17),e.TgZ(52,"fieldset",12),e.TgZ(53,"label"),e._uU(54),e.ALo(55,"translate"),e.qZA(),e.TgZ(56,"ng-select",13),e.ALo(57,"translate"),e.TgZ(58,"ng-option",20),e._uU(59),e.ALo(60,"translate"),e.qZA(),e.TgZ(61,"ng-option",21),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,28,"PROFILE_IDENTITY_RESUME_PAGE.TITLE")),e.xp6(3),e.Q6J("ngIf","pending"===r.identityStatus.status&&!r.showEnhancedMeasures()),e.xp6(1),e.Q6J("ngIf","verified"===r.identityStatus.status),e.xp6(1),e.Q6J("ngIf",r.showDisableProcess()),e.xp6(1),e.Q6J("ngIf",r.showEnhancedMeasures()),e.xp6(3),e.hij(" ",e.lcZ(14,30,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TITLE")," "),e.xp6(6),e.Oqu(e.lcZ(20,32,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_LABEL")),e.xp6(2),e.Q6J("ngModel",null==r.account?null:r.account.type)("searchable",!1)("clearable",!1)("placeholder",e.lcZ(22,34,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_LABEL")),e.xp6(3),e.hij(" ",e.lcZ(25,36,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_PERSONAL")," "),e.xp6(3),e.hij(" ",e.lcZ(28,38,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.TYPE_OPTION_COMPANY")," "),e.xp6(7),e.Oqu(e.lcZ(35,40,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.NAME_LABEL")),e.xp6(2),e.s9C("placeholder",e.lcZ(37,42,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.NAME_PLACEHOLDER")),e.Q6J("ngModel",null==r.account||null==r.account.person?null:r.account.person.name),e.xp6(5),e.Oqu(e.lcZ(42,44,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.SURNAME_LABEL")),e.xp6(2),e.s9C("placeholder",e.lcZ(44,46,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.SURNAME_PLACEHOLDER")),e.Q6J("ngModel",null==r.account||null==r.account.person?null:r.account.person.surname),e.xp6(5),e.Oqu(e.lcZ(49,48,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.BIRTHDATE_LABEL")),e.xp6(2),e.Q6J("ngModel",null==r.account||null==r.account.person?null:r.account.person.birthDate),e.xp6(4),e.Oqu(e.lcZ(55,50,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_LABEL")),e.xp6(2),e.Q6J("ngModel",null==r.account||null==r.account.person?null:r.account.person.gender)("searchable",!1)("clearable",!1)("placeholder",e.lcZ(57,52,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_LABEL")),e.xp6(3),e.hij(" ",e.lcZ(60,54,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_OPTION_MALE")," "),e.xp6(3),e.hij(" ",e.lcZ(63,56,"PROFILE_IDENTITY_RESUME_PAGE.PERSONAL_INFORMATION.GENDER_OPTION_FEMALE")," "))},directives:[E.O5,ie.w9,I.JJ,I.On,ie.xv,I.Fj],pipes:[n.X$],styles:[".identity-proof-outer[_ngcontent-%COMP%]{width:100%;max-width:460px;margin:0 auto}.identity-proof[_ngcontent-%COMP%]{padding-bottom:62.5%;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#d1dce7}.identity-proof.empty[_ngcontent-%COMP%]{background-size:contain}.card-page-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.alert[_ngcontent-%COMP%]{width:100%;margin-top:0}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin-bottom:0}.identity-verified[_ngcontent-%COMP%]{color:#4d964d;font-weight:700}"]}),a})(),yn=(()=>{class a{constructor(i){this.accountService=i}resolve(){return this.accountService.getIdentityStatus().pipe((0,c.U)(i=>i)).toPromise()}}return a.\u0275fac=function(i){return new(i||a)(e.LFG(T.BRM))},a.\u0275prov=e.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();var xt=f(91031),Lt=f(19369);function Dn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const qn=function(a){return{value:a}};function Nn(a,p){if(1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a){const i=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",e.VKq(4,qn,null==i.newAddressForm||null==i.newAddressForm.controls||null==i.newAddressForm.controls.alias||null==i.newAddressForm.controls.alias.errors||null==i.newAddressForm.controls.alias.errors.maxlength?null:i.newAddressForm.controls.alias.errors.maxlength.requiredLength))," ")}}function Fn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Un(a,p){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",null==i?null:i.iso),e.xp6(1),e.Oqu(null==i?null:i.name)}}function Qt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function wn(a,p){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",null==i?null:i.fips),e.xp6(1),e.Oqu(null==i?null:i.name)}}function kn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Gn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Yn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const Jn=function(a){return{submitted:a}};let Vt=(()=>{class a{constructor(i,r,Z,S,F,ne,re){this.nzModalRef=i,this.formBuilder=r,this.addressService=Z,this.notificationsService=S,this.translateService=F,this.commonService=ne,this.currentUserStore=re,this.destroy=new ae.xQ,this.submitting=!1}ngOnInit(){this.initForm()}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}initForm(){this.newAddressForm=this.formBuilder.group({alias:["",[I.kI.required,I.kI.maxLength(50)]],streetAddress:["",[I.kI.required]],countryCode:[null,[I.kI.required]],city:["",[I.kI.required]],zip:["",[I.kI.required]],stateCode:[null,[I.kI.required]],isDefaultAddress:[!1,[I.kI.required]]})}handleSelectedCountryChanges(i){var r=this;return(0,Lt.Z)(function*(){!i||(yield r.commonService.regionsByCountryList(i,r.currentUserStore.user.getLangCode()).toPromise().then(Z=>{var S;r.selectableRegions=Z,r.newAddressForm.patchValue({stateCode:(null===(S=null==Z?void 0:Z.first())||void 0===S?void 0:S.fips)||null})}))})()}onSubmit(){if(this.newAddressForm.invalid)return;this.submitting=!0;const i=this.newAddressForm.getRawValue();this.addressService.createAddress(i).pipe((0,ee.R)(this.destroy)).subscribe(r=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(r)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf),e.Y36(I.qu),e.Y36(_e.D),e.Y36(T.TFo),e.Y36(n.sK),e.Y36(T.v_H),e.Y36(T.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{selectableCountries:"selectableCountries"},decls:68,vars:60,consts:[[1,"modal-header"],[1,"modal-title"],[3,"formGroup","ngClass","ngSubmit"],["newAddressFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","alias",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","formControlName","streetAddress",3,"placeholder"],["formControlName","countryCode",3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stateCode",3,"placeholder"],["type","text","formControlName","zip",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],[1,"b2m-checkbox"],["id","my-checkbox","type","checkbox","formControlName","isDefaultAddress"],["for","my-checkbox"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","w-100","mx-auto",3,"disabled","bngxLoadingLayer"],[3,"value"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(6,"div",4),e.TgZ(7,"fieldset",5),e.TgZ(8,"label"),e._uU(9),e.ALo(10,"translate"),e.qZA(),e._UZ(11,"input",6),e.ALo(12,"translate"),e.TgZ(13,"div",7),e.YNc(14,Dn,3,3,"div",8),e.YNc(15,Nn,3,6,"div",8),e.qZA(),e.qZA(),e.TgZ(16,"fieldset",5),e.TgZ(17,"label"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e._UZ(20,"input",9),e.ALo(21,"translate"),e.TgZ(22,"div",7),e.YNc(23,Fn,3,3,"div",8),e.qZA(),e.qZA(),e.TgZ(24,"fieldset",5),e.TgZ(25,"label"),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"ng-select",10),e.NdJ("change",function(S){return r.handleSelectedCountryChanges(S)}),e.ALo(29,"translate"),e.YNc(30,Un,2,2,"ng-option",11),e.qZA(),e.TgZ(31,"div",7),e.YNc(32,Qt,3,3,"div",8),e.qZA(),e.qZA(),e.TgZ(33,"fieldset",5),e.TgZ(34,"label"),e._uU(35),e.ALo(36,"translate"),e.qZA(),e.TgZ(37,"ng-select",12),e.ALo(38,"translate"),e.YNc(39,wn,2,2,"ng-option",11),e.qZA(),e.TgZ(40,"div",7),e.YNc(41,kn,3,3,"div",8),e.qZA(),e.qZA(),e.TgZ(42,"fieldset",5),e.TgZ(43,"label"),e._uU(44),e.ALo(45,"translate"),e.qZA(),e._UZ(46,"input",13),e.ALo(47,"translate"),e.TgZ(48,"div",7),e.YNc(49,Gn,3,3,"div",8),e.qZA(),e.qZA(),e.TgZ(50,"fieldset",5),e.TgZ(51,"label"),e._uU(52),e.ALo(53,"translate"),e.qZA(),e._UZ(54,"input",14),e.ALo(55,"translate"),e.TgZ(56,"div",7),e.YNc(57,Yn,3,3,"div",8),e.qZA(),e.qZA(),e.TgZ(58,"fieldset",5),e.TgZ(59,"div",15),e._UZ(60,"input",16),e.TgZ(61,"label",17),e._uU(62),e.ALo(63,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(64,"div",18),e.TgZ(65,"button",19),e._uU(66),e.ALo(67,"translate"),e.qZA(),e.qZA(),e.qZA()),2&i){const Z=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,28,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.TITLE")),e.xp6(2),e.Q6J("formGroup",r.newAddressForm)("ngClass",e.VKq(58,Jn,Z.submitted)),e.xp6(5),e.Oqu(e.lcZ(10,30,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ALIAS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(12,32,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ALIAS")),e.xp6(3),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.alias||null==r.newAddressForm.controls.alias.errors?null:r.newAddressForm.controls.alias.errors.required),e.xp6(1),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.alias||null==r.newAddressForm.controls.alias.errors?null:r.newAddressForm.controls.alias.errors.maxlength),e.xp6(3),e.Oqu(e.lcZ(19,34,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ADDRESS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(21,36,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ADDRESS")),e.xp6(3),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.streetAddress||null==r.newAddressForm.controls.streetAddress.errors?null:r.newAddressForm.controls.streetAddress.errors.required),e.xp6(3),e.Oqu(e.lcZ(27,38,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.COUNTRY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(29,40,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.COUNTRY")),e.xp6(2),e.Q6J("ngForOf",r.selectableCountries),e.xp6(2),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.countryCode||null==r.newAddressForm.controls.countryCode.errors?null:r.newAddressForm.controls.countryCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(36,42,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.STATE")),e.xp6(2),e.Q6J("placeholder",e.lcZ(38,44,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.STATE")),e.xp6(2),e.Q6J("ngForOf",r.selectableRegions),e.xp6(2),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.stateCode||null==r.newAddressForm.controls.stateCode.errors?null:r.newAddressForm.controls.stateCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(45,46,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.ZIP")),e.xp6(2),e.Q6J("placeholder",e.lcZ(47,48,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.ZIP")),e.xp6(3),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.zip||null==r.newAddressForm.controls.zip.errors?null:r.newAddressForm.controls.zip.errors.required),e.xp6(3),e.Oqu(e.lcZ(53,50,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CITY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(55,52,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.CITY")),e.xp6(3),e.Q6J("ngIf",null==r.newAddressForm||null==r.newAddressForm.controls||null==r.newAddressForm.controls.city||null==r.newAddressForm.controls.city.errors?null:r.newAddressForm.controls.city.errors.required),e.xp6(5),e.Oqu(e.lcZ(63,54,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CHECK_DEFAULT")),e.xp6(3),e.Q6J("disabled",r.submitting)("bngxLoadingLayer",r.submitting),e.xp6(1),e.hij(" ",e.lcZ(67,56,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.BUTTON.SAVE")," ")}},directives:[I._Y,I.JL,I.sg,E.mk,I.Fj,I.JJ,I.u,E.O5,ie.w9,E.sg,I.Wl,T.gO3,ie.xv],pipes:[n.X$],styles:[""]}),a})();function Qn(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",3),e.TgZ(2,"p"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"span"),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(17,"div",6),e.TgZ(18,"button",7),e.NdJ("click",function(){e.CHM(i);const Z=e.oxw();return Z.deleteAddress(null==Z.address?null:Z.address.id)}),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,10,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.ALERT_DESCRIPTION")),e.xp6(5),e.Oqu(null==i.address?null:i.address.alias),e.xp6(2),e.Oqu(null==i.address?null:i.address.streetAddress),e.xp6(2),e.AsE("",null==i.address?null:i.address.city," ",null==i.address?null:i.address.stateCode,""),e.xp6(2),e.Oqu(null==i.address?null:i.address.zip),e.xp6(2),e.Oqu(null==i.address?null:i.address.countryCode),e.xp6(2),e.Q6J("disabled",i.submitting)("bngxLoadingLayer",i.submitting),e.xp6(1),e.hij(" ",e.lcZ(20,12,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.BUTTON")," ")}}function $n(a,p){1&a&&(e.TgZ(0,"div"),e.TgZ(1,"div",3),e._UZ(2,"p",8),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,1,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.CANNOT_REMOVE.MESSAGE"),e.oJD))}let Ht=(()=>{class a{constructor(i,r,Z,S){this.nzModalRef=i,this.addressService=r,this.notificationsService=Z,this.translateService=S,this.destroy=new ae.xQ,this.submitting=!1}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}deleteAddress(i){this.submitting=!0,this.addressService.deleteAddress(i).pipe((0,ee.R)(this.destroy)).subscribe(()=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(!0)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf),e.Y36(_e.D),e.Y36(T.TFo),e.Y36(n.sK))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{address:"address"},decls:6,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"modal-body"],[1,"address","mt-3"],[1,"name","font-weight-bold"],[1,"modal-footer"],["type","button",1,"b2m-btn","btn-solid","danger","w-100","mx-auto",3,"disabled","bngxLoadingLayer","click"],[3,"innerHTML"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.YNc(4,Qn,21,14,"div",2),e.YNc(5,$n,4,3,"div",2)),2&i&&(e.xp6(2),e.Oqu(e.lcZ(3,3,"PROFILE_ADDRESSES_PAGE.DIALOGS.DELETE_ADDRESS.TITLE")),e.xp6(2),e.Q6J("ngIf",!(null!=r.address&&r.address.isResidence)),e.xp6(1),e.Q6J("ngIf",null==r.address?null:r.address.isResidence))},directives:[E.O5,T.gO3],pipes:[n.X$],styles:[""]}),a})();function zt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Vn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Hn(a,p){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",null==i?null:i.iso),e.xp6(1),e.Oqu(null==i?null:i.name)}}function Bt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Mt(a,p){if(1&a&&(e.TgZ(0,"ng-option",20),e._uU(1),e.qZA()),2&a){const i=p.$implicit;e.Q6J("value",null==i?null:i.fips),e.xp6(1),e.Oqu(null==i?null:i.name)}}function zn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Rt(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Bn(a,p){1&a&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&a&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function jt(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"div",5),e.TgZ(2,"fieldset",6),e.TgZ(3,"label"),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"input",7),e.ALo(7,"translate"),e.TgZ(8,"div",8),e.YNc(9,zt,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(10,"fieldset",6),e.TgZ(11,"label"),e._uU(12),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"input",9),e.ALo(15,"translate"),e.TgZ(16,"div",8),e.YNc(17,Vn,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(18,"fieldset",6),e.TgZ(19,"label"),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"ng-select",10),e.NdJ("change",function(Z){return e.CHM(i),e.oxw().handleSelectedCountryChanges(Z)}),e.ALo(23,"translate"),e.YNc(24,Hn,2,2,"ng-option",11),e.qZA(),e.TgZ(25,"div",8),e.YNc(26,Bt,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(27,"fieldset",6),e.TgZ(28,"label"),e._uU(29),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"ng-select",12),e.ALo(32,"translate"),e.YNc(33,Mt,2,2,"ng-option",11),e.qZA(),e.TgZ(34,"div",8),e.YNc(35,zn,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(36,"fieldset",6),e.TgZ(37,"label"),e._uU(38),e.ALo(39,"translate"),e.qZA(),e._UZ(40,"input",13),e.ALo(41,"translate"),e.TgZ(42,"div",8),e.YNc(43,Rt,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(44,"fieldset",6),e.TgZ(45,"label"),e._uU(46),e.ALo(47,"translate"),e.qZA(),e._UZ(48,"input",14),e.ALo(49,"translate"),e.TgZ(50,"div",8),e.YNc(51,Bn,3,3,"div",4),e.qZA(),e.qZA(),e.TgZ(52,"fieldset",6),e.TgZ(53,"div",15),e._UZ(54,"input",16),e.TgZ(55,"label",17),e._uU(56),e.ALo(57,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(58,"div",18),e.TgZ(59,"button",19),e._uU(60),e.ALo(61,"translate"),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,24,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ALIAS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(7,26,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ALIAS")),e.xp6(3),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.alias||null==i.editAddressForm.controls.alias.errors?null:i.editAddressForm.controls.alias.errors.required),e.xp6(3),e.Oqu(e.lcZ(13,28,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ADDRESS")),e.xp6(2),e.Q6J("placeholder",e.lcZ(15,30,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ADDRESS")),e.xp6(3),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.streetAddress||null==i.editAddressForm.controls.streetAddress.errors?null:i.editAddressForm.controls.streetAddress.errors.required),e.xp6(3),e.Oqu(e.lcZ(21,32,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.COUNTRY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(23,34,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.COUNTRY")),e.xp6(2),e.Q6J("ngForOf",i.selectableCountries),e.xp6(2),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.countryCode||null==i.editAddressForm.controls.countryCode.errors?null:i.editAddressForm.controls.countryCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(30,36,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.STATE")),e.xp6(2),e.Q6J("placeholder",e.lcZ(32,38,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.STATE")),e.xp6(2),e.Q6J("ngForOf",i.selectableRegions),e.xp6(2),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.stateCode||null==i.editAddressForm.controls.stateCode.errors?null:i.editAddressForm.controls.stateCode.errors.required),e.xp6(3),e.Oqu(e.lcZ(39,40,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.LABELS.CITY")),e.xp6(2),e.Q6J("placeholder",e.lcZ(41,42,"PROFILE_ADDRESSES_PAGE.DIALOGS.CREATE_ADDRESS.PLACEHOLDERS.CITY")),e.xp6(3),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.city||null==i.editAddressForm.controls.city.errors?null:i.editAddressForm.controls.city.errors.required),e.xp6(3),e.Oqu(e.lcZ(47,44,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.ZIP")),e.xp6(2),e.Q6J("placeholder",e.lcZ(49,46,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.PLACEHOLDERS.ZIP")),e.xp6(3),e.Q6J("ngIf",null==i.editAddressForm||null==i.editAddressForm.controls||null==i.editAddressForm.controls.zip||null==i.editAddressForm.controls.zip.errors?null:i.editAddressForm.controls.zip.errors.required),e.xp6(5),e.Oqu(e.lcZ(57,48,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.LABELS.CHECK_DEFAULT")),e.xp6(3),e.Q6J("disabled",i.submitting)("bngxLoadingLayer",i.submitting),e.xp6(1),e.hij(" ",e.lcZ(61,50,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.BUTTON.SAVE")," ")}}function jn(a,p){1&a&&(e.TgZ(0,"div"),e.TgZ(1,"div",5),e._UZ(2,"p",21),e.ALo(3,"translate"),e.qZA(),e.qZA()),2&a&&(e.xp6(2),e.Q6J("innerHTML",e.lcZ(3,1,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.CANNOT_EDIT.MESSAGE"),e.oJD))}const Wn=function(a){return{submitted:a}};let Wt=(()=>{class a{constructor(i,r,Z,S,F,ne,re){this.nzModalRef=i,this.formBuilder=r,this.addressService=Z,this.notificationsService=S,this.translateService=F,this.commonService=ne,this.currentUserStore=re,this.destroy=new ae.xQ,this.submitting=!1,this.isFirst=!0}ngOnInit(){this.initForm(),this.handleSelectedCountryChanges(this.editAddressForm.get("countryCode").value)}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}initForm(){this.editAddressForm=this.formBuilder.group({id:[this.address.id],alias:[this.address.alias,[I.kI.required]],streetAddress:[this.address.streetAddress,[I.kI.required]],countryCode:[this.address.countryCode,[I.kI.required]],city:[this.address.city,[I.kI.required]],zip:[this.address.zip,[I.kI.required]],stateCode:[this.address.stateCode,[I.kI.required]],isDefaultAddress:[this.address.isDefaultAddress,[I.kI.required]]})}handleSelectedCountryChanges(i){var r=this;return(0,Lt.Z)(function*(){!i||r.address.isResidence||(yield r.commonService.regionsByCountryList(i,r.currentUserStore.user.getLangCode()).toPromise().then(Z=>{var S;r.selectableRegions=Z,r.isFirst||r.editAddressForm.patchValue({stateCode:(null===(S=null==Z?void 0:Z.first())||void 0===S?void 0:S.fips)||null}),r.isFirst=!1}))})()}onSubmit(){if(this.editAddressForm.invalid)return;this.submitting=!0;const i=this.editAddressForm.getRawValue();this.addressService.editAddress(i).pipe((0,ee.R)(this.destroy)).subscribe(r=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.NOTIFICATION_SUCCESS")),this.nzModalRef.close(r)},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.NOTIFICATION_ERROR"))}).add(()=>{this.submitting=!1})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(z.Lf),e.Y36(I.qu),e.Y36(_e.D),e.Y36(T.TFo),e.Y36(n.sK),e.Y36(T.v_H),e.Y36(T.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],inputs:{selectableCountries:"selectableCountries",address:"address"},decls:8,vars:9,consts:[[1,"modal-header"],[1,"modal-title"],[3,"formGroup","ngClass","ngSubmit"],["editAddressFormTemplate","ngForm"],[4,"ngIf"],[1,"modal-body"],[1,"form-group"],["type","text","formControlName","alias",3,"placeholder"],[1,"invalid-feedback"],["type","text","formControlName","streetAddress",3,"placeholder"],["formControlName","countryCode",3,"placeholder","change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","stateCode",3,"placeholder"],["type","text","formControlName","city",3,"placeholder"],["type","text","formControlName","zip",3,"placeholder"],[1,"b2m-checkbox"],["id","my-checkbox","type","checkbox","formControlName","isDefaultAddress"],["for","my-checkbox"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","w-100","mx-auto",3,"disabled","bngxLoadingLayer"],[3,"value"],[3,"innerHTML"]],template:function(i,r){if(1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"h4",1),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.qZA(),e.TgZ(4,"form",2,3),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.YNc(6,jt,62,52,"div",4),e.YNc(7,jn,4,3,"div",4),e.qZA()),2&i){const Z=e.MAs(5);e.xp6(2),e.Oqu(e.lcZ(3,5,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.TITLE")),e.xp6(2),e.Q6J("formGroup",r.editAddressForm)("ngClass",e.VKq(7,Wn,Z.submitted)),e.xp6(2),e.Q6J("ngIf",!(null!=r.address&&r.address.isResidence)),e.xp6(1),e.Q6J("ngIf",null==r.address?null:r.address.isResidence)}},directives:[I._Y,I.JL,I.sg,E.mk,E.O5,I.Fj,I.JJ,I.u,ie.w9,E.sg,I.Wl,T.gO3,ie.xv],pipes:[n.X$],styles:[""]}),a})();function s(a,p){1&a&&(e.TgZ(0,"div",28),e.TgZ(1,"div",29),e.TgZ(2,"small",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.qZA(),e.qZA()),2&a&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"PROFILE_ADDRESSES_PAGE.RESIDENCE_TITLE")))}const A=function(a){return{"default-selected":a}};function o(a,p){if(1&a){const i=e.EpF();e.TgZ(0,"div",7),e.TgZ(1,"div",13),e.YNc(2,s,5,3,"div",14),e.TgZ(3,"div",15),e.TgZ(4,"div",16),e._UZ(5,"i",9),e.qZA(),e.TgZ(6,"div",17),e.TgZ(7,"div",18),e.TgZ(8,"span"),e._uU(9),e.qZA(),e.qZA(),e.TgZ(10,"div",19),e.TgZ(11,"p"),e._uU(12),e.qZA(),e.TgZ(13,"p"),e._uU(14),e.qZA(),e.TgZ(15,"p"),e._uU(16),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(19,"div",6),e.TgZ(20,"div",20),e.TgZ(21,"div",21),e._UZ(22,"i",22),e.TgZ(23,"button",23),e.NdJ("click",function(){const S=e.CHM(i).$implicit;return e.oxw().setAddressAsDefault(S)}),e._uU(24),e.ALo(25,"translate"),e.qZA(),e.qZA(),e.TgZ(26,"div",24),e.TgZ(27,"div",25),e.TgZ(28,"button",23),e.NdJ("click",function(){const S=e.CHM(i).$implicit;return e.oxw().openEditAddressDialog(S)}),e._UZ(29,"i",26),e.qZA(),e.qZA(),e.TgZ(30,"div"),e.TgZ(31,"button",23),e.NdJ("click",function(){const S=e.CHM(i).$implicit;return e.oxw().openDeleteAddressDialog(S)}),e._UZ(32,"i",27),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&a){const i=p.$implicit,r=e.oxw();e.xp6(2),e.Q6J("ngIf",null==i?null:i.isResidence),e.xp6(7),e.Oqu(null==i?null:i.alias),e.xp6(3),e.Oqu(null==i?null:i.streetAddress),e.xp6(2),e.AsE(" ",null==i?null:i.city," , ",null==r.regionsMapByCountryKey[null==i?null:i.countryCode][null==i?null:i.stateCode]?null:r.regionsMapByCountryKey[null==i?null:i.countryCode][null==i?null:i.stateCode].name," "),e.xp6(2),e.Oqu(null==i?null:i.zip),e.xp6(2),e.Oqu(null==i?null:i.countryCode),e.xp6(4),e.Q6J("ngClass",e.VKq(11,A,null==i?null:i.isDefaultAddress)),e.xp6(2),e.hij(" ",e.lcZ(25,9,"PROFILE_ADDRESSES_PAGE.DEFAULT")," ")}}let l=(()=>{class a{constructor(i,r,Z,S,F,ne){this.modalService=i,this.addressService=r,this.notificationsService=Z,this.translateService=S,this.commonService=F,this.currentUserStore=ne,this.destroy=new ae.xQ,this.regionsMapByCountryKey={}}ngOnInit(){this.setAddresses(),this.setCountries(),this.handleLangChange()}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}openCreateAddressDialog(){this.modalService.open(Vt,{nzComponentParams:{selectableCountries:this.countries}}).afterClose.subscribe(r=>{r&&this.setAddresses()})}openEditAddressDialog(i){this.modalService.open(Wt,{nzComponentParams:{address:i,selectableCountries:this.countries}}).afterClose.subscribe(Z=>{Z&&this.setAddresses()})}openDeleteAddressDialog(i){this.modalService.open(Ht,{nzComponentParams:{address:i}}).afterClose.subscribe(Z=>{Z&&this.setAddresses()})}setAddresses(){this.addressService.getAddresses().pipe((0,ee.R)(this.destroy)).subscribe(i=>{this.addresses=i,this.fillRegionsMap()})}setCountries(){this.commonService.countryList(this.currentUserStore.user.getLangCode()).pipe((0,ee.R)(this.destroy)).subscribe(i=>{this.countries=i})}setAddressAsDefault(i){if(i.isDefaultAddress)return;const r=Object.assign({},i);r.isDefaultAddress=!0,this.addressService.editAddress(r).pipe((0,ee.R)(this.destroy)).subscribe(()=>{this.notificationsService.success(this.translateService.instant("PROFILE_ADDRESSES_PAGE.SET_DEFAULT_SUCCESS_NOTIFICATION")),this.setAddresses()},()=>{this.notificationsService.error(this.translateService.instant("PROFILE_ADDRESSES_PAGE.SET_DEFAULT_ERROR_NOTIFICATION"))})}fillRegionsMap(){var i=this;!this.addresses||(this.addresses.forEach(r=>{this.regionsMapByCountryKey[r.countryCode]={}}),this.addresses.forEach(function(){var r=(0,Lt.Z)(function*(Z){yield i.commonService.regionsByCountryList(Z.countryCode,i.currentUserStore.user.getLangCode()).toPromise().then(S=>{const F=S.filter(ne=>ne.fips===Z.stateCode).first();i.regionsMapByCountryKey[Z.countryCode][F.fips]={fips:F.fips,name:F.name,iso:F.iso}})});return function(Z){return r.apply(this,arguments)}}()))}handleLangChange(){this.translateService.onLangChange.pipe((0,ee.R)(this.destroy)).subscribe(()=>{this.setCountries(),this.fillRegionsMap()})}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.Z7U),e.Y36(_e.D),e.Y36(T.TFo),e.Y36(n.sK),e.Y36(T.v_H),e.Y36(T.Dk$))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-profile-addresses"]],decls:18,vars:7,consts:[[1,"profile-addresses-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"row","mt-2"],[1,"col-12","col-lg-6","element"],[1,"new-address",3,"click"],["aria-hidden","true",1,"b2msf-pointer"],[1,"mt-2"],[1,"b2msf-plus"],["class","col-12 col-lg-6 element",4,"ngFor","ngForOf"],[1,"address-element"],["class","row default",4,"ngIf"],[1,"row"],[1,"col-2","icon-column"],[1,"col-10","text-column","pl-0"],[1,"name","font-weight-bold"],[1,"address"],[1,"col-10","offset-2","pl-0","actions"],[1,"mark-as-default"],["aria-hidden","true",1,"b2msf-star-solid","mr-1",3,"ngClass"],[3,"click"],[1,"icons"],[1,"mr-4"],["aria-hidden","true",1,"b2msf-pencil"],["aria-hidden","true",1,"b2msf-delete"],[1,"row","default"],[1,"col-10","offset-2","pl-0"],[1,"default-residence"]],template:function(i,r){1&i&&(e.TgZ(0,"main",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"h2",4),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"section"),e.TgZ(9,"div",6),e.TgZ(10,"div",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return r.openCreateAddressDialog()}),e._UZ(12,"i",9),e.TgZ(13,"p",10),e._UZ(14,"i",11),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.qZA(),e.qZA(),e.YNc(17,o,33,13,"div",12),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(5),e.Oqu(e.lcZ(6,3,"PROFILE_ADDRESSES_PAGE.TITLE")),e.xp6(10),e.hij("\xa0",e.lcZ(16,5,"PROFILE_ADDRESSES_PAGE.ADD")," "),e.xp6(2),e.Q6J("ngForOf",r.addresses))},directives:[E.sg,E.O5,E.mk],pipes:[n.X$],styles:[".profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .card-page-title[_ngcontent-%COMP%]{float:unset;margin-bottom:unset}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;border-radius:5px;text-align:center;box-shadow:0 0 0 1px #e8edf4;background-color:#f3f6f9;display:block;padding:40px;transition:all .3s ease}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]:hover{background-color:#e8edf4;box-shadow:0 0 0 1px #91adcc;font-weight:700}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{display:inline-block;font-size:55px;margin-bottom:15px;color:#91adcc;position:relative;left:10px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .new-address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#91adcc}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]{padding:20px 10px 10px 20px;box-shadow:0 0 0 1px #e8edf4;border-radius:5px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]   .default-residence[_ngcontent-%COMP%]{color:#91adcc;font-weight:600}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{display:inline-block;font-size:40px;color:#044e97;position:relative;left:20px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:16px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .text-column[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;line-height:30px;align-items:center;padding-right:45px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#044e97;font-weight:600;font-size:13px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{font-weight:700}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:25px;position:relative;color:#044e97;top:4px}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i.b2msf-star-solid[_ngcontent-%COMP%]{font-size:30px;color:#e8edf4}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i.b2msf-star-solid.default-selected[_ngcontent-%COMP%]{color:#ffc53d}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover{font-weight:600}.profile-addresses-page[_ngcontent-%COMP%]   .card-page-contents.wide-content[_ngcontent-%COMP%]   .card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]   .element[_ngcontent-%COMP%]   .address-element[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%]{display:inline-flex}@media (max-width: 575px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{left:0!important}}@media (max-width: 350px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{position:absolute!important;font-size:30px!important;margin-left:5px}}@media (min-width: 992px) and (max-width: 1199px){.icon-column[_ngcontent-%COMP%]   i.b2msf-pointer[_ngcontent-%COMP%]{left:0!important}}"]}),a})(),O=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],decls:14,vars:9,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box"],[1,"card-page-title"],[1,"card-page-inner"],["role","alert",1,"alert","alert-danger"],[1,"alert-heading"],[1,"alert-contents"],[3,"innerHTML"]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h2",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"h4",6),e._uU(9),e.ALo(10,"translate"),e.qZA(),e.TgZ(11,"div",7),e._UZ(12,"p",8),e.ALo(13,"translate"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(4),e.Oqu(e.lcZ(5,3,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.TITLE")),e.xp6(5),e.Oqu(e.lcZ(10,5,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.ALERT.TITLE")),e.xp6(3),e.Q6J("innerHTML",e.lcZ(13,7,"PROFILE_IDENTITY_MAX_RETRIES_REACHED_PAGE.ALERT.TEXT1"),e.oJD))},pipes:[n.X$],styles:[".identity-proof-outer[_ngcontent-%COMP%]{width:100%;max-width:460px;margin:0 auto}.identity-proof[_ngcontent-%COMP%]{padding-bottom:62.5%;background-position:center;background-size:cover;background-repeat:no-repeat;background-color:#d1dce7}.identity-proof.empty[_ngcontent-%COMP%]{background-size:contain}.card-page-inner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.alert[_ngcontent-%COMP%]{width:100%;margin-top:0}.alert[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:left;margin-bottom:0}.identity-verified[_ngcontent-%COMP%]{color:#4d964d;font-weight:700}"]}),a})();var C=f(96159),k=(f(8297),f(76741));const W=["companyForm"];const j=[{path:"",pathMatch:"prefix",redirectTo:"general"},{path:"general",component:ke,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"identity",component:Ge,runGuardsAndResolvers:"always",resolve:{identityStatus:yn},children:[{path:"new",component:Gt,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"resume",component:St,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}}]},{path:"identity/max-retries-reached",component:O,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"identity/new/company",component:(()=>{class a{constructor(i,r){this.localeService=i,this.urlService=r}ngOnInit(){this.initCompanyFormUrl()}ngAfterViewInit(){(0,C.createWidget)(this.companyFormUrl,{container:this.companyForm.nativeElement})}initCompanyFormUrl(){var i;const r=this.localeService.getLocale();this.companyFormUrl=null!==(i=k.N.companyForm[r])&&void 0!==i?i:k.N.companyForm.en}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(T.OLO),e.Y36(T.iOJ))},a.\u0275cmp=e.Xpm({type:a,selectors:[["ng-component"]],viewQuery:function(i,r){if(1&i&&e.Gf(W,5),2&i){let Z;e.iGM(Z=e.CRH())&&(r.companyForm=Z.first)}},decls:5,vars:0,consts:[[1,"card-page-outer"],[1,"card-page-contents","wide-content"],[1,"card-page-inner"],["companyForm",""]],template:function(i,r){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"div",null,3),e.qZA(),e.qZA(),e.qZA())},styles:["div.card-page-inner[_ngcontent-%COMP%]     div.tf-v1-widget iframe{max-width:1140px;width:100%;margin:0 auto;min-height:calc(100vh - 300px)}"]}),a})(),data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"preferences",component:xt.$,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"addresses",component:l,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}},{path:"notifications",component:Q,data:{analytics:{pageAccess:T.Sk.loggedIn,pageType:T.vnv.companyInfo,pageCategory:T.ycu.general,pageCode:200}}}];let Qe=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[E.ez,T.Rbs,g.v,m.Bz.forChild(j)],m.Bz]}),a})();f(33541),f(39152),f(76598),f(36592);let fi=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[T.Rbs.forChild(),g.v,Qe,_.Q,t.Cl],Qe]}),a})()},30600:(X,J,f)=>{"use strict";f.d(J,{D:()=>g});var T=f(2316),t=f(53882),_=f(72923);let g=(()=>{class m{constructor(U,c,H){this.httpClient=U,this.urlService=c,this.localeService=H}getAddresses(){return this.httpClient.get(`${this.urlService.api()}/account/address`)}createAddress(U){return this.httpClient.post(`${this.urlService.api()}/account/address`,U)}editAddress(U){return this.httpClient.put(`${this.urlService.api()}/account/address?addressId=${U.id}`,U)}deleteAddress(U){const c={params:{addressId:U}};return this.httpClient.delete(`${this.urlService.api()}/account/address`,c)}}return m.\u0275fac=function(U){return new(U||m)(T.LFG(t.eN),T.LFG(_.iOJ),T.LFG(_.OLO))},m.\u0275prov=T.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()},28086:(X,J,f)=>{"use strict";f.d(J,{v:()=>c});var T=f(72923),t=f(1707),_=f(54364),g=f(16320),m=f(36592),E=f(30119),U=f(2316);let c=(()=>{class H{}return H.\u0275fac=function(n){return new(n||H)},H.\u0275mod=U.oAB({type:H}),H.\u0275inj=U.cJS({imports:[[T.Rbs.forChild(),m.Tm,g.Bz,_.ez,t.u5,E.TA],m.Tm,E.TA]}),H})()},76741:(X,J,f)=>{"use strict";f.d(J,{N:()=>_});var T=f(67883);const t=JSON.parse('{"u2":"b2m-fe-suite-ngx-account","i8":"1.0.3045-92eecadb"}'),_={production:!0,serviceName:"account",recaptchaSitekey:"6Lf_jbEUAAAAAMQSx3E_9bUh-k0BRX8vNlrZbenJ",loggerEnabled:!0,project:t.u2,version:t.i8,libVersion:T.i8,dsnSentry:"https://7eb31380f5254657a2f39e8e31b6d9b8@sentry.bit2me.com/5",googleTagManagers:[{gtmId:"GTM-WZ8BPK7"},{gtmId:"GTM-MJWHBSX"}],langs:["en","es","pt"],companyForm:{es:"https://otnx5ls3wpi.typeform.com/to/Jasr774b",en:"https://otnx5ls3wpi.typeform.com/to/SEL8HFLS"}}},55890:(X,J,f)=>{"use strict";var T=f(71570),t=f(2316),_=f(72923),g=f(53882),m=f(70325),E=f(71918),U=f(85720),c=f(54364),H=f(14289),e=f.n(H),n=f(15598),q=f(79441),N=f(22663);const y={en:n.iF,es:n.f_,pt:n.bf};let M=(()=>{class s{constructor(o){this.i18n=o}setLocale(o){const l=y[o];l&&this.i18n.setLocale(l)}}return s.\u0275fac=function(o){return new(o||s)(t.LFG(n.wi))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var G=f(2326),w=f(16320);let $=(()=>{class s{constructor(o,l,O){this.googleTagManager=o,this.translateService=l,this.antTranslateService=O,this.destroy$=new q.xQ,o.startTracking(),this.antTranslateService.setLocale(this.translateService.currentLang),this.translateService.onLangChange.pipe((0,N.R)(this.destroy$)).subscribe(C=>{this.antTranslateService.setLocale(C.lang)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(G._),t.Y36(m.sK),t.Y36(M))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-root"]],decls:2,vars:0,consts:[["id","main-content","bngx-i18n","","bngx-dynamic-title",""]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t._UZ(1,"router-outlet"),t.qZA())},directives:[_.skA,_.RHT,w.lC],styles:[""]}),s})();var L=f(32791);let Q=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],exportAs:["loginLayout"],decls:11,vars:1,consts:[[1,"login-layout"],[1,"background"],["alt","","src","assets/images/onboarding/bg-top-left.svg",1,"bg-top-left"],["alt","","src","assets/images/onboarding/bg-bottom-right.svg",1,"bg-bottom-right"],[1,"content"],["serviceIconClass","b2msf-logo",3,"hideAlerts"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t._UZ(2,"img",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"bngx-header-panel",5),t.TgZ(6,"bngx-header-options"),t._UZ(7,"bngx-header-login-register-buttons"),t.qZA(),t.qZA(),t._UZ(8,"router-outlet"),t.qZA(),t.qZA(),t._UZ(9,"bngx-footer"),t._UZ(10,"bngx-chat-bubble")),2&o&&(t.xp6(5),t.Q6J("hideAlerts",!0))},directives:[_.Dsw,_.kdW,_.p9J,w.lC,_.eIb,_.iyC],styles:[".login-layout[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 48px);display:flex;justify-content:center}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#044e97;position:absolute;min-height:100vh;width:100vw;top:0;left:0;z-index:1}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-top-left[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:15vw}.login-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-bottom-right[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:15vw}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:2;position:relative;align-items:center;width:100%}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-outer{padding:15px}.login-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]     .card-page-contents{width:100%;max-width:512px;border-radius:8px}  div.fc-widget-small#fc_frame{right:120px!important;bottom:5px!important}  body{padding-bottom:0!important}"]}),s})(),b=(()=>{class s{constructor(o){this.translateService=o,this.accountMenuItems=[]}ngOnInit(){this.accountMenuItems=[{text:this.translateService.stream("HEADER_NAVBAR.PROFILE"),link:"/profile/general",children:[{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_GENERAL"),link:"/profile/general"},{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_IDENTITY"),link:"/profile/identity"},{text:this.translateService.stream("HEADER_NAVBAR.PREFERENCES"),link:["/profile/preferences"]},{text:this.translateService.stream("HEADER_NAVBAR.PROFILE_ADDRESSES"),link:["/profile/addresses"]},{text:this.translateService.stream("HEADER_NAVBAR.NOTIFICATIONS"),link:"/profile/notifications"}]},{text:this.translateService.stream("HEADER_NAVBAR.PAYMENT_METHODS"),link:["/payment-methods","general"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES"),link:["/affiliates"],children:[{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_LINKS"),link:["/affiliates/links"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_ACTIVITY"),link:["/affiliates/activity"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_PAYOUTS"),link:["/affiliates/payouts"]},{text:this.translateService.stream("HEADER_NAVBAR.AFFILIATES_RESOURCES"),click:()=>{window.open("https://support.bit2me.com/")}}]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_GENERAL"),link:["/security"],children:[{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_PASSWORD"),link:["/security/password"]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_2FA"),link:["/security/2fa"]},{text:this.translateService.stream("HEADER_NAVBAR.SECURITY_SESSIONS"),link:["/security/sessions"]}]}]}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(m.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:12,vars:1,consts:[["id","page-wrapper"],["serviceIconClass","b2msf-logo-account"],[3,"items"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"bngx-header-panel",1),t._UZ(2,"bngx-site-menu",2),t.TgZ(3,"bngx-header-options"),t._UZ(4,"bngx-header-buy-button"),t._UZ(5,"bngx-header-balance-button"),t._UZ(6,"bngx-header-services-button"),t._UZ(7,"bngx-header-notifications-button"),t._UZ(8,"bngx-header-profile-button"),t.qZA(),t.qZA(),t._UZ(9,"router-outlet"),t._UZ(10,"bngx-footer"),t._UZ(11,"bngx-chat-bubble"),t.qZA()),2&o&&(t.xp6(2),t.Q6J("items",l.accountMenuItems))},directives:[_.Dsw,_.X$7,_.kdW,_.OSK,_.dWV,_.twX,_.ta$,_.b$X,w.lC,_.eIb,_.iyC],encapsulation:2}),s})();var R=f(2686),V=f(95555),z=f(39152),de=f(23693),I=f(17085);function Ae(s,A){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"SESSIONS_PAGE.CURRENT")))}const he=function(s){return{current:s}};function Ze(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"tr",14),t.TgZ(1,"td",15),t.ALo(2,"date"),t._uU(3),t.ALo(4,"async"),t.ALo(5,"timeAgo"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t.TgZ(13,"button",16),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw().closeSession(C)}),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.qZA(),t.TgZ(16,"td"),t.YNc(17,Ae,3,3,"span",17),t.qZA(),t.qZA()}if(2&s){const o=A.$implicit,l=t.oxw();t.Q6J("ngClass",t.VKq(18,he,o.current)),t.xp6(1),t.Q6J("title",t.xi3(2,9,o.creationTime,"long")),t.xp6(2),t.hij(" ",t.lcZ(4,12,t.lcZ(5,14,o.creationTime))," "),t.xp6(4),t.Oqu(l.parseUserAgent(o.userAgent)),t.xp6(2),t.Oqu(o.ip),t.xp6(2),t.AsE("",o.city," (",o.countryCode,")"),t.xp6(3),t.hij(" ",t.lcZ(15,16,"SESSIONS_PAGE.CLOSE_SESSION")," "),t.xp6(3),t.Q6J("ngIf",o.current)}}function Oe(s,A){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td",15),t.ALo(2,"date"),t._uU(3),t.ALo(4,"async"),t.ALo(5,"timeAgo"),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.qZA()),2&s){const o=A.$implicit,l=t.oxw();t.xp6(1),t.Q6J("title",t.xi3(2,6,o.creationTime,"long")),t.xp6(2),t.hij(" ",t.lcZ(4,9,t.lcZ(5,11,o.creationTime))," "),t.xp6(4),t.Oqu(l.parseUserAgent(o.userAgent)),t.xp6(2),t.Oqu(o.ip),t.xp6(2),t.AsE("",o.city," (",o.countryCode,")")}}let Ee=(()=>{class s{constructor(o,l,O,C){this.sessionsService=o,this.authService=l,this.modalService=O,this.translate=C,this.paginationActiveSessionsOffset=0,this.paginationHistorySessionsOffset=0,this.paginationLimit=10,this.activeSessions={data:[],total:0},this.currentActiveSessionsPage=1,this.currentHistorySessionsPage=1,this.currentTimestamp=(new Date).getTime(),this.historySessions={data:[],total:0},this.loadingActiveSessions=!1,this.loadingHistorySessions=!1}ngOnInit(){this.initCountryNames(),this.loadActiveSessions(),this.loadHistorySessions()}initCountryNames(){const{currentLang:o}=this.translate;this.countryNames=_.eec.getCountriesNames(o)}loadActiveSessions(){const o={offset:this.paginationActiveSessionsOffset,limit:this.paginationLimit,sort:"desc",filter:"active"};this.loadingActiveSessions=!0,this.sessionsService.getSessions(o).subscribe(l=>{this.loadingActiveSessions=!1,this.activeSessions=l,this.activeSessions.data=this.activeSessions.data.reverse().filter(O=>O.active)})}loadHistorySessions(){const o={offset:this.paginationHistorySessionsOffset,limit:this.paginationLimit,sort:"desc"};this.loadingHistorySessions=!0,this.sessionsService.getSessions(o).subscribe(l=>{this.loadingHistorySessions=!1,this.historySessions=l})}trackById(o,l){return l.id}closeSession(o){this.modalService.open(_.II9,{nzComponentParams:{title:this.translate.instant("SECURITY_SESSIONS_PAGE.CLOSE_SESSION_DIALOG.TITLE"),body:this.translate.instant("SECURITY_SESSIONS_PAGE.CLOSE_SESSION_DIALOG.BODY")}}).afterClose.subscribe(O=>{O&&this.sessionsService.closeActiveSession(o.id).subscribe(()=>{o.current?this.authService.signout():this.loadActiveSessions()})})}parseUserAgent(o){const l=new de.UAParser(o),O=l.getBrowser(),C=l.getOS();return o.includes("Bit2Me/")?`Bit2Me APP ${o.substr(o.indexOf("Bit2Me/")).replace("Bit2Me/","")} (${C.name})`:`${O.name} ${O.major} (${C.name})`}handleActiveSessionsPageChange(o){this.paginationActiveSessionsOffset=(o-1)*this.paginationLimit,this.loadActiveSessions()}handleHistorySessionsPageChange(o){this.paginationHistorySessionsOffset=(o-1)*this.paginationLimit,this.loadHistorySessions()}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.jVh),t.Y36(_.e80),t.Y36(_.Z7U),t.Y36(m.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:67,vars:44,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"py-4"],[1,"title"],["context","fullcomponent",1,"table-wrapper",3,"bngxLoadingLayer"],[1,"table","table-striped"],["scope","col"],[3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"nzTotal","nzPageIndex","nzPageIndexChange"],[3,"ngClass"],[3,"title"],[1,"b2m-btn","btn-link","mr-0",3,"click"],[4,"ngIf"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"section",6),t.TgZ(9,"h5",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8),t.TgZ(13,"table",9),t.TgZ(14,"thead"),t.TgZ(15,"tr"),t.TgZ(16,"th",10),t.TgZ(17,"strong"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.TgZ(20,"th",10),t.TgZ(21,"strong"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.TgZ(24,"th",10),t.TgZ(25,"strong"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.TgZ(28,"th",10),t.TgZ(29,"strong"),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.qZA(),t.TgZ(32,"th",10),t.TgZ(33,"strong"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.TgZ(36,"th",10),t._uU(37,"\xa0"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"tbody"),t.YNc(39,Ze,18,20,"tr",11),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(40,"section",6),t.TgZ(41,"h5",7),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"div",8),t.TgZ(45,"table",9),t.TgZ(46,"thead"),t.TgZ(47,"tr"),t.TgZ(48,"th",10),t.TgZ(49,"strong"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.qZA(),t.TgZ(52,"th",10),t.TgZ(53,"strong"),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.TgZ(56,"th",10),t.TgZ(57,"strong"),t._uU(58),t.ALo(59,"translate"),t.qZA(),t.qZA(),t.TgZ(60,"th",10),t.TgZ(61,"strong"),t._uU(62),t.ALo(63,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(64,"tbody"),t.YNc(65,Oe,12,13,"tr",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(66,"nz-pagination",13),t.NdJ("nzPageIndexChange",function(C){return l.handleHistorySessionsPageChange(C)})("nzPageIndexChange",function(C){return l.currentHistorySessionsPage=C}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,20,"SESSIONS_PAGE.TITLE")),t.xp6(5),t.Oqu(t.lcZ(11,22,"SESSIONS_PAGE.ACTIVE_SESSIONS")),t.xp6(2),t.Q6J("bngxLoadingLayer",l.loadingActiveSessions),t.xp6(6),t.Oqu(t.lcZ(19,24,"SESSIONS_PAGE.TABLE.TH.SESSION_STARTED")),t.xp6(4),t.Oqu(t.lcZ(23,26,"SESSIONS_PAGE.TABLE.TH.BROWSER")),t.xp6(4),t.Oqu(t.lcZ(27,28,"SESSIONS_PAGE.TABLE.TH.IP_ADDRESS")),t.xp6(4),t.Oqu(t.lcZ(31,30,"SESSIONS_PAGE.TABLE.TH.LOCATION")),t.xp6(4),t.Oqu(t.lcZ(35,32,"SESSIONS_PAGE.TABLE.TH.ACTIONS")),t.xp6(5),t.Q6J("ngForOf",l.activeSessions.data)("ngForTrackBy",l.trackById),t.xp6(3),t.Oqu(t.lcZ(43,34,"SESSIONS_PAGE.HISTORY")),t.xp6(2),t.Q6J("bngxLoadingLayer",l.loadingHistorySessions),t.xp6(6),t.Oqu(t.lcZ(51,36,"SESSIONS_PAGE.TABLE.TH.SESSION_STARTED")),t.xp6(4),t.Oqu(t.lcZ(55,38,"SESSIONS_PAGE.TABLE.TH.BROWSER")),t.xp6(4),t.Oqu(t.lcZ(59,40,"SESSIONS_PAGE.TABLE.TH.IP_ADDRESS")),t.xp6(4),t.Oqu(t.lcZ(63,42,"SESSIONS_PAGE.TABLE.TH.LOCATION")),t.xp6(3),t.Q6J("ngForOf",l.historySessions.data)("ngForTrackBy",l.trackById),t.xp6(1),t.Q6J("nzTotal",l.historySessions.total)("nzPageIndex",l.currentHistorySessionsPage))},directives:[_.gO3,c.sg,I.dE,c.mk,c.O5],pipes:[m.X$,c.uU,c.Ov,_.eGd],styles:[".table[_ngcontent-%COMP%]{margin-top:20px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:0}.table[_ngcontent-%COMP%]   tr.current[_ngcontent-%COMP%]{outline:1px solid #7ec67f;outline-offset:-1px}.table-striped[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-of-type(odd){background-color:#f3f6f9}.pagination[_ngcontent-%COMP%]{color:#004f9a}.pagination[_ngcontent-%COMP%]   .page-item.prev-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .pagination[_ngcontent-%COMP%]   .page-item.next-button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:1px solid #dde2e6;border-radius:0}.pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:#004f9a}.pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{border:0;background-color:#fff}.table[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0;font-size:14px;line-height:20px;border:0}.card-page-inner[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{line-height:20px;height:auto;font-weight:400;text-align:left}"]}),s})();var Ve=f(44149),x=f(1707),ue=f(76249);function Le(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const He=function(s){return{value:s}};function ze(s,A){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const o=t.oxw();let l;t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,He,null==o.codeForm||null==(l=o.codeForm.get("label"))||null==l.errors||null==l.errors.maxlength?null:l.errors.maxlength.requiredLength))," ")}}const Be=function(s){return{submitted:s}};let Me=(()=>{class s{constructor(o,l,O,C,D,k,W){this.nzModalRef=o,this.formBuilder=l,this.translate=O,this.notificationService=C,this.codeService=D,this.urlService=k,this.authService=W,this.disableInput=!1,this.submitting=!1,this.canDismiss=!1,this.writtenKeyIsChecked=!1}ngOnInit(){this.codeForm=this.formBuilder.group({label:[this.code.label,[x.kI.required,x.kI.maxLength(30)]]})}updateCode(){if(this.codeForm.invalid)return;this.submitting=!0;const o=this.codeForm.value;this.codeService.updateCodeName(this.code.id,o).subscribe(()=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.EDIT.SUCCESS")),this.nzModalRef.close(o.label)},()=>{this.submitting=!1,this.notificationService.error(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.EDIT.ERROR"))})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(ue.Lf),t.Y36(x.qu),t.Y36(m.sK),t.Y36(_.TFo),t.Y36(_.$T3),t.Y36(_.iOJ),t.Y36(_.e80))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],inputs:{code:"code"},decls:21,vars:21,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngClass","ngSubmit"],["codeFormTemplate","ngForm"],[1,"form-group","mt-0"],["type","text","formControlName","label","max-length","30","autofocus","",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mb-2",3,"disabled","bngxLoadingLayer"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"form",3,4),t.NdJ("ngSubmit",function(){return l.updateCode()}),t.TgZ(7,"fieldset",5),t.TgZ(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",6),t.ALo(12,"translate"),t.TgZ(13,"div"),t._uU(14),t.qZA(),t.TgZ(15,"div",7),t.YNc(16,Le,3,3,"div",8),t.YNc(17,ze,3,6,"div",8),t.qZA(),t.qZA(),t.TgZ(18,"button",9),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o){const O=t.MAs(6);let C,D,k;t.xp6(2),t.Oqu(t.lcZ(3,11,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.HEADER")),t.xp6(3),t.Q6J("formGroup",l.codeForm)("ngClass",t.VKq(19,Be,O.submitted)),t.xp6(4),t.Oqu(t.lcZ(10,13,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(12,15,"AFFILIATES_CODES_PAGE.DIALOGS.EDIT.PLACEHOLDER")),t.xp6(3),t.hij("",null==l.codeForm||null==(C=l.codeForm.get("label"))||null==C.value?null:C.value.length," / 30"),t.xp6(2),t.Q6J("ngIf",null==l.codeForm||null==(D=l.codeForm.get("label"))||null==D.errors?null:D.errors.required),t.xp6(1),t.Q6J("ngIf",null==l.codeForm||null==(k=l.codeForm.get("label"))||null==k.errors?null:k.errors.maxlength),t.xp6(1),t.Q6J("disabled",l.submitting)("bngxLoadingLayer",l.submitting),t.xp6(1),t.hij(" ",t.lcZ(20,17,"BUTTONS.ACCEPT")," ")}},directives:[x._Y,x.JL,x.sg,c.mk,x.Fj,x.JJ,x.u,_.Uqp,c.O5,_.gO3],pipes:[m.X$],styles:[""]}),s})();function le(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const Re=function(){return{value:30}};function ye(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.DdM(4,Re))," "))}function je(s,A){if(1&s&&(t.TgZ(0,"div",9),t.YNc(1,le,3,3,"div",10),t.YNc(2,ye,3,5,"div",10),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("ngIf",null==o.codeForm||null==o.codeForm.controls||null==o.codeForm.controls.label?null:o.codeForm.controls.label.errors.required),t.xp6(1),t.Q6J("ngIf",null==o.codeForm||null==o.codeForm.controls||null==o.codeForm.controls.label?null:o.codeForm.controls.label.errors.maxlength)}}const We=function(s){return{submitted:s}};let De=(()=>{class s{constructor(o,l,O,C,D,k,W){this.nzModalRef=o,this.formBuilder=l,this.notificationService=O,this.translate=C,this.codeService=D,this.urlService=k,this.authService=W,this.disableInput=!1,this.submitting=!1,this.canDismiss=!1,this.writtenKeyIsChecked=!1}ngOnInit(){this.codeForm=this.formBuilder.group({label:["",[x.kI.required,x.kI.maxLength(30)]]})}submitCode(){this.codeForm.invalid||(this.submitting=!0,this.codeService.create(this.codeForm.value).subscribe(l=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.CREATE.SUCCESS")),this.nzModalRef.close(l)},l=>{this.submitting=!1,this.notificationService.error(this.translate.instant(406===l.status?"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.ERROR_LIMIT":"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.ERROR"))}))}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(ue.Lf),t.Y36(x.qu),t.Y36(_.TFo),t.Y36(m.sK),t.Y36(_.$T3),t.Y36(_.iOJ),t.Y36(_.e80))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:17,vars:19,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"formGroup","ngClass","ngSubmit"],["codeFormTemplate","ngForm"],[1,"form-group","mt-0"],["type","text","autofocus","","formControlName","label","max-length","30",3,"placeholder"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mb-2",3,"disabled","bngxLoadingLayer"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.TgZ(5,"form",3,4),t.NdJ("ngSubmit",function(){return l.submitCode()}),t.TgZ(7,"fieldset",5),t.TgZ(8,"label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",6),t.ALo(12,"translate"),t.YNc(13,je,3,2,"div",7),t.qZA(),t.TgZ(14,"button",8),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o){const O=t.MAs(6);t.xp6(2),t.Oqu(t.lcZ(3,9,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.HEADER")),t.xp6(3),t.Q6J("formGroup",l.codeForm)("ngClass",t.VKq(17,We,O.submitted)),t.xp6(4),t.Oqu(t.lcZ(10,11,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(12,13,"AFFILIATES_CODES_PAGE.DIALOGS.CREATE.PLACEHOLDER")),t.xp6(2),t.Q6J("ngIf",null==l.codeForm||null==l.codeForm.controls||null==l.codeForm.controls.label?null:l.codeForm.controls.label.errors),t.xp6(1),t.Q6J("disabled",l.submitting)("bngxLoadingLayer",l.submitting),t.xp6(1),t.hij(" ",t.lcZ(16,15,"BUTTONS.CREATE")," ")}},directives:[x._Y,x.JL,x.sg,c.mk,x.Fj,_.Uqp,x.JJ,x.u,c.O5,_.gO3],pipes:[m.X$],styles:[""]}),s})();var qe=f(9170);function $e(s,A){1&s&&(t.TgZ(0,"p",8),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.DESCRIPTION")," "))}function Ke(s,A){1&s&&(t.TgZ(0,"div",9),t.TgZ(1,"div",10),t._UZ(2,"p",11),t.ALo(3,"translate"),t.qZA(),t._UZ(4,"button",12),t.qZA()),2&s&&(t.xp6(2),t.Q6J("innerHTML",t.lcZ(3,1,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.DOCUMENT_TYPE_ERROR"),t.oJD))}function Xe(s,A){if(1&s&&(t.TgZ(0,"table",13),t.TgZ(1,"thead"),t._UZ(2,"th",14),t.qZA(),t.TgZ(3,"tbody"),t.TgZ(4,"tr"),t.TgZ(5,"td",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.qZA(),t.TgZ(10,"tr"),t.TgZ(11,"td",15),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA(),t.qZA(),t.TgZ(16,"tr"),t.TgZ(17,"td",15),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"td"),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"td",15),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"td"),t._uU(27),t.qZA(),t.qZA(),t.TgZ(28,"tr"),t.TgZ(29,"td",15),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"td"),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"tr"),t.TgZ(35,"td",15),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"td"),t._uU(39),t.qZA(),t.qZA(),t.TgZ(40,"tr"),t.TgZ(41,"td",15),t._uU(42),t.ALo(43,"translate"),t.qZA(),t.TgZ(44,"td"),t._uU(45),t.qZA(),t.qZA(),t.TgZ(46,"tr"),t.TgZ(47,"td",15),t._uU(48),t.ALo(49,"translate"),t.qZA(),t.TgZ(50,"td"),t._uU(51),t.qZA(),t.qZA(),t.TgZ(52,"tr"),t.TgZ(53,"td",15),t._uU(54),t.ALo(55,"translate"),t.qZA(),t.TgZ(56,"td"),t._uU(57),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const o=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,18,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_BASE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalBase," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(13,20,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_VAT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalVat," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(19,22,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_PROFIT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalProfit," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(25,24,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TOTAL_TAX")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.totalTax," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(31,26,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.VAT_PERCENTAGE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.vatPercentage," %"),t.xp6(3),t.Oqu(t.lcZ(37,28,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.TAX_PERCENTAGE")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.taxPercentage," %"),t.xp6(3),t.Oqu(t.lcZ(43,30,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.FULL_ADDRESS")),t.xp6(3),t.Oqu(null==o.invoiceInfo?null:o.invoiceInfo.fullAddress),t.xp6(3),t.Oqu(t.lcZ(49,32,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.AMOUNT")),t.xp6(3),t.hij("",null==o.invoiceInfo?null:o.invoiceInfo.amount," \u20ac"),t.xp6(3),t.Oqu(t.lcZ(55,34,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.IDENTITY_NUMBER")),t.xp6(3),t.Oqu(o.selfInvoiceIdentityNumber)}}let et=(()=>{class s{constructor(o,l,O,C,D){this.nzModalRef=o,this.urlService=l,this.authService=O,this.affiliateService=C,this.currentUserStore=D,this.documentTypeError=!1}ngOnInit(){this.getInvoiceInfo();const{account:o}=this.currentUserStore.getCurrentUser();this.selfInvoiceIdentityNumber=o.selfInvoiceIdentityNumber}getInvoiceInfo(){this.loading=!0,this.affiliateService.getPayoutsInvoiceFiscalInfo().subscribe(o=>{this.invoiceInfo=o,this.invoiceInfo.fullAddress&&(this.invoiceInfo.fullAddress=this.formatFullAddress(this.invoiceInfo.fullAddress)),this.loading=!1},o=>{409===o.status&&(this.documentTypeError=!0),this.loading=!1})}formatFullAddress(o){return o.split(" | ").join(", ")}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(ue.Lf),t.Y36(_.iOJ),t.Y36(_.e80),t.Y36(_.Oiz),t.Y36(_.Dk$))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:12,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["context","fullcomponent",1,"modal-body",3,"bngxLoadingLayer"],["class","description p-4 text-left",4,"ngIf"],["class","alert alert-info","role","alert",4,"ngIf"],["class","table table-striped mt-3 mb-3",4,"ngIf"],[1,"b2m-btn","btn-solid","mr-4",3,"click"],[1,"b2m-btn","btn-solid",3,"disabled","click"],[1,"description","p-4","text-left"],["role","alert",1,"alert","alert-info"],[1,"alert-contents"],[1,"p-4","text-left",3,"innerHTML"],["aria-label","Close","data-dismiss","alert",1,"close-btn"],[1,"table","table-striped","mt-3","mb-3"],["scope","row"],[1,"label"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,$e,3,3,"p",3),t.YNc(6,Ke,5,3,"div",4),t.YNc(7,Xe,58,36,"table",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return l.nzModalRef.close("cancel")}),t._uU(9,"CANCEL"),t.qZA(),t.TgZ(10,"button",7),t.NdJ("click",function(){return l.nzModalRef.close("proceed")}),t._uU(11,"OK"),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,6,"AFFILIATES_PAYOUTS_PAGE.DIALOGS.FISCAL_INFO.HEADER")),t.xp6(2),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(1),t.Q6J("ngIf",!l.documentTypeError),t.xp6(1),t.Q6J("ngIf",l.documentTypeError),t.xp6(1),t.Q6J("ngIf",!l.documentTypeError),t.xp6(3),t.Q6J("disabled",l.documentTypeError))},directives:[_.gO3,c.O5],pipes:[m.X$],styles:[".modal-body[_ngcontent-%COMP%]{text-align:center}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{background-color:#0000000f}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:300px}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600}.alert[_ngcontent-%COMP%]{width:100%;padding-left:20px}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}"]}),s})();var tt=f(37442),nt=f(202),Ne=f.n(nt),it=f(30600),ce=f(36868);function Fe(s,A){if(1&s&&(t.TgZ(0,"ng-option",26),t._uU(1),t.qZA()),2&s){const o=A.$implicit;t.Q6J("value",o.key),t.xp6(1),t.Oqu(o.value)}}function ot(s,A){if(1&s&&(t.TgZ(0,"ng-option",26),t._uU(1),t.qZA()),2&s){const o=A.$implicit;t.Q6J("value",o.fips),t.xp6(1),t.Oqu(o.name)}}function at(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function rt(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function st(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Ue(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function lt(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function ct(s,A){1&s&&(t.TgZ(0,"div",20),t.TgZ(1,"p",27),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ul"),t.TgZ(5,"li"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"li"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"li"),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(2),t.Oqu(t.lcZ(3,4,"ADD_ADDRESS_DIALOG.IDENTITY_DISCLAIMER")),t.xp6(4),t.Oqu(t.lcZ(7,6,"ADD_ADDRESS_DIALOG.IDENTITY_SPAIN")),t.xp6(3),t.Oqu(t.lcZ(10,8,"ADD_ADDRESS_DIALOG.IDENTITY_EUROPE")),t.xp6(3),t.Oqu(t.lcZ(13,10,"ADD_ADDRESS_DIALOG.IDENTITY_OTHER")))}function gt(s,A){1&s&&(t.TgZ(0,"div",20),t._UZ(1,"p",28),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.Q6J("innerHTML",t.lcZ(2,1,"ADD_ADDRESS_DIALOG.IDENTITY_LEGACY"),t.oJD))}const dt=function(s){return{submitted:s}};let we=(()=>{class s{constructor(o,l,O,C,D,k,W,te,j){this.nzModalRef=o,this.formBuilder=l,this.translateService=O,this.translate=C,this.notificationService=D,this.accountService=k,this.commonService=W,this.addressService=te,this.currentUserStore=j,this.validAlias=!0,this.countryList=tt.getNames(this.translateService.currentLang),this.submitting=!1}ngOnInit(){this.invoiceDataForm=this.formBuilder.group({country:[null,[x.kI.required,x.kI.maxLength(2)]],state:[null,[x.kI.required,x.kI.maxLength(64)]],city:["",[x.kI.required,x.kI.maxLength(64)]],street:["",[x.kI.required,x.kI.maxLength(128)]],zip:["",[x.kI.required,x.kI.maxLength(16)]],selfInvoiceIdentityNumber:["",[x.kI.required]]}),this.invoiceDataForm.get("country").disable(),this.invoiceDataForm.get("state").disable(),this.setUserData()}setUserData(){const{account:o}=this.currentUserStore.user;let{country:l,state:O,city:C,street:D,zip:k}=o.address;this.addressService.getAddresses().pipe().subscribe(W=>{var te;this.addresses=W,this.residence=W.filter(j=>!0===j.isResidence),this.residence&&!Ne().isEmpty(this.residence)&&(null===(te=this.residence[0])||void 0===te?void 0:te.countryCode)&&(this.commonService.regionsByCountryList(this.residence[0].countryCode,this.currentUserStore.user.getLangCode()).pipe().subscribe(j=>{this.statesList=j}),l=this.residence[0].countryCode,O=this.residence[0].stateCode,C=this.residence[0].city,D=this.residence[0].streetAddress,k=this.residence[0].zip),l&&O&&C&&this.invoiceDataForm.setValue({country:l,state:O,city:C,street:D,zip:k,selfInvoiceIdentityNumber:o.selfInvoiceIdentityNumber||""})})}setStatesList(o){!o||this.commonService.regionsByCountryList(o,this.currentUserStore.user.getLangCode()).pipe().subscribe(l=>{this.statesList=l})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(ue.Lf),t.Y36(x.qu),t.Y36(m.sK),t.Y36(m.sK),t.Y36(_.TFo),t.Y36(_.BRM),t.Y36(_.v_H),t.Y36(it.D),t.Y36(_.Dk$))},s.\u0275cmp=t.Xpm({type:s,selectors:[["b2m-dialog-add-address"]],decls:68,vars:60,consts:[[1,"modal-header"],[1,"modal-title"],[1,"login-form",3,"formGroup","ngClass"],["invoiceDataFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group"],["for","country"],["formControlName","country",1,"b2m-select",3,"placeholder"],[3,"value",4,"ngFor","ngForOf"],["for","state"],["formControlName","state",1,"b2m-select",3,"placeholder"],[1,"invalid-feedback"],[4,"ngIf"],["for","city"],["type","text","name","city","id","city","maxlength","64","formControlName","city","disabled","",3,"placeholder"],["for","street"],["type","text","name","street","id","street","maxlength","128","formControlName","street","disabled","",3,"placeholder"],["for","zip"],["type","text","name","zip","id","zip","maxlength","16","formControlName","zip","disabled","",3,"placeholder"],["role","alert",1,"alert","alert-info"],[1,"alert-contents"],[3,"innerHTML"],["for","selfInvoiceIdentityNumber"],["type","text","name","selfInvoiceIdentityNumber","id","selfInvoiceIdentityNumber","formControlName","selfInvoiceIdentityNumber","disabled","",3,"placeholder"],["class","alert-contents",4,"ngIf"],["aria-label","Close","data-dismiss","alert",1,"close-btn"],[3,"value"],[1,"mb-1"],[1,"mb-1",3,"innerHTML"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"form",2,3),t.TgZ(6,"div",4),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"fieldset"),t.TgZ(11,"div",5),t.TgZ(12,"label",6),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"ng-select",7),t.ALo(16,"translate"),t.YNc(17,Fe,2,2,"ng-option",8),t.ALo(18,"keyvalue"),t.qZA(),t.qZA(),t.TgZ(19,"div",5),t.TgZ(20,"label",9),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"ng-select",10),t.ALo(24,"translate"),t.YNc(25,ot,2,2,"ng-option",8),t.qZA(),t.TgZ(26,"div",11),t.YNc(27,at,3,3,"div",12),t.qZA(),t.qZA(),t.TgZ(28,"div",5),t.TgZ(29,"label",13),t._uU(30),t.ALo(31,"translate"),t.qZA(),t._UZ(32,"input",14),t.ALo(33,"translate"),t.TgZ(34,"div",11),t.YNc(35,rt,3,3,"div",12),t.qZA(),t.qZA(),t.TgZ(36,"div",5),t.TgZ(37,"label",15),t._uU(38),t.ALo(39,"translate"),t.qZA(),t._UZ(40,"input",16),t.ALo(41,"translate"),t.TgZ(42,"div",11),t.YNc(43,st,3,3,"div",12),t.qZA(),t.qZA(),t.TgZ(44,"div",5),t.TgZ(45,"label",17),t._uU(46),t.ALo(47,"translate"),t.qZA(),t._UZ(48,"input",18),t.ALo(49,"translate"),t.TgZ(50,"div",11),t.YNc(51,Ue,3,3,"div",12),t.qZA(),t.qZA(),t.TgZ(52,"div",19),t.TgZ(53,"div",20),t._UZ(54,"p",21),t.ALo(55,"translate"),t.qZA(),t.qZA(),t.TgZ(56,"div",5),t.TgZ(57,"label",22),t._uU(58),t.ALo(59,"translate"),t.qZA(),t._UZ(60,"input",23),t.ALo(61,"translate"),t.TgZ(62,"div",11),t.YNc(63,lt,3,3,"div",12),t.qZA(),t.qZA(),t.TgZ(64,"div",19),t.YNc(65,ct,14,12,"div",24),t.YNc(66,gt,3,3,"div",24),t._UZ(67,"button",25),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o){const O=t.MAs(5);t.xp6(2),t.Oqu(t.lcZ(3,26,"ADD_ADDRESS_DIALOG.TITLE")),t.xp6(2),t.Q6J("formGroup",l.invoiceDataForm)("ngClass",t.VKq(58,dt,O.submitted)),t.xp6(4),t.Oqu(t.lcZ(9,28,"ADD_ADDRESS_DIALOG.DESCRIPTION")),t.xp6(5),t.Oqu(t.lcZ(14,30,"ADD_ADDRESS_DIALOG.COUNTRY_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(16,32,"ADD_ADDRESS_DIALOG.COUNTRY_LABEL")),t.xp6(2),t.Q6J("ngForOf",t.lcZ(18,34,l.countryList)),t.xp6(4),t.Oqu(t.lcZ(22,36,"ADD_ADDRESS_DIALOG.STATE_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(24,38,"ADD_ADDRESS_DIALOG.STATE_LABEL")),t.xp6(2),t.Q6J("ngForOf",l.statesList),t.xp6(2),t.Q6J("ngIf",null==l.invoiceDataForm.get("state").errors?null:l.invoiceDataForm.get("state").errors.required),t.xp6(3),t.Oqu(t.lcZ(31,40,"ADD_ADDRESS_DIALOG.CITY_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(33,42,"ADD_ADDRESS_DIALOG.CITY_LABEL")),t.xp6(3),t.Q6J("ngIf",null==l.invoiceDataForm.get("city").errors?null:l.invoiceDataForm.get("city").errors.required),t.xp6(3),t.Oqu(t.lcZ(39,44,"ADD_ADDRESS_DIALOG.STREET_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(41,46,"ADD_ADDRESS_DIALOG.STREET_LABEL")),t.xp6(3),t.Q6J("ngIf",null==l.invoiceDataForm.get("street").errors?null:l.invoiceDataForm.get("street").errors.required),t.xp6(3),t.Oqu(t.lcZ(47,48,"ADD_ADDRESS_DIALOG.ZIP_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(49,50,"ADD_ADDRESS_DIALOG.ZIP_LABEL")),t.xp6(3),t.Q6J("ngIf",null==l.invoiceDataForm.get("zip").errors?null:l.invoiceDataForm.get("zip").errors.required),t.xp6(3),t.Q6J("innerHTML",t.lcZ(55,52,"PROFILE_ADDRESSES_PAGE.DIALOGS.EDIT_ADDRESS.CANNOT_EDIT.MESSAGE"),t.oJD),t.xp6(4),t.Oqu(t.lcZ(59,54,"ADD_ADDRESS_DIALOG.IDENTITY_NUMBER_LABEL")),t.xp6(2),t.Q6J("placeholder",t.lcZ(61,56,"ADD_ADDRESS_DIALOG.IDENTITY_NUMBER_LABEL")),t.xp6(3),t.Q6J("ngIf",null==l.invoiceDataForm.get("selfInvoiceIdentityNumber").errors?null:l.invoiceDataForm.get("selfInvoiceIdentityNumber").errors.required),t.xp6(2),t.Q6J("ngIf",l.invoiceDataForm.get("selfInvoiceIdentityNumber").value),t.xp6(1),t.Q6J("ngIf",!l.invoiceDataForm.get("selfInvoiceIdentityNumber").value)}},directives:[x._Y,x.JL,x.sg,c.mk,ce.w9,x.JJ,x.u,c.sg,c.O5,x.Fj,x.nD,ce.xv],pipes:[m.X$,c.Nd],styles:[".valid[_ngcontent-%COMP%]{color:#28af12}.not-valid[_ngcontent-%COMP%]{color:#dc0006}.alert[_ngcontent-%COMP%]{width:100%;padding-left:20px}.alert[_ngcontent-%COMP%]   .alert-contents[_ngcontent-%COMP%]{margin-top:30px}.alert[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:none}"]}),s})();const Pe=function(s){return{value:s}};function pt(s,A){if(1&s&&(t.TgZ(0,"button",6),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._UZ(3,"img",9),t.qZA(),t.TgZ(4,"div",10),t.TgZ(5,"span",11),t.TgZ(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const o=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_1")),t.xp6(3),t.hij(" ",t.xi3(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_1",t.VKq(7,Pe,o.minWithdrawal))," ")}}function ut(s,A){if(1&s&&(t.TgZ(0,"div",12),t.TgZ(1,"div",8),t._UZ(2,"img",13),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"span",11),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA()),2&s){const o=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_1")),t.xp6(3),t.Oqu(t.xi3(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_1_OK",t.VKq(7,Pe,o.minWithdrawal)))}}function _t(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().openOnboardingDialog()}),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._UZ(3,"img",15),t.qZA(),t.TgZ(4,"div",10),t.TgZ(5,"span",11),t.TgZ(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",16),t._UZ(13,"i",17),t.qZA(),t.qZA()}2&s&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_2")),t.xp6(3),t.hij(" ",t.lcZ(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_2")," "))}function mt(s,A){1&s&&(t.TgZ(0,"div",12),t.TgZ(1,"div",8),t._UZ(2,"img",18),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"span",11),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_2")),t.xp6(3),t.Oqu(t.lcZ(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_2_OK")))}function ft(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"button",14),t.NdJ("click",function(){return t.CHM(o),t.oxw().openAddAddressDialog()}),t.TgZ(1,"div",7),t.TgZ(2,"div",8),t._UZ(3,"img",19),t.qZA(),t.TgZ(4,"div",10),t.TgZ(5,"span",11),t.TgZ(6,"b"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.TgZ(9,"span",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",16),t._UZ(13,"i",17),t.qZA(),t.qZA()}2&s&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_3")),t.xp6(3),t.hij(" ",t.lcZ(11,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_3")," "))}function ke(s,A){1&s&&(t.TgZ(0,"div",12),t.TgZ(1,"div",8),t._UZ(2,"img",20),t.qZA(),t.TgZ(3,"div",10),t.TgZ(4,"span",11),t.TgZ(5,"b"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"span",11),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.STEP_3")),t.xp6(3),t.Oqu(t.lcZ(10,4,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.CONDITION_3_OK")))}let ae=(()=>{class s{constructor(o,l,O,C){this.urlService=o,this.modalService=l,this.currentUserStore=O,this.affiliatesService=C,this.isInvoiceConfigSet=!1,this.isLoading=!0,this.addressLinked=new t.vpe,this.success=!1}ngOnInit(){this.getSettings(),this.checkInvoiceInfo()}openOnboardingDialog(){this.modalService.open(_.qt9)}openAddAddressDialog(){this.identityVerified&&this.modalService.open(we).afterClose.subscribe(l=>{l&&(this.isInvoiceConfigSet=!0,this.addressLinked.emit(!0))})}checkInvoiceInfo(){const{account:o}=this.currentUserStore.user;o.selfInvoiceIdentityNumber&&(this.isInvoiceConfigSet=!0)}getSettings(){this.affiliatesService.getSettings().subscribe(o=>{this.isLoading=!1,this.minWithdrawal=Number(o.minimumWithdrawal)})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.iOJ),t.Y36(_.Z7U),t.Y36(_.Dk$),t.Y36(_.Oiz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bngx-withdraw-affiliate-benefits-steps"]],inputs:{benefits:"benefits",identityVerified:"identityVerified"},outputs:{addressLinked:"addressLinked"},decls:15,vars:10,consts:[["context","fullcomponent",1,"step-wrapper",3,"bngxLoadingLayer"],[1,"pb-4"],[1,"conditions"],["class","d-flex justify-content-between align-items-center w-100 benefits",4,"ngIf"],["class","success d-flex justify-content-start align-items-center",4,"ngIf"],["class","d-flex justify-content-between align-items-center w-100",3,"click",4,"ngIf"],[1,"d-flex","justify-content-between","align-items-center","w-100","benefits"],[1,"contents-wrapper","d-flex","align-items-center","justify-content-start"],[1,"image-wrapper"],["src","../../../../assets/images/withdraw-conditions/coins-blue.svg"],[1,"container-text"],[1,"text-wrapper"],[1,"success","d-flex","justify-content-start","align-items-center"],["src","../../../../assets/images/withdraw-conditions/coins-tick.svg","alt",""],[1,"d-flex","justify-content-between","align-items-center","w-100",3,"click"],["src","../../../../assets/images/withdraw-conditions/user-blue.svg"],[1,"icon-wrapper"],[1,"b2msf-chevron-right"],["src","../../../../assets/images/withdraw-conditions/user-tick.svg"],["src","../../../../assets/images/withdraw-conditions/pointer-blue.svg"],["src","../../../../assets/images/withdraw-conditions/pointer-tick.svg"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"ul",2),t.TgZ(6,"li"),t.YNc(7,pt,12,9,"button",3),t.YNc(8,ut,11,9,"div",4),t.qZA(),t.TgZ(9,"li"),t.YNc(10,_t,14,6,"button",5),t.YNc(11,mt,11,6,"div",4),t.qZA(),t.TgZ(12,"li"),t.YNc(13,ft,14,6,"button",5),t.YNc(14,ke,11,6,"div",4),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("bngxLoadingLayer",l.isLoading),t.xp6(3),t.hij(" ",t.lcZ(4,8,"WITHDRAW_AFFILIATE_BENEFITS_COMPONENT.DESCRIPTION")," "),t.xp6(4),t.Q6J("ngIf",l.benefits<l.minWithdrawal),t.xp6(1),t.Q6J("ngIf",l.benefits>=l.minWithdrawal),t.xp6(2),t.Q6J("ngIf",!l.identityVerified),t.xp6(1),t.Q6J("ngIf",l.identityVerified),t.xp6(2),t.Q6J("ngIf",!l.isInvoiceConfigSet),t.xp6(1),t.Q6J("ngIf",l.isInvoiceConfigSet))},directives:[_.gO3,c.O5],pipes:[m.X$],styles:[".container-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.container-text[_ngcontent-%COMP%]   .text-wrapper[_ngcontent-%COMP%]{text-align:left;display:flex}img[_ngcontent-%COMP%]{margin-top:20px;max-width:140px;margin-bottom:10px}h6[_ngcontent-%COMP%]{margin-bottom:10px;font-weight:700;text-transform:uppercase}.date[_ngcontent-%COMP%]{color:#044e97;font-size:.8rem}ul.conditions[_ngcontent-%COMP%]{margin:20px 0 0;padding:0;list-style:none}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{line-height:22px}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{line-height:inherit;display:block}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 0;flex-direction:row;border:0 solid transparent}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.benefits[_ngcontent-%COMP%]{cursor:default}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]{padding:10px 0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:2rem;margin-right:10px;text-align:center;flex-grow:0;flex-shrink:0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .contents-wrapper[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{margin-right:5px}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#044e971a}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{padding:10px 0;color:#009245}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]{width:2rem;margin-right:10px;text-align:center;flex-grow:0;flex-shrink:0}ul.conditions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]   .image-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin:0 auto}"]}),s})();function ee(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"bngx-withdraw-affiliate-benefits-steps",5),t.NdJ("addressLinked",function(O){return t.CHM(o),t.oxw().onAddressLinked(O)}),t.qZA()}if(2&s){const o=t.oxw();t.Q6J("benefits",o.earnings)("identityVerified",o.isVerified)}}function Ge(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function At(s,A){if(1&s&&(t.TgZ(0,"div",12),t.YNc(1,Ge,3,3,"div",11),t.qZA()),2&s){const o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==o.pocketForm||null==o.pocketForm.controls||null==o.pocketForm.controls.pocketId?null:o.pocketForm.controls.pocketId.errors.required)}}function ht(s,A){1&s&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"BUTTONS.WITHDRAW")," "))}const Tt=function(s){return{submitted:s}},Ce=function(s){return{value:s}},Zt=function(){return["EUR"]};function _e(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"form",6,7),t.NdJ("ngSubmit",function(){return t.CHM(o),t.oxw().withdrawEarnings()}),t.TgZ(2,"p"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t._UZ(5,"bngx-pocket-control",8),t.YNc(6,At,2,1,"div",9),t.TgZ(7,"button",10),t.YNc(8,ht,3,3,"span",11),t.qZA(),t.qZA()}if(2&s){const o=t.MAs(1),l=t.oxw();t.Q6J("formGroup",l.pocketForm)("ngClass",t.VKq(11,Tt,o.submitted)),t.xp6(3),t.Oqu(t.xi3(4,8,"AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.TEXT",t.VKq(13,Ce,l.earnings))),t.xp6(2),t.Q6J("allowedCurrencies",t.DdM(15,Zt)),t.xp6(1),t.Q6J("ngIf",null==l.pocketForm||null==l.pocketForm.controls||null==l.pocketForm.controls.pocket?null:l.pocketForm.controls.pocket.errors),t.xp6(1),t.Q6J("disabled",l.submitting||!(null!=l.pockets&&l.pockets.length)||!(null!=l.pocketForm&&null!=l.pocketForm.controls&&null!=l.pocketForm.controls.pocketId&&l.pocketForm.controls.pocketId.value))("bngxLoadingLayer",l.submitting),t.xp6(1),t.Q6J("ngIf",!l.submitting)}}let Ot=(()=>{class s{constructor(o,l,O,C,D,k,W,te,j){this.nzModalRef=o,this.pocketService=l,this.affiliatesService=O,this.notificationService=C,this.translate=D,this.formBuilder=k,this.authService=W,this.modalService=te,this.currentUserStore=j,this.destroy=new q.xQ,this.submitting=!1}ngOnInit(){this.getSettings(),this.pocketForm=this.formBuilder.group({pocketId:["",[x.kI.required]]}),this.isVerified=this.authService.isVerified([_.Dzy.email,_.Dzy.identity,_.Dzy.phone]),this.observeVerificationState(),this.getUserPockets(),this.loadFirstPocket(),this.checkInvoiceInfoSet()}getUserPockets(){this.pocketService.subject.subscribe(()=>{this.pockets=this.pocketService.getPockets(["EUR"])})}loadFirstPocket(){this.pockets.length&&this.pocketForm.get("pocketId").setValue(this.pockets[0].id)}observeVerificationState(){this.authService.tokenSubject.pipe((0,qe.h)(()=>!this.isVerified),(0,N.R)(this.destroy)).subscribe(()=>{this.isVerified=this.authService.isVerified([_.Dzy.email,_.Dzy.identity,_.Dzy.phone])})}onAddressLinked(o){o&&(this.userHasSetInvoiceInfo=!0)}withdrawEarnings(){this.pocketForm.invalid||this.earnings<this.minWithdrawal||!this.isVerified||!this.userHasSetInvoiceInfo||this.modalService.open(et).afterClose.subscribe(l=>{"proceed"===l&&(this.submitting=!0,this.affiliatesService.requestPayout(this.pocketForm.value).subscribe(C=>{this.submitting=!1,this.notificationService.success(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.SUCCESS")),this.nzModalRef.close(C)},()=>{this.submitting=!1,this.notificationService.error(this.translate.instant("AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.ERROR"))}))})}checkInvoiceInfoSet(){const{account:o}=this.currentUserStore.user;o.selfInvoiceIdentityNumber&&(this.userHasSetInvoiceInfo=!0)}getSettings(){this.affiliatesService.getSettings().subscribe(o=>{this.minWithdrawal=Number(o.minimumWithdrawal)})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(ue.Lf),t.Y36(_.xHo),t.Y36(_.Oiz),t.Y36(_.TFo),t.Y36(m.sK),t.Y36(x.qu),t.Y36(_.e80),t.Y36(_.Z7U),t.Y36(_.Dk$))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:7,vars:5,consts:[[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[3,"benefits","identityVerified","addressLinked",4,"ngIf"],[3,"formGroup","ngClass","ngSubmit",4,"ngIf"],[3,"benefits","identityVerified","addressLinked"],[3,"formGroup","ngClass","ngSubmit"],["pocketFormTemplate","ngForm"],["formControlName","pocketId","bngxAutofocus","",3,"allowedCurrencies"],["class","invalid-feedback",4,"ngIf"],["type","submit",1,"b2m-btn","btn-solid","w-100","mr-0","mt-2","mr-0","mb-2",3,"disabled","bngxLoadingLayer"],[4,"ngIf"],[1,"invalid-feedback"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"div",2),t.YNc(5,ee,1,2,"bngx-withdraw-affiliate-benefits-steps",3),t.YNc(6,_e,9,16,"form",4),t.qZA()),2&o&&(t.xp6(2),t.Oqu(t.lcZ(3,3,"AFFILIATES_CODES_PAGE.DIALOGS.WITHDRAW.HEADER")),t.xp6(3),t.Q6J("ngIf",!l.userHasSetInvoiceInfo||!l.isVerified||l.earnings<l.minWithdrawal),t.xp6(1),t.Q6J("ngIf",l.isVerified&&l.userHasSetInvoiceInfo&&l.earnings>=l.minWithdrawal))},directives:[c.O5,ae,x._Y,x.JL,x.sg,c.mk,_.cU2,x.JJ,x.u,_.av4,_.gO3],pipes:[m.X$],encapsulation:2}),s})();function Et(s,A){if(1&s&&(t.TgZ(0,"span",19),t._uU(1),t.ALo(2,"number"),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Oqu(t.lcZ(2,1,null==o.affiliateProfile?null:o.affiliateProfile.totalEarning))}}const Pt=function(s){return{width:s}};function Ie(s,A){if(1&s&&(t.TgZ(0,"div",20),t.TgZ(1,"div",21),t.TgZ(2,"span",22),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",23),t.ALo(6,"translate"),t.ALo(7,"number"),t._uU(8),t.ALo(9,"shortNumber"),t.qZA(),t.qZA(),t.TgZ(10,"div",24),t.TgZ(11,"div",25),t._UZ(12,"div",26),t.qZA(),t.TgZ(13,"div",27),t.TgZ(14,"span",28),t.ALo(15,"translate"),t.ALo(16,"number"),t._uU(17),t.ALo(18,"number"),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(20,"div",29),t.TgZ(21,"span",22),t._UZ(22,"i",30),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"span",23),t.ALo(26,"translate"),t.ALo(27,"number"),t.ALo(28,"translate"),t.ALo(29,"number"),t._uU(30),t.ALo(31,"shortNumber"),t.qZA(),t.qZA(),t.qZA()),2&s){const o=t.oxw();let l,O,C,D;t.xp6(1),t.MGl("ngClass","level-",null==o.affiliateProfile?null:o.affiliateProfile.level,""),t.xp6(2),t.AsE("",t.lcZ(4,19,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," ",null==o.affiliateProfile?null:o.affiliateProfile.level,""),t.xp6(2),t.hYB("title","",t.lcZ(6,21,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.CURRENT_LEVEL_POINTS"),": ",t.Dn7(7,23,null==(l=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:l.currentLevel,"",o.lang),""),t.xp6(3),t.Oqu(t.lcZ(9,27,null==(O=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:O.currentLevel)),t.xp6(4),t.Q6J("ngStyle",t.VKq(57,Pt,o.calculatePercentagePoints(null==o.affiliateProfile?null:o.affiliateProfile.level)+"%")),t.xp6(2),t.hYB("title","",t.lcZ(15,29,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.AFFILIATE_POINTS"),": ",t.Dn7(16,31,null==o.affiliateProfile?null:o.affiliateProfile.totalPoints,"",o.lang),""),t.xp6(3),t.AsE("",t.Dn7(18,35,null==o.affiliateProfile?null:o.affiliateProfile.totalPoints,"",o.lang)," ",t.lcZ(19,39,"AFFILIATES_CODES_PAGE.CODES_SECTION.POINTS"),""),t.xp6(3),t.MGl("ngClass","level-",(null==o.affiliateProfile?null:o.affiliateProfile.level)+1,""),t.xp6(3),t.AsE(" ",t.lcZ(24,41,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," ",(null==o.affiliateProfile?null:o.affiliateProfile.level)+1," "),t.xp6(2),t.FAE("title","",t.lcZ(26,43,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.NEXT_LEVEL_POINTS"),": ",t.Dn7(27,45,null==(C=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:C.nextLevel,"",o.lang),"\r",t.lcZ(28,49,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.REMAINING_POINTS"),": ",t.Dn7(29,51,o.neededPointsForNextLvl(),"",o.lang)," "),t.xp6(5),t.Oqu(t.lcZ(31,55,null==(D=o.getRequiredPointsForLevel((null==o.affiliateProfile?null:o.affiliateProfile.level)-1))?null:D.nextLevel))}}function pe(s,A){1&s&&(t.TgZ(0,"div",31),t.TgZ(1,"span",32),t._UZ(2,"i",33),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()),2&s&&(t.xp6(3),t.hij("",t.lcZ(4,1,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.LEVEL")," 5"))}let ve=(()=>{class s{constructor(o,l,O){this.modalService=o,this.affiliatesService=l,this.translateService=O}ngOnInit(){this.getAffiliateProfile(),this.translateService.onLangChange.subscribe(()=>{})}getAffiliateProfile(){this.loading=!0,this.affiliatesService.getProfile().subscribe(o=>{this.getLevelConfig(),this.affiliateProfile=o},()=>{})}calculatePercentagePoints(o){if(!(o&&this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile))return null;const O=this.levelsConfig[o-1].pointsFrom;return 100*(this.affiliateProfile.totalPoints-O)/(this.levelsConfig[o-1].pointsTo-O)}getLevelConfig(){this.affiliatesService.getSettings().subscribe(o=>{this.loading=!1,this.levelsConfig=o.levels,this.minWithdrawal=Number(o.minimumWithdrawal)})}getRequiredPointsForLevel(o){return this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile?{currentLevel:this.levelsConfig[o].pointsFrom,nextLevel:this.levelsConfig[o].pointsTo}:null}openWithdrawDialog(){this.affiliateProfile&&(this.withdrawDialog=this.modalService.open(Ot,{nzComponentParams:{earnings:this.affiliateProfile.totalEarning}}),this.withdrawDialog.afterClose.subscribe(o=>{o&&(this.affiliateProfile.totalEarning=0)}))}openShareLinkDialog(){this.modalService.open(_.NpZ)}neededPointsForNextLvl(){return this.levelsConfig&&this.levelsConfig.length&&this.affiliateProfile?this.levelsConfig[this.affiliateProfile.level-1].pointsTo-this.affiliateProfile.totalPoints:null}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Z7U),t.Y36(_.Oiz),t.Y36(m.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bngx-benefits-component"]],decls:52,vars:34,consts:[[1,"benefits-section"],[1,"table-wrapper-parent-loading-fix"],["context","fullcomponent",1,"row",3,"bngxLoadingLayer"],[1,"col-12","col-md-7","col-lg-5"],[1,"benefits"],["class","value",4,"ngIf"],[1,"levels"],["class","score-graph d-flex justify-content-between",4,"ngIf"],["class","max-score score-graph",4,"ngIf"],[1,"col-12","col-md-5","col-lg-7"],[1,"action-box","d-flex","justify-content-between"],[1,"b2m-btn","btn-line","m-0",3,"click"],["aria-hidden","true",1,"b2msf-coin","mr-1"],[1,"b2m-btn","btn-solid","m-0",3,"click"],["aria-hidden","true",1,"b2msf-share","mr-1"],[1,"levels-info"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"affiliates-number"],[1,"hierarchy"],[1,"value"],[1,"score-graph","d-flex","justify-content-between"],[1,"level","current-level","badge",3,"ngClass"],[1,"d-block"],[1,"score","d-block",3,"title"],[1,"bar-wrapper"],[1,"bar"],[1,"fill",3,"ngStyle"],[1,"score"],[1,"current",3,"title"],[1,"level","next-level","badge",3,"ngClass"],["aria-hidden","true",1,"b2msf-star-solid","mr-1","d-none"],[1,"max-score","score-graph"],[1,"d-block","level","badge","level-5"],["aria-hidden","true",1,"b2msf-star-solid","mr-1"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"p"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"h2"),t.YNc(9,Et,3,3,"span",5),t.TgZ(10,"small"),t._uU(11,"EUR"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",6),t.YNc(13,Ie,32,59,"div",7),t.YNc(14,pe,5,3,"div",8),t.qZA(),t.qZA(),t.TgZ(15,"div",9),t.TgZ(16,"div",10),t.TgZ(17,"button",11),t.NdJ("click",function(){return l.openWithdrawDialog()}),t._UZ(18,"i",12),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"button",13),t.NdJ("click",function(){return l.openShareLinkDialog()}),t._UZ(22,"i",14),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.qZA(),t.TgZ(25,"div",15),t.TgZ(26,"a",16),t.ALo(27,"translate"),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(30,"div",3),t.TgZ(31,"div",17),t.TgZ(32,"p"),t.TgZ(33,"strong"),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.qZA(),t.TgZ(36,"div",18),t.TgZ(37,"span"),t.TgZ(38,"span"),t._uU(39),t.ALo(40,"translate"),t.qZA(),t._uU(41),t.qZA(),t.TgZ(42,"span"),t.TgZ(43,"span"),t._uU(44),t.ALo(45,"translate"),t.qZA(),t._uU(46),t.qZA(),t.TgZ(47,"span"),t.TgZ(48,"span"),t._uU(49),t.ALo(50,"translate"),t.qZA(),t._uU(51),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(4),t.Oqu(t.lcZ(7,16,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.TOTAL")),t.xp6(3),t.Q6J("ngIf",l.affiliateProfile),t.xp6(4),t.Q6J("ngIf",(null==l.affiliateProfile?null:l.affiliateProfile.level)<5),t.xp6(1),t.Q6J("ngIf",5===(null==l.affiliateProfile?null:l.affiliateProfile.level)),t.xp6(5),t.hij(" ",t.lcZ(20,18,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.WITHDRAW_BENEFITS")," "),t.xp6(4),t.hij(" ",t.lcZ(24,20,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.SHARE_CODE")," "),t.xp6(3),t.s9C("href",t.lcZ(27,22,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.SUPPORT_LINK"),t.LSH),t.xp6(2),t.Oqu(t.lcZ(29,24,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.MORE_INFO")),t.xp6(6),t.Oqu(t.lcZ(35,26,"AFFILIATES_CODES_PAGE.BENEFITS_SECTION.AFFILIATES_NUMBER")),t.xp6(5),t.hij("",t.lcZ(40,28,"AFFILIATES_ACTIVITY_PAGE.USERS.SONS"),": "),t.xp6(2),t.Oqu(null==l.affiliateProfile||null==l.affiliateProfile.affiliates?null:l.affiliateProfile.affiliates.son),t.xp6(3),t.hij("",t.lcZ(45,30,"AFFILIATES_ACTIVITY_PAGE.USERS.GRANDSONS"),": "),t.xp6(2),t.Oqu(null==l.affiliateProfile||null==l.affiliateProfile.affiliates?null:l.affiliateProfile.affiliates.grandSon),t.xp6(3),t.hij("",t.lcZ(50,32,"AFFILIATES_ACTIVITY_PAGE.USERS.GREAT_GRANDSONS"),": "),t.xp6(2),t.Oqu(null==l.affiliateProfile||null==l.affiliateProfile.affiliates?null:l.affiliateProfile.affiliates.greatGrandSon))},directives:[_.gO3,c.O5,c.mk,c.PC],pipes:[m.X$,c.JJ,_.J76],styles:['@charset "UTF-8";.benefits-section[_ngcontent-%COMP%]   .table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]{margin-bottom:20px}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   h2\\a0[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{font-weight:700;font-size:3rem;line-height:3.5rem;display:inline-block}.benefits-section[_ngcontent-%COMP%]   .benefits[_ngcontent-%COMP%]   h2\\a0[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.5em;display:inline-block;margin-left:5px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]{padding-bottom:22px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]{width:calc(100% - 170px);padding:10px 0;height:2px;position:relative}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background-color:#e8edf4;position:relative;width:100%;height:2px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#044e97;width:0;height:2px;transition:all 1.5s ease}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{display:block;position:absolute;top:0;left:50%;font-size:10px;line-height:12px;height:12px;transform:translate(-50%,-50%)}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .bar-wrapper[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font:inherit;line-height:inherit;color:#044e97}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level[_ngcontent-%COMP%]{width:auto;max-width:100px;display:inline-block}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level.badge[_ngcontent-%COMP%]{padding:0 10px;text-align:center;border-radius:11px;height:22px;line-height:22px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph[_ngcontent-%COMP%]   .level.next-level[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:relative;top:1px}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph.max-score[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{color:#fff}.benefits-section[_ngcontent-%COMP%]   .levels[_ngcontent-%COMP%]   .score-graph.max-score[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{padding-top:28px;margin-bottom:20px}@media (max-width: 560px),(min-width: 768px) and (max-width: 991px){.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{flex-direction:column!important;margin-bottom:0}}.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:48%}@media (max-width: 560px),(min-width: 768px) and (max-width: 991px){.benefits-section[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;max-width:100%;margin:0 0 10px!important}}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]{margin-top:15px}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]   .hierarchy[_ngcontent-%COMP%]{margin-top:15px;display:flex;justify-content:space-between}.benefits-section[_ngcontent-%COMP%]   .affiliates-number[_ngcontent-%COMP%]   .hierarchy[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600}.benefits-section[_ngcontent-%COMP%]   .level-1[_ngcontent-%COMP%]{background-color:#3affff}.benefits-section[_ngcontent-%COMP%]   .level-2[_ngcontent-%COMP%]{background-color:#91d90d}.benefits-section[_ngcontent-%COMP%]   .level-3[_ngcontent-%COMP%]{background-color:#fcee20}.benefits-section[_ngcontent-%COMP%]   .level-4[_ngcontent-%COMP%]{background-color:#ff8e52}.benefits-section[_ngcontent-%COMP%]   .level-5[_ngcontent-%COMP%]{background-color:#e62e1f}.level-5[_ngcontent-%COMP%]{background-color:#e62e1f}']}),s})();const ie=function(){return["/affiliates/activity"]},Ct=function(s){return{codes:s}};function be(s,A){if(1&s&&(t.TgZ(0,"a",30),t.ALo(1,"translate"),t._UZ(2,"i",31),t.TgZ(3,"span",32),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.qZA()),2&s){const o=t.oxw().$implicit;t.s9C("title",t.lcZ(1,4,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.CODE_CHART_LINK")),t.Q6J("routerLink",t.DdM(8,ie))("queryParams",t.VKq(9,Ct,null==o?null:o.id)),t.xp6(4),t.Oqu(t.lcZ(5,6,"AFFILIATES_CODES_PAGE.CODES_SECTION.ACTIVITY_LINK"))}}function oe(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"div",14),t.TgZ(2,"div",15),t.TgZ(3,"div",16),t.TgZ(4,"p"),t._uU(5),t.qZA(),t.TgZ(6,"button",17),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw().openEditLinkDialog(C)}),t.ALo(7,"translate"),t._UZ(8,"i",18),t.qZA(),t.TgZ(9,"div",19),t.TgZ(10,"small",20),t._uU(11),t.ALo(12,"translate"),t.ALo(13,"date"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",21),t.TgZ(15,"h4"),t.TgZ(16,"span",22),t._uU(17),t.ALo(18,"number"),t.qZA(),t.TgZ(19,"small"),t._uU(20,"EUR / "),t.qZA(),t.TgZ(21,"small"),t.TgZ(22,"strong"),t._uU(23),t.ALo(24,"number"),t.qZA(),t.qZA(),t.TgZ(25,"small"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",23),t.TgZ(29,"span"),t._uU(30),t.qZA(),t.TgZ(31,"button",24),t.ALo(32,"translate"),t._UZ(33,"i",25),t.qZA(),t.qZA(),t.TgZ(34,"div",26),t.YNc(35,be,6,11,"a",27),t.TgZ(36,"button",28),t.NdJ("click",function(){const C=t.CHM(o).$implicit;return t.oxw().openShareLinkDialog(C)}),t.ALo(37,"translate"),t._UZ(38,"i",29),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&s){const o=A.$implicit,l=t.oxw();t.xp6(5),t.Oqu(null==o?null:o.label),t.xp6(1),t.s9C("title",t.lcZ(7,13,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.EDIT_CODE_NAME")),t.xp6(4),t.Q6J("title",l.getDateTranslated(o.createdAt)),t.xp6(1),t.AsE("",t.lcZ(12,15,"AFFILIATES_CODES_PAGE.CODES_SECTION.CREATION_DATE")," ",t.lcZ(13,17,null==o?null:o.createdAt),""),t.xp6(6),t.Oqu(t.lcZ(18,19,null==o?null:o.earnings)),t.xp6(6),t.hij("",t.lcZ(24,21,null==o?null:o.points)," "),t.xp6(3),t.Oqu(t.lcZ(27,23,"AFFILIATES_CODES_PAGE.CODES_SECTION.POINTS")),t.xp6(4),t.Oqu(l.affiliatesService.getAffiliationCodeLinkByEnvironment(null==o?null:o.serial)),t.xp6(1),t.s9C("title",t.lcZ(32,25,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.COPY_CODE")),t.Q6J("copyToClipboard",l.affiliatesService.getAffiliationCodeLinkByEnvironment(null==o?null:o.serial)),t.xp6(4),t.Q6J("ngIf",null==o?null:o.id),t.xp6(1),t.s9C("title",t.lcZ(37,27,"AFFILIATES_CODES_PAGE.CODES_SECTION.TITLES.SHARE_CODE"))}}let Ye=(()=>{class s{constructor(o,l,O,C){this.modalService=o,this.codeService=l,this.translateService=O,this.affiliatesService=C,this.unsubscribe=new q.xQ}ngOnInit(){this.loadUserCodes()}ngOnDestroy(){this.unsubscribe.next(!0),this.unsubscribe.complete()}loadUserCodes(){this.loading=!0,this.codeService.findAllUserCodes().pipe((0,N.R)(this.unsubscribe)).subscribe(o=>{this.loading=!1,this.codes=o.data},()=>{})}openShareLinkDialog(o){this.modalService.open(_.NpZ,{nzComponentParams:{selectedCode:o}})}openCreateLinkDialog(){this.modalService.open(De).afterClose.subscribe(l=>{l&&this.loadUserCodes()})}openEditLinkDialog(o){this.modalService.open(Me,{nzComponentParams:{code:o}}).afterClose.subscribe(O=>{O&&(o.label=O)})}getDateTranslated(o){return o?Ve.ou.fromISO(o).toLocaleString({locale:this.translateService.currentLang,weekday:"long",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit"}):null}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Z7U),t.Y36(_.$T3),t.Y36(m.sK),t.Y36(_.Oiz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:23,vars:11,consts:[[1,"affiliates-code-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"links-section"],[1,"card-page-title"],["context","fullcomponent",1,"row","mt-2",3,"bngxLoadingLayer"],[1,"col-12","col-lg-6","links-section-column"],[1,"link-element","new-link",3,"click"],["aria-hidden","true",1,"b2msf-web-link","link-icon"],["aria-hidden","true",1,"b2msf-plus"],["class","col-12 col-lg-6 links-section-column",4,"ngFor","ngForOf"],[1,"link-element"],[1,"link-name"],[1,"link-name-wrapper"],[1,"b2m-btn","btn-square",3,"title","click"],["aria-hidden","true",1,"b2msf-pencil"],[1,"date-info"],[3,"title"],[1,"link-generated-amount"],[1,"value"],[1,"link-link"],[3,"copyToClipboard","title"],["aria-hidden","true",1,"b2msf-copy"],[1,"action-box"],["class","b2m-btn btn-solid charts-link",3,"routerLink","queryParams","title",4,"ngIf"],[1,"b2m-btn","btn-square","share-button",3,"title","click"],["aria-hidden","true",1,"b2msf-share"],[1,"b2m-btn","btn-solid","charts-link",3,"routerLink","queryParams","title"],["aria-hidden","true",1,"b2msf-line-chart","mr-0","mr-sm-1","mr-lg-0"],[1,"text","d-none","d-sm-block","d-lg-none"]],template:function(o,l){1&o&&(t.TgZ(0,"main",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"section"),t._UZ(9,"bngx-benefits-component"),t.qZA(),t.TgZ(10,"section",6),t.TgZ(11,"h2",7),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",8),t.TgZ(15,"div",9),t.TgZ(16,"button",10),t.NdJ("click",function(){return l.openCreateLinkDialog()}),t._UZ(17,"i",11),t.TgZ(18,"p"),t._UZ(19,"i",12),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,oe,39,29,"div",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,5,"AFFILIATES_CODES_PAGE.HEADER")),t.xp6(7),t.Oqu(t.lcZ(13,7,"AFFILIATES_CODES_PAGE.CODES_SECTION.HEADER")),t.xp6(2),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(6),t.hij("\xa0 ",t.lcZ(21,9,"AFFILIATES_CODES_PAGE.CODES_SECTION.NEW_CODE_BUTTON")," "),t.xp6(2),t.Q6J("ngForOf",l.codes))},directives:[ve,_.gO3,c.sg,_.eoe,c.O5,w.yS],pipes:[m.X$,c.uU,c.JJ],styles:[".card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .card-page-title[_ngcontent-%COMP%]{float:unset;margin-bottom:unset}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .links-section-column[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .links-section-column[_ngcontent-%COMP%]   .share-button[_ngcontent-%COMP%]{top:9px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;padding:20px 70px 20px 20px;border-radius:5px;box-shadow:0 0 0 1px #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]{margin-bottom:5px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:22px;position:relative;width:auto;padding-right:60px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{display:inline-block;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-name[_ngcontent-%COMP%]   .link-name-wrapper[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;padding:0;width:48px;height:48px;top:50%;right:24px;font-size:.8em;transform:translate(50%,-50%)}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]{margin-bottom:10px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{line-height:30px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:5px;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-generated-amount[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.7em}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]{background-color:#e8edf4;padding:4px 0 4px 10px;border-radius:5px;color:#044e97;position:relative}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;padding-right:32px;word-break:break-all}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:absolute;top:50%;right:0;width:30px;height:30px;text-align:center;line-height:30px;border-radius:5px;transform:translateY(-50%);background-color:#0000000a;transition:all .3s ease}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#91adcc;color:#0f335b}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .link-link[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]{position:absolute;top:20px;right:15px;width:48px;height:calc(100% - 40px);display:flex;flex-direction:column;justify-content:space-between}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:40px;border-radius:40px;height:40px;min-height:40px;margin:0 5px}@media (min-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:120px;border-radius:40px;height:40px;min-height:40px;right:75px;text-transform:none}}@media (min-width: 992px) and (max-width: 1140px){.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .action-box[_ngcontent-%COMP%]   a.charts-link[_ngcontent-%COMP%]{min-width:0px;right:0px}}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element[_ngcontent-%COMP%]   .date-info[_ngcontent-%COMP%]{color:#d3d3d3}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]{text-align:center;box-shadow:0 0 0 1px #e8edf4;background-color:#f3f6f9;display:block;padding:20px;transition:all .3s ease}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]:hover{background-color:#e8edf4;box-shadow:0 0 0 1px #91adcc;font-weight:700}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]   .link-icon[_ngcontent-%COMP%]{display:inline-block;font-size:60px;margin-bottom:10px;color:#91adcc;position:relative;left:10px}.card-page-inner[_ngcontent-%COMP%]   section.links-section[_ngcontent-%COMP%]   .link-element.new-link[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#91adcc}"]}),s})();var It=f(2774),Se=f.n(It),Te=f(33927),vt=f(8334),u=f.n(vt),v=f(41803);const h=["chart"];function d(s,A){if(1&s&&(t.TgZ(0,"div",9),t._UZ(1,"canvas",10,11),t.qZA()),2&s){const o=t.oxw();t.Udp("height",o.CHART_HEIGHT+"px"),t.xp6(1),t.Q6J("datasets",o.datasets)("labels",o.labels)("options",o.options)("chartType","line")}}var P=(()=>{return(s=P||(P={})).son="1",s.grandSon="2",s.greatGrandSon="3",P;var s})();let Y=(()=>{class s{constructor(o,l){this.affiliatesService=o,this.translateService=l,this.B2M_COLOR="#044e97",this.OPACITY=.3,this.CHART_HEIGHT=400,this.codes=[],this.selectedCodes=[],this.selectedUsers=[],this.dateUtils=_.EDk,this.datasets=[],this.totalCodeStats=[],this.options={legend:{display:!1}},this.benefits=[],this.total={earnings:0,points:0,operations:0},this.destroy$=new q.xQ,this.colorGenerator=new(Se())}ngOnChanges(o){o.timeInterval&&this.setStats(),this.fillBenefitsData()}ngOnInit(){this.datasets=[{data:[]}],this.setStats(),this.translateService.onLangChange.pipe((0,N.R)(this.destroy$)).subscribe(()=>{this.labels=this.getLabel(),this.options=this.getOptions(),this.lang=this.translateService.currentLang})}ngAfterViewInit(){this.stats&&this.fillBenefitsData()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}setStats(){this.loading=!0,this.affiliatesService.getStats(this.timeInterval).pipe((0,N.R)(this.destroy$)).subscribe(o=>{this.stats=o,this.loading=!1,this.labels=this.getLabel(),this.options=this.getOptions(),this.fillBenefitsData()})}fillBenefitsData(){!this.stats||!this.stats.length||!this.codes.length||!this.datasets.length||(this.datasets=[],this.total={earnings:0,points:0,operations:0},this.totalCodeStats=[],this.fillDatasets())}accumulateBenefits(){return this.stats?this.stats.map((o,l)=>{const O={earnings:0,points:0,operations:0};return o.codes.map(C=>{this.isSelectedCode(C.id)&&(O.earnings+=this.addSelectedUserProperties(C.generations).earnings,O.operations+=this.addSelectedUserProperties(C.generations).operations,O.points+=this.addSelectedUserProperties(C.generations).points,this.setAcumulatedProperties(C))}),this.totalCodeStats[l]?this.totalCodeStats[l].push(O):this.totalCodeStats.push([O]),O.earnings}):null}setAcumulatedProperties(o){this.total.earnings+=this.addSelectedUserProperties(o.generations).earnings,this.total.points+=this.addSelectedUserProperties(o.generations).points,this.total.operations+=this.addSelectedUserProperties(o.generations).operations}addSelectedUserProperties(o){if(!o)return{earnings:0,operations:0,points:0};const l={earnings:0,operations:0,points:0};return this.isSelectedUser(P.son)&&(l.earnings+=o.son.earnings,l.operations+=o.son.operations,l.points+=o.son.points),this.isSelectedUser(P.grandSon)&&(l.earnings+=o.grandSon.earnings,l.operations+=o.grandSon.operations,l.points+=o.grandSon.points),this.isSelectedUser(P.greatGrandSon)&&(l.earnings+=o.greatGrandSon.earnings,l.operations+=o.greatGrandSon.operations,l.points+=o.greatGrandSon.points),l}getLabel(){const o=[];let l=this.affiliatesService.detectRange(this.timeInterval);return l||(l="year",this.stats=this.stats.slice(1)),this.stats?(this.stats.map(O=>{const C=this.dateUtils.toDateTime(O.date),D=this.dateUtils.Info().months("short",{locale:this.translateService.currentLang})[C.month-1];switch(l){case"hour":o.push(0===C.hour?`${C.hour}h - ${C.day} - ${D}`:`${C.hour}h`);break;case"day":o.push(`${C.day}  ${C.monthShort}`);break;case"week":o.push(C.weekNumber);break;case"month":o.push(1===C.day?`${C.day} - ${D}`:C.day);break;case"year":o.push(1===C.month?D+" - "+C.year:D)}}),o):null}getOptions(){return{legend:{display:!1},maintainAspectRatio:!1,responsive:!0,title:{display:!1},tooltips:{enabled:!0,backgroundColor:"grey",mode:"nearest",position:"average",intersect:!1,callbacks:{label:o=>{const l=this.totalCodeStats[o.index][o.datasetIndex].earnings||"",O=this.totalCodeStats[o.index][o.datasetIndex].operations||"",C=this.totalCodeStats[o.index][o.datasetIndex].points||"",D=[];return D.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.BENEFITS")}: ${l.toString()}`),D.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.OPERATIONS")}: ${O.toString()}`),D.push(`${this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.TOOLTIPS.POINTS")}: ${C.toString()}`),D}}},scales:{yAxes:[{scaleLabel:{display:!0,labelString:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.Y-AXIS-NAME")}}],xAxes:[{scaleLabel:{display:!0,labelString:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.CHART_COMPONENT.X-AXIS-NAME")}}]}}}getGradient(o=this.B2M_COLOR){if(!this.chart||!this.chart.nativeElement)return"";const O=this.chart.nativeElement.getContext("2d").createLinearGradient(0,this.CHART_HEIGHT-50,0,0);return O.addColorStop(1,u()(o).alpha(this.OPACITY).rgb().toString()),O.addColorStop(0,"#ffffff"),O}isSelectedUser(o){return this.selectedUsers.some(l=>l.id===o)}isSelectedCode(o){return this.selectedCodes.some(l=>l.id===o)}areAtLeastTwoCodesSelected(){return this.selectedCodes.length>=2}getColorBySelectedCodes(){var o,l;return this.areAtLeastTwoCodesSelected()?this.B2M_COLOR:this.colorGenerator.hex(null===(l=null===(o=this.selectedCodes)||void 0===o?void 0:o.first())||void 0===l?void 0:l.id)}fillDatasets(){const o=this.getColorBySelectedCodes();this.datasets.push({borderColor:o,borderWidth:1,pointBorderColor:o,pointBackgroundColor:o,pointBorderWidth:0,pointRadius:2,pointHoverRadius:3,fill:!0,data:this.accumulateBenefits(),backgroundColor:this.getGradient(o)}),this.datasets.length||this.datasets.push({data:[]})}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Oiz),t.Y36(m.sK))},s.\u0275cmp=t.Xpm({type:s,selectors:[["b2m-benefits-chart"]],viewQuery:function(o,l){if(1&o&&t.Gf(h,5),2&o){let O;t.iGM(O=t.CRH())&&(l.chart=O.first)}},inputs:{codes:"codes",selectedCodes:"selectedCodes",selectedUsers:"selectedUsers",timeInterval:"timeInterval"},features:[t.TTD],decls:33,vars:21,consts:[["context","fullcomponent",1,"chart-wrapper","position-relative",3,"bngxLoadingLayer"],["class","chart",3,"height",4,"ngIf"],[1,"resume"],["context","fullcomponent",1,"row",3,"bngxLoadingLayer"],[1,"col-12","col-md-4"],[1,"resume-box","mb-2","mb-md-0"],[1,"amount"],[1,"value"],[1,"currency"],[1,"chart"],["baseChart","","id","chart",3,"datasets","labels","options","chartType"],["chart",""]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.YNc(1,d,3,6,"div",1),t.qZA(),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"p",6),t.TgZ(7,"span",7),t._uU(8),t.ALo(9,"number"),t.qZA(),t.TgZ(10,"span",8),t._uU(11,"EUR"),t.qZA(),t.qZA(),t.TgZ(12,"p"),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"div",4),t.TgZ(16,"div",5),t.TgZ(17,"p",6),t.TgZ(18,"span",7),t._uU(19),t.ALo(20,"number"),t.qZA(),t.qZA(),t.TgZ(21,"p"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",4),t.TgZ(25,"div",5),t.TgZ(26,"p",6),t.TgZ(27,"span",7),t._uU(28),t.ALo(29,"number"),t.qZA(),t.qZA(),t.TgZ(30,"p"),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.Q6J("bngxLoadingLayer",l.loading),t.xp6(1),t.Q6J("ngIf",l.datasets),t.xp6(2),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(5),t.Oqu(t.lcZ(9,9,null==l.total?null:l.total.earnings)),t.xp6(5),t.Oqu(t.lcZ(14,11,"AFFILIATES_ACTIVITY_PAGE.STATS.BENEFITS")),t.xp6(6),t.Oqu(t.lcZ(20,13,null==l.total?null:l.total.points)),t.xp6(3),t.Oqu(t.lcZ(23,15,"AFFILIATES_ACTIVITY_PAGE.STATS.SCORE")),t.xp6(6),t.Oqu(t.lcZ(29,17,null==l.total?null:l.total.operations)),t.xp6(3),t.Oqu(t.lcZ(32,19,"AFFILIATES_ACTIVITY_PAGE.STATS.OPERATIONS")))},directives:[_.gO3,c.O5,v.jh],pipes:[c.JJ,m.X$],styles:[".chart-wrapper[_ngcontent-%COMP%]{z-index:1}.chart-wrapper[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{width:100%;background-color:#fff;margin-bottom:30px}.resume[_ngcontent-%COMP%]{position:relative;z-index:1}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]{padding:10px 20px;box-shadow:0 0 0 1px #e8edf4;border-radius:4px}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-weight:700;margin:0}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]{font-size:1.6rem;line-height:2rem;color:#044e97}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{margin-right:5px}.resume[_ngcontent-%COMP%]   .resume-box[_ngcontent-%COMP%]   p.amount[_ngcontent-%COMP%]   span.currency[_ngcontent-%COMP%]{font-size:.8em}"]}),s})(),B=(()=>{class s extends c.JJ{constructor(o){super(o),this.locale=o}transform(o,l,O=this.locale){return o?super.transform(o,l,O):"-"}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(t.soG,16))},s.\u0275pipe=t.Yjl({name:"activityHyphenNumber",type:s,pure:!0}),s})();function K(s,A){1&s&&(t.TgZ(0,"span"),t._uU(1,"\u20ac"),t.qZA())}function se(s,A){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._UZ(2,"i",11),t._uU(3,"\xa0"),t._UZ(4,"span",12),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"activityHyphenNumber"),t.YNc(11,K,2,0,"span",7),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.ALo(14,"activityHyphenNumber"),t.qZA(),t.qZA()),2&s){const o=A.$implicit;t.xp6(2),t.Tol(null==o?null:o.iconClass),t.xp6(2),t.Q6J("innerHTML",o.type,t.oJD),t.xp6(2),t.Oqu(t.xi3(7,7,null==o?null:o.date,"short")),t.xp6(3),t.hij("",t.lcZ(10,10,null==o?null:o.earnings)," "),t.xp6(2),t.Q6J("ngIf",(null==o?null:o.earnings)>0),t.xp6(2),t.Oqu(t.lcZ(14,12,null==o?null:o.points))}}function ge(s,A){if(1&s&&(t.TgZ(0,"tbody"),t.YNc(1,se,15,14,"tr",10),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",o.activity)}}function me(s,A){if(1&s&&(t.TgZ(0,"div",13),t._UZ(1,"bngx-no-results",14),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("description",o.notFound)}}function fe(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"div",15),t.TgZ(1,"nz-pagination",16),t.NdJ("nzPageIndexChange",function(O){return t.CHM(o),t.oxw().handleActivityTablePageChange(O)})("nzPageIndexChange",function(O){return t.CHM(o),t.oxw().page=O}),t.qZA(),t.qZA()}if(2&s){const o=t.oxw();t.xp6(1),t.Q6J("nzTotal",o.total)("nzPageIndex",o.page)("nzPageSize",o.pageSize)}}const xe=function(s){return{"border-bottom":s}};let bt=(()=>{class s{constructor(o,l,O,C){this.translateService=o,this.affiliatesService=l,this.router=O,this.activatedRoute=C,this.notFound="AFFILIATES_ACTIVITY_PAGE.NOT_FOUND.ACTIVITY",this.activity=[],this.pageSize=8,this.page=1,this.offset=0,this.types={newSon:{action:"NEW_AFFILIATE",descendant:"SON",icon:"b2msf-user-plus"},newGrandSon:{action:"NEW_AFFILIATE",descendant:"GRANDSON",icon:"b2msf-user-plus-alt"},newGreatGrandSon:{action:"NEW_AFFILIATE",descendant:"GREAT_GRANDSON",icon:"b2msf-user-group-plus"},earningsSon:{action:"NEW_BENEFIT",descendant:"SON",icon:"b2msf-coins"},earningsGrandSon:{action:"NEW_BENEFIT",descendant:"GRANDSON",icon:"b2msf-coins-normal"},earningsGreatGrandSon:{action:"NEW_BENEFIT",descendant:"GREAT_GRANDSON",icon:"b2msf-coin-alternative"},payoutRequest:{action:"NEW_WITHDRAWAL",icon:"b2msf-transfer-balance"},payoutDone:{action:"NEW_WITHDRAWAL",icon:"b2msf-transfer-balance"},payoutRejected:{action:"NEW_WITHDRAWAL",icon:"b2msf-arrow-down d-inline-block rotate-45-cw"},adminUpdate:{action:"ADMIN_UPDATE",icon:"b2msf-user-edit"}},this.subscription=new q.xQ}ngOnChanges(o){o.timeInterval&&this.setActivity()}ngOnInit(){this.activatedRoute.queryParams.pipe((0,N.R)(this.subscription)).subscribe(o=>{this.offset=o.offset||0,this.page=this.offset/this.pageSize+1}),this.addOffsetAndLimitToQueryparams(),this.translateService.onLangChange.pipe((0,N.R)(this.subscription)).subscribe(()=>{this.setActivity()})}ngOnDestroy(){this.subscription.next(!0),this.subscription.complete()}setActivity(){this.loading=!0,this.affiliatesService.getActivity({fromDate:this.timeInterval.fromDate,toDate:this.timeInterval.toDate,offset:this.offset,limit:this.pageSize}).pipe((0,Te.U)(l=>l.data.map(({type:O,date:C,id:D,earnings:k,points:W})=>({id:D,earnings:k,points:W,date:C,iconClass:this.setIconClassByType(O),type:this.setType(O)}),this.total=l.total))).pipe((0,N.R)(this.subscription)).subscribe(l=>{this.loading=!1,this.activity=l})}setType(o){if(!o)return null;const l=this.types[o];let O=this.translateService.instant(`AFFILIATES_ACTIVITY_PAGE.ACTIVITY.${l.action}`);return l.descendant&&(O+=`(${this.translateService.instant(`AFFILIATES_ACTIVITY_PAGE.ACTIVITY.DESCENDANTS.${l.descendant}`)})`),O}setIconClassByType(o){if(!o)return null;const l=this.types[o];return null==l?void 0:l.icon}handleActivityTablePageChange(o){this.setOffsetForPage(o),this.addOffsetAndLimitToQueryparams("activity-table"),this.setActivity()}addOffsetAndLimitToQueryparams(o){this.router.navigate([],{fragment:o,relativeTo:this.activatedRoute,queryParams:{offset:this.offset,limit:this.pageSize,fromDate:this.timeInterval.fromDate,toDate:this.timeInterval.toDate},queryParamsHandling:"merge",replaceUrl:!0})}setOffsetForPage(o){this.offset=(o-1)*this.pageSize}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(m.sK),t.Y36(_.Oiz),t.Y36(w.F0),t.Y36(w.gz))},s.\u0275cmp=t.Xpm({type:s,selectors:[["bngx-activity-table"]],inputs:{timeInterval:"timeInterval"},features:[t.TTD],decls:23,vars:19,consts:[["id","activity-table"],[1,"table-wrapper-parent-loading-fix"],["context","fullcomponent",3,"bngxLoadingLayer"],[1,"table-wrapper"],[1,"table-responsive","table-striped"],[3,"ngClass"],["scope","row"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[4,"ngFor","ngForOf"],["aria-hidden","true"],[3,"innerHTML"],[1,"w-100"],[3,"description"],[1,"pagination-wrapper"],[3,"nzTotal","nzPageIndex","nzPageSize","nzPageIndexChange"]],template:function(o,l){1&o&&(t._UZ(0,"a",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"table",4),t._UZ(5,"caption"),t.TgZ(6,"thead",5),t.TgZ(7,"tr"),t.TgZ(8,"th",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"th",6),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"th",6),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"th",6),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(20,ge,2,1,"tbody",7),t.qZA(),t.qZA(),t.YNc(21,me,2,1,"div",8),t.YNc(22,fe,2,3,"div",9),t.qZA(),t.qZA()),2&o&&(t.xp6(2),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(4),t.Q6J("ngClass",t.VKq(17,xe,!l.activity.length)),t.xp6(3),t.Oqu(t.lcZ(10,9,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.ACTION")),t.xp6(3),t.Oqu(t.lcZ(13,11,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.DATE")),t.xp6(3),t.Oqu(t.lcZ(16,13,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.BENEFITS")),t.xp6(3),t.Oqu(t.lcZ(19,15,"AFFILIATES_ACTIVITY_PAGE.TABLE.HEADER.SCORE")),t.xp6(2),t.Q6J("ngIf",null==l.activity?null:l.activity.length),t.xp6(1),t.Q6J("ngIf",!l.activity.length),t.xp6(1),t.Q6J("ngIf",null==l.activity?null:l.activity.length))},directives:[_.gO3,c.mk,c.O5,c.sg,_.tMq,I.dE],pipes:[m.X$,c.uU,B],styles:[".table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.table-wrapper[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:30px;text-align:left;vertical-align:middle}"]}),s})();function $t(s,A){1&s&&(t.TgZ(0,"div"),t._UZ(1,"i",32),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()),2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")))}function Kt(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"span",35),t.TgZ(1,"span",36),t.NdJ("click",function(){t.CHM(o);const O=t.oxw().$implicit;return t.oxw(2).clear(O)}),t._uU(2,"\xd7"),t.qZA(),t._uU(3),t.qZA()}if(2&s){const o=t.oxw().$implicit;t.xp6(3),t.hij("",null==o?null:o.label," ")}}function Xt(s,A){if(1&s&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&s){const o=t.oxw(3).items;t.xp6(1),t.hij("+",(null==o?null:o.length)-1,"")}}function en(s,A){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Kt,4,1,"span",34),t.YNc(2,Xt,2,1,"span",34),t.qZA()),2&s){const o=A.$implicit,l=t.oxw(2).items;t.xp6(1),t.Q6J("ngIf",null==o?null:o.label),t.xp6(1),t.Q6J("ngIf",l.length>1)}}function tn(s,A){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,en,3,2,"div",33),t.ALo(2,"slice"),t.qZA()),2&s){const o=t.oxw().items;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,o,0,1))}}function nn(s,A){if(1&s&&(t.YNc(0,$t,5,3,"div",31),t.YNc(1,tn,3,5,"div",31)),2&s){const o=A.items,l=t.oxw();t.Q6J("ngIf",o.length===l.codes.length),t.xp6(1),t.Q6J("ngIf",o.length!==l.codes.length)}}function on(s,A){if(1&s&&t._UZ(0,"div",41),2&s){const o=t.oxw().item;t.Udp("background-color",o.colorHex)}}function an(s,A){if(1&s&&(t.TgZ(0,"div",37),t.TgZ(1,"div",38),t.TgZ(2,"div",32),t._UZ(3,"input",39),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.YNc(7,on,1,2,"div",40),t.qZA(),t.qZA()),2&s){const o=A.item,l=A.item$;t.xp6(3),t.Q6J("ngModel",l.selected),t.xp6(2),t.Oqu(t.lcZ(6,3,null==o?null:o.label)),t.xp6(2),t.Q6J("ngIf",o.colorHex)}}function rn(s,A){1&s&&(t.TgZ(0,"div"),t._UZ(1,"i",32),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA()),2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")))}function sn(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"span",35),t.TgZ(1,"span",36),t.NdJ("click",function(){t.CHM(o);const O=t.oxw().$implicit;return t.oxw(2).clear(O)}),t._uU(2,"\xd7"),t.qZA(),t._uU(3),t.ALo(4,"translate"),t.qZA()}if(2&s){const o=t.oxw().$implicit;t.xp6(3),t.hij("",t.lcZ(4,1,null==o?null:o.label)," ")}}function ln(s,A){if(1&s&&(t.TgZ(0,"span",35),t._uU(1),t.qZA()),2&s){const o=t.oxw(3).items;t.xp6(1),t.hij("+",(null==o?null:o.length)-1,"")}}function cn(s,A){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,sn,5,3,"span",34),t.YNc(2,ln,2,1,"span",34),t.qZA()),2&s){const o=A.$implicit,l=t.oxw(2).items;t.xp6(1),t.Q6J("ngIf",null==o?null:o.label),t.xp6(1),t.Q6J("ngIf",l.length>1)}}function gn(s,A){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,cn,3,2,"div",33),t.ALo(2,"slice"),t.qZA()),2&s){const o=t.oxw().items;t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,o,0,1))}}function dn(s,A){if(1&s&&(t.YNc(0,rn,5,3,"div",31),t.YNc(1,gn,3,5,"div",31)),2&s){const o=A.items,l=t.oxw();t.Q6J("ngIf",o.length===l.users.length),t.xp6(1),t.Q6J("ngIf",o.length!==l.users.length)}}function pn(s,A){if(1&s&&(t._UZ(0,"input",42),t._uU(1),t.ALo(2,"translate")),2&s){const o=A.item;t.Q6J("ngModel",A.item$.selected),t.xp6(1),t.hij(" ",t.lcZ(2,2,o.group)," ")}}function un(s,A){if(1&s&&(t.TgZ(0,"div",37),t.TgZ(1,"div",38),t.TgZ(2,"div",32),t._UZ(3,"input",39),t.TgZ(4,"label"),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s){const o=A.item,l=A.item$;t.xp6(3),t.Q6J("ngModel",l.selected),t.xp6(2),t.Oqu(t.lcZ(6,2,o.label))}}function _n(s,A){if(1&s&&(t._UZ(0,"i",43),t._uU(1),t.ALo(2,"translate")),2&s){const o=A.item;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==o?null:o.time)," ")}}function mn(s,A){if(1&s&&(t._uU(0),t.ALo(1,"translate")),2&s){const o=A.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.time)," ")}}function fn(s,A){if(1&s&&(t._uU(0),t.ALo(1,"translate")),2&s){const o=A.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.group)," ")}}function An(s,A){if(1&s&&(t._UZ(0,"i",43),t._uU(1),t.ALo(2,"translate")),2&s){const o=A.item;t.xp6(1),t.hij(" ",t.lcZ(2,1,null==o?null:o.time)," ")}}function Ft(s,A){if(1&s&&(t._uU(0),t.ALo(1,"translate")),2&s){const o=A.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.time)," ")}}function hn(s,A){if(1&s&&(t._uU(0),t.ALo(1,"translate")),2&s){const o=A.item;t.hij(" ",t.lcZ(1,1,null==o?null:o.group)," ")}}let Ut=(()=>{class s{constructor(o,l,O,C,D){this.translateService=o,this.codeService=l,this.router=O,this.activatedRoute=C,this.currentUserStore=D,this.submitting=!0,this.selectedCodes=[],this.subscription=new q.xQ,this.colorGenerator=new(Se()),this.dateUtils=_.EDk}ngOnInit(){this.router.events.pipe((0,N.R)(this.subscription),(0,qe.h)(o=>o instanceof w.m2)).subscribe(()=>{}),this.initializeAllVariables(),this.selectedUsers=this.users,this.translateService.onLangChange.pipe((0,N.R)(this.subscription)).subscribe(()=>{this.setCodes(),this.setTime()})}ngOnDestroy(){this.subscription.next(),this.subscription.complete()}setCodes(){this.codesAreLoading=!0,this.codes=[],this.codeService.findAllUserCodes().pipe((0,Te.U)(o=>o.data.map(l=>Object.assign(Object.assign({},l),{colorHex:this.colorGenerator.hex(l.id),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.LINKS.ALL")})))).pipe((0,N.R)(this.subscription)).subscribe(o=>{this.codesAreLoading=!1,this.codes=o,this.selectedCodes=this.getQueryParamCodes().length?this.getQueryParamCodes():this.codes},()=>{})}navigateByDateFilter(o){this.selectedTime||(this.selectedTime=this.time[2]);const l=this.filters[this.selectedTime.id-1];l.offset=0,l.codes=this.getSelectedCodesIds(),this.router.navigate([],{fragment:o,queryParams:l,relativeTo:this.activatedRoute,queryParamsHandling:"merge",replaceUrl:!0})}onChangeCodes(o=[]){setTimeout(()=>{o.length||(this.selectedCodes=this.codes)},1)}onChangeUsers(o=[]){setTimeout(()=>{o.length||(this.selectedUsers=this.users)},1)}setDateFilters(){const o=this.dateUtils.DateTime().local(),l=o.minus({days:1}).toJSDate(),O=o.minus({weeks:1}).toJSDate(),C=o.minus({months:1}).toJSDate(),D=o.minus({years:1}).toJSDate(),k=this.dateUtils.prepareDatetimeToBack(o.toJSDate());this.filters=[{toDate:k,fromDate:this.dateUtils.prepareDatetimeToBack(l)},{toDate:k,fromDate:this.dateUtils.prepareDatetimeToBack(O)},{toDate:k,fromDate:this.dateUtils.prepareDatetimeToBack(C)},{toDate:k,fromDate:this.dateUtils.prepareDatetimeToBack(D)}]}setUsers(){this.users=[{id:P.son,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.SONS"},{id:P.grandSon,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.GRANDSONS"},{id:P.greatGrandSon,group:"AFFILIATES_ACTIVITY_PAGE.USERS.ALL",label:"AFFILIATES_ACTIVITY_PAGE.USERS.GREAT_GRANDSONS"}]}setTime(){this.time=[{id:1,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_DAY"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:2,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_WEEK"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:3,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_MONTH"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")},{id:4,time:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.LAST_YEAR"),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.RECENT")}],this.addYearsToTimeFilter()}addYearsToTimeFilter(){const o=this.getRegistrationYear(),l=this.dateUtils.DateTime().local().year-o;l&&new Array(l).fill(null).forEach((D,k)=>{this.time.push({id:5+k,time:(o+k).toString(),group:this.translateService.instant("AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME.PREVIOUS_YEARS")});const W=this.dateUtils.DateTime().local(o+k).startOf("year").toJSDate(),te=this.dateUtils.DateTime().local(o+k).endOf("year").toJSDate();this.filters.push({fromDate:this.dateUtils.prepareDatetimeToBack(W),toDate:this.dateUtils.prepareDatetimeToBack(te)})})}getRegistrationYear(){return this.currentUserStore.user&&this.currentUserStore.user.account&&this.currentUserStore.user.account.registrationDateTime?this.currentUserStore.user.account.registrationDateTime.year:null}initializeAllVariables(){this.setDateFilters(),this.setCodes(),this.setTime(),this.setUsers(),this.navigateByDateFilter()}getQueryParamCodes(){if(!this.codes||!this.activatedRoute.snapshot.queryParams.codes)return[];const l=this.activatedRoute.snapshot.queryParams.codes.split(",");return this.codes.filter(O=>l.find(C=>C===O.id))}getSelectedCodesIds(){return this.selectedCodes.map(o=>o.id).join(",")}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(m.sK),t.Y36(_.$T3),t.Y36(w.F0),t.Y36(w.gz),t.Y36(_.Dk$))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:61,vars:58,consts:[[1,"affiliates-activity-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],["id","filters"],["id","section-filters"],[1,"chart-section","border-bottom"],[1,"filters"],[1,"row"],[1,"col-12","col-md-4","col-lg-3"],[1,"form-group"],["groupBy","group",1,"b2m-select",3,"items","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","loading","searchable","clearable","ngModel","ngModelChange","change"],["ng-multi-label-tmp",""],["ng-option-tmp",""],["groupBy","group",1,"b2m-select",3,"items","multiple","selectableGroup","selectableGroupAsModel","closeOnSelect","searchable","clearable","ngModel","ngModelChange","change"],["ng-optgroup-tmp",""],[1,"col-12","col-md-3","col-lg-3","offset-md-1","offset-lg-3"],["groupBy","group",1,"align-right","b2m-select",3,"items","multiple","placeholder","clearable","closeOnSelect","searchable","ngModel","ngModelChange","change"],["ng-label-tmp",""],[3,"selectedCodes","selectedUsers","timeInterval","codes"],[1,"activity-table-section","border-bottom"],[1,"title-bar"],[1,"block","left"],[1,"card-page-title","activity-table-title"],[1,"block","right"],[1,"form-group","m-0"],["groupBy","group",1,"align-right","b2m-select",3,"items","multiple","placeholder","clearable","searchable","closeOnSelect","ngModel","ngModelChange","change"],["id","table-time-search"],[3,"timeInterval"],[4,"ngIf"],[1,"mr-2"],[4,"ngFor","ngForOf"],["class","mr-2 ng-value",4,"ngIf"],[1,"mr-2","ng-value"],["aria-hidden","true",1,"ng-value-icon","right","mr-1",3,"click"],[1,"b2m-checkbox","py-0"],[1,"d-flex","justify-content-between","align-items-center"],["type","checkbox",3,"ngModel"],["class","link-color",3,"background-color",4,"ngIf"],[1,"link-color"],["type","checkbox",1,"d-none",3,"ngModel"],[1,"b2msf-calendar",2,"color","#044e97"]],template:function(o,l){1&o&&(t.TgZ(0,"main",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"section"),t._UZ(9,"a",6),t._UZ(10,"bngx-benefits-component"),t.qZA(),t._UZ(11,"section",7),t.TgZ(12,"section",8),t.TgZ(13,"div",9),t.TgZ(14,"div",10),t.TgZ(15,"div",11),t.TgZ(16,"fieldset",12),t.TgZ(17,"label"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"ng-select",13),t.NdJ("ngModelChange",function(C){return l.selectedCodes=C})("change",function(C){return l.onChangeCodes(C),l.navigateByDateFilter("section-filters")}),t.YNc(21,nn,2,2,"ng-template",14),t.YNc(22,an,8,5,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",11),t.TgZ(24,"fieldset",12),t.TgZ(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"ng-select",16),t.NdJ("ngModelChange",function(C){return l.selectedUsers=C})("change",function(C){return l.onChangeUsers(C)}),t.YNc(29,dn,2,2,"ng-template",14),t.YNc(30,pn,3,4,"ng-template",17),t.YNc(31,un,7,4,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(32,"div",18),t.TgZ(33,"fieldset",12),t.TgZ(34,"label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"ng-select",19),t.NdJ("ngModelChange",function(C){return l.selectedTime=C})("change",function(){return l.navigateByDateFilter("section-filters")}),t.ALo(38,"translate"),t.YNc(39,_n,3,3,"ng-template",20),t.YNc(40,mn,2,3,"ng-template",15),t.YNc(41,fn,2,3,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(42,"b2m-benefits-chart",21),t.qZA(),t.TgZ(43,"section",22),t.TgZ(44,"div",23),t.TgZ(45,"div",24),t.TgZ(46,"h2",25),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.qZA(),t.TgZ(49,"div",26),t.TgZ(50,"fieldset",27),t.TgZ(51,"label"),t._uU(52),t.ALo(53,"translate"),t.qZA(),t.TgZ(54,"ng-select",28),t.NdJ("ngModelChange",function(C){return l.selectedTime=C})("change",function(){return l.navigateByDateFilter("table-time-search")}),t.ALo(55,"translate"),t.YNc(56,An,3,3,"ng-template",20),t.YNc(57,Ft,2,3,"ng-template",15),t.YNc(58,hn,2,3,"ng-template",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(59,"a",29),t._UZ(60,"bngx-activity-table",30),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,42,"AFFILIATES_ACTIVITY_PAGE.HEADER")),t.xp6(13),t.Oqu(t.lcZ(19,44,"AFFILIATES_ACTIVITY_PAGE.FILTERS.MY_LINKS")),t.xp6(2),t.Q6J("items",l.codes)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1)("loading",l.codesAreLoading)("searchable",!0)("clearable",!1)("ngModel",l.selectedCodes),t.xp6(6),t.Oqu(t.lcZ(27,46,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE")),t.xp6(2),t.Q6J("items",l.users)("multiple",!0)("selectableGroup",!0)("selectableGroupAsModel",!1)("closeOnSelect",!1)("searchable",!1)("clearable",!1)("ngModel",l.selectedUsers),t.xp6(7),t.Oqu(t.lcZ(36,48,"AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME_INTERVAL")),t.xp6(2),t.Q6J("items",l.time)("multiple",!1)("placeholder",t.lcZ(38,50,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE"))("clearable",!1)("closeOnSelect",!1)("searchable",!1)("ngModel",l.selectedTime),t.xp6(5),t.Q6J("selectedCodes",l.selectedCodes)("selectedUsers",l.selectedUsers)("timeInterval",l.filters[(null==l.selectedTime?null:l.selectedTime.id)-1])("codes",l.codes),t.xp6(5),t.hij(" ",t.lcZ(48,52,"AFFILIATES_ACTIVITY_PAGE.HISTORY")," "),t.xp6(5),t.Oqu(t.lcZ(53,54,"AFFILIATES_ACTIVITY_PAGE.FILTERS.TIME_INTERVAL")),t.xp6(2),t.Q6J("items",l.time)("multiple",!1)("placeholder",t.lcZ(55,56,"AFFILIATES_ACTIVITY_PAGE.FILTER.USER_TYPE"))("clearable",!1)("searchable",!1)("closeOnSelect",!1)("ngModel",l.selectedTime),t.xp6(6),t.Q6J("timeInterval",l.filters[(null==l.selectedTime?null:l.selectedTime.id)-1]))},directives:[ve,ce.w9,x.JJ,x.On,ce.Yi,ce.Z2,ce.mD,ce.bb,Y,bt,c.O5,c.sg,x.Wl],pipes:[m.X$,c.OU],styles:[".affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.affiliates-activity-page[_ngcontent-%COMP%]   section#section-filters[_ngcontent-%COMP%]{height:0;padding:15px 0}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{margin-bottom:30px}@media (min-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input, .affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder{display:none}.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .b2m-checkbox .link-color{width:40px;height:2px}@media (min-width: 768px){.affiliates-activity-page[_ngcontent-%COMP%]   section.chart-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   fieldset.form-group[_ngcontent-%COMP%]   .ng-select.align-right[_ngcontent-%COMP%]     .ng-dropdown-panel{left:initial;left:unset;right:0}}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-bottom:20px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{display:flex;align-items:center}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]{max-width:240px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{width:240px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input, .affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder{display:none}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-input .ng-dropdown-panel, .affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]     .ng-placeholder .ng-dropdown-panel{left:initial!important;right:0!important}@media (max-width: 767px){.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]{flex-direction:column;justify-content:flex-start}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block[_ngcontent-%COMP%]{margin-bottom:10px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]{max-width:100%}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{width:100%}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .title-bar[_ngcontent-%COMP%]   .block.right[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{width:100%}}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.affiliates-activity-page[_ngcontent-%COMP%]   section.activity-table-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{display:inline-block;width:30px;text-align:left;vertical-align:middle}"]}),s})();function Tn(s,A){1&s&&t._UZ(0,"i",24)}function Zn(s,A){1&s&&t._UZ(0,"i",25)}function On(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function En(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}const Je=function(s){return{value:s}};function Pn(s,A){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.REQUIRED",t.VKq(4,Je,o.passwordValidations.minLength))," ")}}function Cn(s,A){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,Je,o.passwordValidations.maxLength))," ")}}function wt(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_PASSWORD")," "))}function In(s,A){1&s&&t._UZ(0,"i",24)}function vn(s,A){1&s&&t._UZ(0,"i",25)}function bn(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.INVALID_CHARACTERS")," "))}function kt(s,A){1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"FORM.VALIDATIONS.REQUIRED")," "))}function Sn(s,A){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_LONGER",t.VKq(4,Je,o.passwordValidations.minLength))," ")}}function xn(s,A){if(1&s&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.hij(" ",t.xi3(2,1,"FORM.VALIDATIONS.HAS_TO_BE_SHORTER",t.VKq(4,Je,o.passwordValidations.maxLength))," ")}}const Gt=function(s){return{submitted:s}};let Yt=(()=>{class s{constructor(o,l,O,C,D,k,W,te){this.modalService=o,this.formBuilder=l,this.accountService=O,this.notificationService=C,this.translate=D,this.authService=k,this.changeDetectorRef=W,this.sessionsService=te,this.destroy=new q.xQ,this.passwordValidations={pattern:/^[^\s]+$/,minLength:6,maxLength:64},this.currentPasswordVisible=!1,this.newPasswordVisible=!1,this.showTooManyRquestsWarning=!1}ngOnInit(){this.changePasswordForm=this.formBuilder.group({currentPassword:["",[x.kI.required,x.kI.pattern(this.passwordValidations.pattern),x.kI.minLength(this.passwordValidations.minLength),x.kI.maxLength(this.passwordValidations.maxLength)]],newPassword:["",[x.kI.required,x.kI.pattern(this.passwordValidations.pattern),x.kI.minLength(this.passwordValidations.minLength),x.kI.maxLength(this.passwordValidations.maxLength)]],token:[this.authService.getRefreshToken()]}),this.setSessionId()}togglePasswordVisibility(o){this[`${o}Visible`]=!this[`${o}Visible`]}submitNewPassword(){if(this.resetInvalidPasswordError(),this.changePasswordForm.invalid)return;let o=this.changePasswordForm.getRawValue();o=Object.assign(Object.assign({},o),{sessionId:this.sessionId}),this.submitting=!0,this.changeDetectorRef.detectChanges(),this.accountService.changePassword(o).subscribe(()=>{this.notificationService.success(this.translate.instant("TOAST.CHANGE_PASSWORD.SUCCESS")),this.modalService.dismissAll()},l=>{if(this.submitting=!1,401===l.status&&this.changePasswordForm.get("currentPassword").setErrors({invalidPassword:!0}),l.error.includes("rateLimitRemaining")){const O=JSON.parse(l.error);this.remainingMinutes=Math.floor(O.rateLimitRemaining/60),this.showTooManyRquestsWarning=!0}},()=>{this.submitting=!1})}resetInvalidPasswordError(){var o;const l=this.changePasswordForm.get("currentPassword");(null===(o=null==l?void 0:l.errors)||void 0===o?void 0:o.invalidPassword)&&l.setErrors(null)}setSessionId(){this.sessionsService.getSessions({filter:"active"}).pipe((0,N.R)(this.destroy),(0,Te.U)(l=>l.data.filter(O=>!0===O.current))).subscribe(l=>{this.sessionId=l[0].id,this.sessionsService.subject.next(l[0].id)})}ngOnDestroy(){this.destroy.next(!0),this.destroy.complete()}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Z7U),t.Y36(x.qu),t.Y36(_.BRM),t.Y36(_.TFo),t.Y36(m.sK),t.Y36(_.e80),t.Y36(t.sBO),t.Y36(_.jVh))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:48,vars:46,consts:[[1,"modal-header"],[1,"modal-title"],["name","change-password-form",1,"change-password-form",3,"formGroup","ngClass","ngSubmit"],["changePasswordFormTemplate","ngForm"],[1,"modal-body"],[1,"form-group","pb-4"],["for","current-password"],[1,"input-group"],["formControlName","currentPassword","name","current-password","autofocus","",3,"type","placeholder","maxlength"],[1,"input-addon","right"],["type","button",3,"click"],["aria-hidden","true","class","b2msf-eye",4,"ngIf"],["aria-hidden","true","class","b2msf-eye-slash",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"form-group"],["for","new-password"],["formControlName","newPassword","name","new-password",3,"type","placeholder","maxlength"],[3,"password"],[1,"password-strength-box"],[1,"fill"],[3,"remainingMinutes","showTooManyRequestsWarning"],[1,"modal-footer"],["type","submit",1,"b2m-btn","btn-solid","mr-0",3,"bngxLoadingLayer","disabled"],["aria-hidden","true",1,"b2msf-eye"],["aria-hidden","true",1,"b2msf-eye-slash"]],template:function(o,l){if(1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"h3",1),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.qZA(),t.TgZ(4,"form",2,3),t.NdJ("ngSubmit",function(){return l.submitNewPassword()}),t.TgZ(6,"div",4),t.TgZ(7,"fieldset",5),t.TgZ(8,"label",6),t._uU(9),t.ALo(10,"translate"),t.qZA(),t.TgZ(11,"div",7),t._UZ(12,"input",8),t.ALo(13,"translate"),t.TgZ(14,"div",9),t.TgZ(15,"button",10),t.NdJ("click",function(){return l.togglePasswordVisibility("currentPassword")}),t.YNc(16,Tn,1,0,"i",11),t.YNc(17,Zn,1,0,"i",12),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"div",13),t.YNc(19,On,3,3,"div",14),t.YNc(20,En,3,3,"div",14),t.YNc(21,Pn,3,6,"div",14),t.YNc(22,Cn,3,6,"div",14),t.YNc(23,wt,3,3,"div",14),t.qZA(),t.qZA(),t.TgZ(24,"fieldset",15),t.TgZ(25,"label",16),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"div",7),t._UZ(29,"input",17),t.ALo(30,"translate"),t.TgZ(31,"div",9),t.TgZ(32,"button",10),t.NdJ("click",function(){return l.togglePasswordVisibility("newPassword")}),t.YNc(33,In,1,0,"i",11),t.YNc(34,vn,1,0,"i",12),t.qZA(),t.qZA(),t.qZA(),t._UZ(35,"bngx-password-strength",18),t.TgZ(36,"div",19),t._UZ(37,"div",20),t.qZA(),t.TgZ(38,"div",13),t.YNc(39,bn,3,3,"div",14),t.YNc(40,kt,3,3,"div",14),t.YNc(41,Sn,3,6,"div",14),t.YNc(42,xn,3,6,"div",14),t._UZ(43,"bngx-too-many-requests-warning",21),t.qZA(),t.qZA(),t.qZA(),t.TgZ(44,"div",22),t.TgZ(45,"button",23),t._uU(46),t.ALo(47,"translate"),t.qZA(),t.qZA(),t.qZA()),2&o){const O=t.MAs(5);let C,D,k,W,te,j,Qe,yt,Dt;t.xp6(2),t.Oqu(t.lcZ(3,32,"CHANGE_PASSWORD_DIALOG.TITLE")),t.xp6(2),t.Q6J("formGroup",l.changePasswordForm)("ngClass",t.VKq(44,Gt,O.submitted)),t.xp6(5),t.Oqu(t.lcZ(10,34,"CHANGE_PASSWORD_DIALOG.CURRENT_PASSWORD_LABEL")),t.xp6(3),t.Q6J("type",l.currentPasswordVisible?"text":"password")("placeholder",t.lcZ(13,36,"CHANGE_PASSWORD_DIALOG.CURRENT_PASSWORD_LABEL"))("maxlength",l.passwordValidations.maxLength+1),t.xp6(4),t.Q6J("ngIf",!l.currentPasswordVisible),t.xp6(1),t.Q6J("ngIf",l.currentPasswordVisible),t.xp6(2),t.Q6J("ngIf",null==l.changePasswordForm||null==(C=l.changePasswordForm.get("currentPassword"))||null==C.errors?null:C.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(D=l.changePasswordForm.get("currentPassword"))||null==D.errors?null:D.errors.required),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(k=l.changePasswordForm.get("currentPassword"))||null==k.errors?null:k.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(W=l.changePasswordForm.get("currentPassword"))||null==W.errors?null:W.errors.maxlength),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(te=l.changePasswordForm.get("currentPassword"))||null==te.errors?null:te.errors.invalidPassword),t.xp6(3),t.Oqu(t.lcZ(27,38,"CHANGE_PASSWORD_DIALOG.NEW_PASSWORD_LABEL")),t.xp6(3),t.Q6J("type",l.newPasswordVisible?"text":"password")("placeholder",t.lcZ(30,40,"CHANGE_PASSWORD_DIALOG.NEW_PASSWORD_LABEL"))("maxlength",l.passwordValidations.maxLength+1),t.xp6(4),t.Q6J("ngIf",!l.newPasswordVisible),t.xp6(1),t.Q6J("ngIf",l.newPasswordVisible),t.xp6(1),t.Q6J("password",null==l.changePasswordForm||null==l.changePasswordForm.value?null:l.changePasswordForm.value.newPassword),t.xp6(2),t.Udp("width",l.changePasswordForm.value.newPassword.length/16*100),t.xp6(2),t.Q6J("ngIf",null==l.changePasswordForm||null==(j=l.changePasswordForm.get("newPassword"))||null==j.errors?null:j.errors.pattern),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(Qe=l.changePasswordForm.get("newPassword"))||null==Qe.errors?null:Qe.errors.required),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(yt=l.changePasswordForm.get("newPassword"))||null==yt.errors?null:yt.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==l.changePasswordForm||null==(Dt=l.changePasswordForm.get("newPassword"))||null==Dt.errors?null:Dt.errors.maxlength),t.xp6(1),t.Q6J("remainingMinutes",l.remainingMinutes)("showTooManyRequestsWarning",l.showTooManyRquestsWarning),t.xp6(2),t.Q6J("bngxLoadingLayer",l.submitting)("disabled",l.submitting||l.showTooManyRquestsWarning),t.xp6(1),t.hij(" ",t.lcZ(47,42,"BUTTONS.CHANGE")," ")}},directives:[x._Y,x.JL,x.sg,c.mk,x.Fj,x.JJ,x.u,_.Uqp,x.nD,c.O5,_.Iit,_.tUR,_.gO3],pipes:[m.X$],styles:[""]}),s})(),Jt=(()=>{class s{constructor(o,l){this.modalService=o,this.authService=l}ngOnInit(){this.authService.refresh().subscribe()}openChangePasswordDialog(){this.modalService.open(Yt)}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Z7U),t.Y36(_.e80))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:26,vars:18,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],[1,"py-4"],[1,"title","title-border-bottom","mb-4"],[1,"row"],[1,"col-12","col-sm-7","col-md-8","col-lg-8"],[1,"col-12","col-sm-5","col-md-4","col-lg-4"],["id","change-password-button",1,"b2m-btn","btn-line","w-100",3,"click"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"section",6),t.TgZ(9,"h5",7),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"div",8),t.TgZ(13,"div",9),t.TgZ(14,"p"),t._uU(15),t.ALo(16,"translate"),t.TgZ(17,"em"),t._uU(18),t.ALo(19,"translate"),t.qZA(),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.TgZ(22,"div",10),t.TgZ(23,"button",11),t.NdJ("click",function(){return l.openChangePasswordDialog()}),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,6,"HEADER_NAVBAR.SECURITY_PASSWORD")),t.xp6(5),t.hij(" ",t.lcZ(11,8,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TITLE")," "),t.xp6(5),t.hij(" ",t.lcZ(16,10,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_A"),"\xa0 "),t.xp6(3),t.Oqu(t.lcZ(19,12,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_B")),t.xp6(2),t.hij("\xa0",t.lcZ(21,14,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.TEXT.TEXT_C")," "),t.xp6(4),t.hij(" ",t.lcZ(25,16,"GENERAL_SECURITY_PAGE.CHANGE_PASSWORD.BUTTON")," "))},pipes:[m.X$],styles:[".password-strength-box[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:4px;background-color:#e8ecf4;margin-top:20px;overflow:hidden}.password-strength-box[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:all ease .3s;width:0;height:100%;background-color:transparent}.password-strength-box.strong[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#36a34d}.password-strength-box.medium[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#e0b825}.password-strength-box.weak[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#ce0000}.download-app-links[_ngcontent-%COMP%]{display:inline-block;margin-right:5px}.download-app-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:5px}.qr-container[_ngcontent-%COMP%]{width:100%;max-width:240px;background-color:#fff;margin:0 auto;box-sizing:content-box}.qr-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100%}.data-2fa[_ngcontent-%COMP%]{padding:15px;background:#f2f6fa}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:10px}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.title-border-bottom[_ngcontent-%COMP%]   .pull-left[_ngcontent-%COMP%], .title-border-bottom[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{float:none;width:100%;text-align:left}@media (max-width: 575px){.card-page-inner[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:0}}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:green;font-size:40px}@media (min-width: 577px){.authentication-enabled[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{padding-left:80px;position:relative}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translate(-50%) translateY(-50%)}}@media (max-width: 576px){.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-bottom:20px}}.authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]}),s})();function Ln(s,A){1&s&&(t.TgZ(0,"div",14),t.TgZ(1,"div",15),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"GENERAL_SECURITY_PAGE.2FA.VERIFICATION_NECESSARY")))}function Mn(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"div",16),t.TgZ(1,"div",17),t.TgZ(2,"p",18),t.TgZ(3,"span"),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"br"),t.TgZ(7,"span"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"em"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"div",19),t.TgZ(14,"button",20),t.NdJ("click",function(){return t.CHM(o),t.oxw().openSetTwoFactorDialog()}),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.qZA(),t.qZA()}if(2&s){const o=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,5,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_A")),t.xp6(4),t.Oqu(t.lcZ(9,7,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_B")),t.xp6(3),t.Oqu(t.lcZ(12,9,"GENERAL_SECURITY_PAGE.2FA.TEXT.SENTENCE_C")),t.xp6(3),t.Q6J("disabled",!o.isEmailVerified),t.xp6(1),t.hij(" ",t.lcZ(16,11,"GENERAL_SECURITY_PAGE.2FA.BUTTON")," ")}}function Rn(s,A){1&s&&(t.TgZ(0,"div",21),t.TgZ(1,"div",22),t.TgZ(2,"div",23),t._UZ(3,"i",24),t.qZA(),t.TgZ(4,"p"),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"translate"),t.qZA(),t._uU(8,"\xa0"),t.TgZ(9,"strong"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._uU(12,". "),t.qZA(),t.TgZ(13,"p"),t.TgZ(14,"span"),t._uU(15),t.ALo(16,"translate"),t.qZA(),t._uU(17,"\xa0"),t.TgZ(18,"a",25),t.ALo(19,"translate"),t.ALo(20,"translate"),t._uU(21),t.ALo(22,"translate"),t.qZA(),t._uU(23,". "),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&s&&(t.xp6(6),t.Oqu(t.lcZ(7,7,"GENERAL_SECURITY_PAGE.2FA.ACTIVE.TEXT_A")),t.xp6(4),t.Oqu(t.lcZ(11,9,"GENERAL_SECURITY_PAGE.2FA.ACTIVE.TEXT_B")),t.xp6(5),t.Oqu(t.lcZ(16,11,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_A")),t.xp6(3),t.s9C("href",t.lcZ(19,13,"CORE_UI.CHAT_BUBBLE.LINKS.WRITE_US_LINK"),t.LSH),t.s9C("title",t.lcZ(20,15,"GENERAL_SECURITY_PAGE.2FA.CONTACT_TITLE")),t.xp6(3),t.Oqu(t.lcZ(22,17,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_B")),t.xp6(4),t.Oqu(t.lcZ(26,19,"GENERAL_SECURITY_PAGE.2FA.ACTIVE_MESSAGE_C")))}let St=(()=>{class s{constructor(o,l){this.modalService=o,this.authService=l}ngOnInit(){this.setHasEmailVerification(),this.isEmailVerified&&(this.setHas2FA(),this.authService.refresh().subscribe(),this.tokenSubscription=this.authService.tokenSubject.subscribe(()=>{this.setHas2FA()}))}ngOnDestroy(){this.tokenSubscription&&this.tokenSubscription.unsubscribe()}setHas2FA(){this.hasSFA=this.authService.isVerified([_.Dzy.sfa])}openSetTwoFactorDialog(){this.modalService.open(_.yUD,{nzMaskClosable:!1,nzClosable:!1})}setHasEmailVerification(){this.isEmailVerified=this.authService.isVerified([_.Dzy.email])}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Z7U),t.Y36(_.e80))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:24,vars:15,consts:[["id","content"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title"],[1,"card-page-inner"],["class","alert mini-alert alert-warning","role","alert",4,"ngIf"],[1,"py-4"],[1,"mb-4","clearfix","title-border-bottom"],[1,"title","float-left"],[1,"float-right","d-none"],["target","_blank","rel","noopener noreferrer","href","#"],["class","row authentication-not-enabled",4,"ngIf"],["class","authentication-enabled",4,"ngIf"],["role","alert",1,"alert","mini-alert","alert-warning"],[1,"alert-contents"],[1,"row","authentication-not-enabled"],[1,"col-12","col-sm-7","col-md-8","col-lg-8"],[1,"mb-4"],[1,"col-12","col-sm-5","col-md-4","col-lg-4"],["id","set-2fa-button",1,"b2m-btn","btn-line","w-100",3,"disabled","click"],[1,"authentication-enabled"],[1,"contents"],[1,"check"],[1,"b2msf-check-circle-solid"],["target","_blank","rel","noopener noreferrer",3,"href","title"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.YNc(8,Ln,5,3,"div",6),t.TgZ(9,"section",7),t.TgZ(10,"div",8),t.TgZ(11,"h5",9),t._uU(12),t.ALo(13,"translate"),t.qZA(),t.TgZ(14,"div",10),t.TgZ(15,"span"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t._uU(18,"\xa0"),t.TgZ(19,"a",11),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,Mn,17,13,"div",12),t.YNc(23,Rn,27,21,"div",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,7,"HEADER_NAVBAR.SECURITY_2FA")),t.xp6(3),t.Q6J("ngIf",!l.isEmailVerified),t.xp6(4),t.Oqu(t.lcZ(13,9,"GENERAL_SECURITY_PAGE.2FA.TITLE")),t.xp6(4),t.Oqu(t.lcZ(17,11,"GENERAL_SECURITY_PAGE.2FA.WHY")),t.xp6(4),t.Oqu(t.lcZ(21,13,"GENERAL_SECURITY_PAGE.2FA.KNOW_MORE")),t.xp6(2),t.Q6J("ngIf",!l.hasSFA),t.xp6(1),t.Q6J("ngIf",l.hasSFA))},directives:[c.O5],pipes:[m.X$],styles:[".password-strength-box[_ngcontent-%COMP%]{width:100%;height:6px;border-radius:4px;background-color:#e8ecf4;margin-top:20px;overflow:hidden}.password-strength-box[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{transition:all ease .3s;width:0;height:100%;background-color:transparent}.password-strength-box.strong[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#36a34d}.password-strength-box.medium[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#e0b825}.password-strength-box.weak[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{background-color:#ce0000}.download-app-links[_ngcontent-%COMP%]{display:inline-block}.download-app-links[_ngcontent-%COMP%]{margin-right:5px}.download-app-links[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;border-radius:5px}.qr-container[_ngcontent-%COMP%]{width:100%;max-width:240px;background-color:#fff;margin:0 auto;box-sizing:content-box}.qr-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-width:100%}.data-2fa[_ngcontent-%COMP%]{padding:15px;background:#f2f6fa}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] + p[_ngcontent-%COMP%]{margin-top:10px}.data-2fa[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block}.title-border-bottom[_ngcontent-%COMP%]   .pull-left[_ngcontent-%COMP%], .title-border-bottom[_ngcontent-%COMP%]   .pull-right[_ngcontent-%COMP%]{float:none;width:100%;text-align:left}@media (max-width: 575px){.card-page-inner[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:0}}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{color:green;font-size:40px}@media (min-width: 577px){.authentication-enabled[_ngcontent-%COMP%]   .contents[_ngcontent-%COMP%]{padding-left:80px;position:relative}.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translate(-50%) translateY(-50%)}}@media (max-width: 576px){.authentication-enabled[_ngcontent-%COMP%]   .check[_ngcontent-%COMP%]{margin-bottom:20px}}.authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .authentication-enabled[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:underline}"]}),s})();var yn=f(97797),xt=f(50731);function Lt(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"button",18),t.NdJ("click",function(){t.CHM(o);const O=t.oxw().$implicit;return t.oxw(2).downloadInvoice(null==O?null:O.id)}),t._uU(1),t.ALo(2,"translate"),t.qZA()}2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD")," "))}function Dn(s,A){1&s&&(t.TgZ(0,"button",34),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&s&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD")," "))}function qn(s,A){if(1&s&&(t.TgZ(0,"tr"),t.TgZ(1,"td",30),t._uU(2),t.qZA(),t.TgZ(3,"td",30),t._uU(4),t.ALo(5,"date"),t.qZA(),t.TgZ(6,"td",30),t.TgZ(7,"a",31),t._uU(8),t.qZA(),t.qZA(),t.TgZ(9,"td",30),t._uU(10),t.qZA(),t.TgZ(11,"td",30),t._uU(12),t.qZA(),t.TgZ(13,"td",30),t.YNc(14,Lt,3,3,"button",32),t.YNc(15,Dn,3,3,"button",33),t.qZA(),t.TgZ(16,"td",30),t.TgZ(17,"a",31),t._uU(18),t.qZA(),t.qZA(),t.qZA()),2&s){const o=A.$implicit,l=t.oxw(2);t.xp6(2),t.Oqu(null==o?null:o.id),t.xp6(2),t.Oqu(t.xi3(5,10,null==o?null:o.createdAt,"short")),t.xp6(3),t.Q6J("href",l.urlService.service("wallet")+"pockets/"+(null==o?null:o.pocketId),t.LSH),t.xp6(1),t.Oqu(null==o?null:o.pocketId),t.xp6(2),t.hij("",null==o?null:o.earnings," \u20ac"),t.xp6(2),t.Oqu(null==o?null:o.type),t.xp6(2),t.Q6J("ngIf","done"===(null==o?null:o.type)),t.xp6(1),t.Q6J("ngIf","rejected"===(null==o?null:o.type)||"pending"===(null==o?null:o.type)),t.xp6(2),t.Q6J("href",l.urlService.service("wallet")+"activity/list/"+(null==o?null:o.movementId),t.LSH),t.xp6(1),t.Oqu(null==o?null:o.movementId)}}function Nn(s,A){if(1&s&&(t.TgZ(0,"tbody"),t.YNc(1,qn,19,13,"tr",29),t.qZA()),2&s){const o=t.oxw();t.xp6(1),t.Q6J("ngForOf",null==o.payouts?null:o.payouts.data)}}function Fn(s,A){1&s&&(t.TgZ(0,"div",35),t._UZ(1,"bngx-no-results"),t.qZA())}function Un(s,A){if(1&s){const o=t.EpF();t.TgZ(0,"div",36),t.TgZ(1,"nz-pagination",37),t.NdJ("nzPageIndexChange",function(O){return t.CHM(o),t.oxw().onPageChange(O)}),t.qZA(),t.qZA()}if(2&s){const o=t.oxw();t.xp6(1),t.Q6J("nzTotal",null==o.payouts?null:o.payouts.total)("nzPageSize",o.payoutsFilter.getFilter().limit)}}let Qt=(()=>{class s{constructor(o,l,O,C,D,k,W,te){this.routerQueryParamsService=o,this.modalService=l,this.affiliatesService=O,this.urlService=C,this.translate=D,this.notificationService=k,this.logger=W,this.authService=te,this.destroy=new q.xQ,this.dateRange=[],this.loading=!0,this.payouts={data:[],total:0},this.currentDate=new Date,this.payoutsFilter=new _.ket({limit:8,offset:0,fromDate:"",toDate:""}),this.disabledDateRange=j=>j>this.limitDateRange,this.routerQueryParamsService.getQueryParamsActivatedRoute().pipe((0,N.R)(this.destroy),(0,Te.U)(j=>{"string"==typeof j.fromDate&&Date.parse(j.fromDate)&&this.dateRange.push(new Date(j.fromDate)),"string"==typeof j.toDate&&Date.parse(j.toDate)&&this.dateRange.push(new Date(j.toDate))})).subscribe(j=>{j!==this.payoutsFilter.getFilter()&&(this.payoutsFilter.setFilter(j),this.search())})}ngOnInit(){this.limitDateRange=new Date,this.limitDateRange.setHours(23,59,59),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter(),{replaceUrl:!0}),this.isVerified=this.authService.isVerified([_.Dzy.email,_.Dzy.identity,_.Dzy.phone])}openAddAddressDialog(){this.isVerified?this.modalService.open(we):this.openOnboardingDialog()}openOnboardingDialog(){this.modalService.open(_.qt9)}onPageChange(o){this.payoutsFilter.page=o,this.payoutsFilter.updateOffset(),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter(),{fragment:"payouts-table"})}handleSubmit(){this.payoutsFilter.goToFirstPage(),this.routerQueryParamsService.setQueryParamsToRoute(this.payoutsFilter.getFilter())}resetFilter(){this.payoutsFilter.resetFilter(),this.routerQueryParamsService.clearQueryParams(),this.dateRange=[]}search(o=!1){o&&this.payoutsFilter.goToFirstPage(),this.loading=!0,this.affiliatesService.getPayouts(this.payoutsFilter.getFilter()).subscribe(l=>{this.payouts=l,this.loading=!1})}getMaxForFrom(){return this.payoutsFilter.getFilter("toDate")?this.payoutsFilter.getFilter("toDate"):this.currentDate}downloadInvoice(o){this.loading=!0,this.affiliatesService.getInvoice(o).subscribe(l=>{this.loading=!1;const O=l.headers.get("Content-Type"),C=l.headers.get("Content-Disposition").split('"')[1],D=new File([l.body],C,{type:O});(0,yn.saveAs)(D,C),this.notificationService.success(this.translate.instant("AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD_SUCCESS"))},l=>{this.logger.log(l),this.loading=!1,this.notificationService.error(this.translate.instant("AFFILIATES_PAYOUTS_PAGE.TABLE.DOWNLOAD_ERROR"))})}onDateRangeChange(o){const[l,O]=o;this.payoutsFilter.getFilter().fromDate=l,this.payoutsFilter.getFilter().toDate=O}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.Jj8),t.Y36(_.Z7U),t.Y36(_.Oiz),t.Y36(_.iOJ),t.Y36(m.sK),t.Y36(_.TFo),t.Y36(_.mQy),t.Y36(_.e80))},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:65,vars:43,consts:[[1,"affiliates-code-page"],[1,"card-page-outer","card-page-no-padding"],[1,"card-page-contents","wide-content"],[1,"card-page-title-box","clearfix"],[1,"card-page-title","pl-0"],[1,"card-page-inner","p-0"],[1,"payouts-section"],["id","payouts-table"],[1,"row","m-0","header-row"],[1,"card-page-title","mb-5"],[1,"b2m-btn","btn-link","float-right",3,"click"],[1,"ml-1","b2msf-pencil"],[1,"row","m-0","filters"],[1,"col-12"],[1,"form-group"],[1,"input-group","range-picker"],["name","dateRange",3,"ngModel","nzDisabledDate","nzFormat","ngModelChange"],[1,"action-buttons"],[1,"b2m-btn","btn-line",3,"click"],[1,"b2m-btn","btn-solid",3,"click"],[1,"table-wrapper-parent-loading-fix","mt-5"],["context","fullcomponent",3,"bngxLoadingLayer"],[1,"table-wrapper"],[1,"table-responsive","table-striped"],["scope","row",1,"first"],["scope","row"],[4,"ngIf"],["class","w-100",4,"ngIf"],["class","pagination-wrapper",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"col"],[3,"href"],["class","b2m-btn btn-line",3,"click",4,"ngIf"],["class","b2m-btn btn-line","disabled","",4,"ngIf"],["disabled","",1,"b2m-btn","btn-line"],[1,"w-100"],[1,"pagination-wrapper"],[3,"nzTotal","nzPageSize","nzPageIndexChange"]],template:function(o,l){1&o&&(t.TgZ(0,"main",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"h2",4),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"section"),t._UZ(9,"bngx-benefits-component"),t.qZA(),t.TgZ(10,"section",6),t._UZ(11,"a",7),t.TgZ(12,"div",8),t.TgZ(13,"h2",9),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"button",10),t.NdJ("click",function(){return l.openAddAddressDialog()}),t._uU(17),t.ALo(18,"translate"),t._UZ(19,"i",11),t.qZA(),t.qZA(),t.TgZ(20,"div",12),t.TgZ(21,"div",13),t.TgZ(22,"fieldset",14),t.TgZ(23,"label"),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",15),t.TgZ(27,"nz-range-picker",16),t.NdJ("ngModelChange",function(C){return l.dateRange=C})("ngModelChange",function(C){return l.onDateRangeChange(C)}),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(28,"div",17),t.TgZ(29,"button",18),t.NdJ("click",function(){return l.resetFilter()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",19),t.NdJ("click",function(){return l.handleSubmit()}),t._uU(33),t.ALo(34,"translate"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(35,"div",20),t.TgZ(36,"div",21),t.TgZ(37,"div",22),t.TgZ(38,"table",23),t.TgZ(39,"thead"),t.TgZ(40,"tr"),t.TgZ(41,"th",24),t._uU(42,"ID"),t.qZA(),t.TgZ(43,"th",25),t._uU(44),t.ALo(45,"translate"),t.qZA(),t.TgZ(46,"th",25),t._uU(47),t.ALo(48,"translate"),t.qZA(),t.TgZ(49,"th",25),t._uU(50),t.ALo(51,"translate"),t.qZA(),t.TgZ(52,"th",25),t._uU(53),t.ALo(54,"translate"),t.qZA(),t.TgZ(55,"th",25),t._uU(56),t.ALo(57,"translate"),t.qZA(),t.TgZ(58,"th",25),t._uU(59),t.ALo(60,"translate"),t.qZA(),t.qZA(),t.qZA(),t.YNc(61,Nn,2,1,"tbody",26),t.qZA(),t.qZA(),t.YNc(62,Fn,2,0,"div",27),t.YNc(63,Un,2,2,"div",28),t._UZ(64,"a",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(5),t.Oqu(t.lcZ(6,19,"AFFILIATES_CODES_PAGE.HEADER")),t.xp6(9),t.Oqu(t.lcZ(15,21,"AFFILIATES_PAYOUTS_PAGE.HEADER")),t.xp6(3),t.hij(" ",t.lcZ(18,23,"AFFILIATES_PAYOUTS_PAGE.SET_INVOICE_SETTINGS")," "),t.xp6(7),t.Oqu(t.lcZ(25,25,"AFFILIATES_PAYOUTS_PAGE.RANGE_DATE")),t.xp6(3),t.Q6J("ngModel",l.dateRange)("nzDisabledDate",l.disabledDateRange)("nzFormat","dd/MM/yyyy"),t.xp6(3),t.hij(" ",t.lcZ(31,27,"AFFILIATES_PAYOUTS_PAGE.RESET")," "),t.xp6(3),t.hij(" ",t.lcZ(34,29,"AFFILIATES_PAYOUTS_PAGE.SEARCH")," "),t.xp6(3),t.Q6J("bngxLoadingLayer",l.loading),t.xp6(8),t.hij(" ",t.lcZ(45,31,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.DATE")," "),t.xp6(3),t.hij(" ",t.lcZ(48,33,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.WALLET")," "),t.xp6(3),t.hij(" ",t.lcZ(51,35,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.EARNINGS")," "),t.xp6(3),t.hij(" ",t.lcZ(54,37,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.TYPE")," "),t.xp6(3),t.hij(" ",t.lcZ(57,39,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.INVOICE")," "),t.xp6(3),t.hij(" ",t.lcZ(60,41,"AFFILIATES_PAYOUTS_PAGE.TABLE.HEADER.MOVEMENT")," "),t.xp6(2),t.Q6J("ngIf",null==l.payouts||null==l.payouts.data?null:l.payouts.data.length),t.xp6(1),t.Q6J("ngIf",!(null!=l.payouts&&null!=l.payouts.data&&l.payouts.data.length)),t.xp6(1),t.Q6J("ngIf",null==l.payouts||null==l.payouts.data?null:l.payouts.data.length))},directives:[ve,xt.uw,xt.wS,x.JJ,x.On,_.gO3,c.O5,c.sg,_.tMq,I.dE],pipes:[m.X$,c.uU],styles:[".card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:40px 50px}@media (max-width: 576px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:25px 15px}}@media (max-width: 768px){.card-page-inner[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{padding:30px 20px}}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]{border-top:1px solid #e8edf4}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .header-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]{position:relative;z-index:2}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .filters[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;margin-top:30px;justify-content:space-around!important;padding-left:5px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .payouts-section-column[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper-parent-loading-fix[_ngcontent-%COMP%]{position:relative;z-index:1}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]{margin-bottom:30px}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:20%}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:15px;width:20%}.card-page-inner[_ngcontent-%COMP%]   section.payouts-section[_ngcontent-%COMP%]   .table-wrapper[_ngcontent-%COMP%]   th.first[_ngcontent-%COMP%]{padding-left:30px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.btn-link[_ngcontent-%COMP%]{background-color:#e8edf4;height:20px}@media (max-width: 768px){.filters[_ngcontent-%COMP%]{margin-top:40px!important}.btn-link[_ngcontent-%COMP%]{line-height:15px}}@media (max-width: 350px){.action-buttons[_ngcontent-%COMP%]{grid-gap:10px;gap:10px;flex-wrap:wrap}}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]{border-top:0px;border-left:0px;border-right:0px;border-bottom:1px solid #c8d6e5;width:100%;padding:12px 15px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-range-separator{padding:0;display:block;width:22px;line-height:22px;height:22px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-range-separator span{display:block;line-height:inherit;height:100%;width:100%}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-suffix, .range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-clear{margin-left:0;display:block;width:22px;line-height:22px;height:22px}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-suffix i, .range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted.ant-picker-clear i{vertical-align:middle}.range-picker[_ngcontent-%COMP%]   nz-range-picker[_ngcontent-%COMP%]  .ng-star-inserted+.ng-star-inserted{margin-left:5px}"]}),s})();const wn=function(){return["/"]};let kn=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:10,vars:2,consts:[[1,"onboarding-layout"],["aria-label","Home","type","button","aria-role","link",1,"d-none","d-md-block","close-btn",3,"routerLink"],[1,"background"],["alt","","src","assets/images/onboarding/bg-top-left.svg",1,"bg-top-left"],["alt","","src","assets/images/onboarding/bg-bottom-right.svg",1,"bg-bottom-right"],[1,"d-none"],[1,"content"],[1,"isOnboarding"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"button",1),t._uU(2," \xa0 "),t.qZA(),t.TgZ(3,"div",2),t._UZ(4,"img",3),t._UZ(5,"img",4),t._UZ(6,"bngx-header-notifications-button",5),t.qZA(),t.TgZ(7,"div",6),t._UZ(8,"router-outlet"),t.qZA(),t.qZA(),t._UZ(9,"bngx-chat-bubble",7)),2&o&&(t.xp6(1),t.Q6J("routerLink",t.DdM(1,wn)))},directives:[w.rH,_.ta$,w.lC,_.iyC],styles:['.onboarding-layout[_ngcontent-%COMP%]{width:100vw;min-height:calc(100vh - 48px);display:flex;justify-content:center}@media (min-width: 768px){.onboarding-layout[_ngcontent-%COMP%]{align-items:center}}.onboarding-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{background-color:#044e97;position:absolute;min-height:100vh;width:100vw;top:0;left:0;z-index:1}.onboarding-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-top-left[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:15vw}.onboarding-layout[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]   .bg-bottom-right[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;width:15vw}.onboarding-layout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:2;position:relative}.onboarding-layout[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:30px;border:2px solid rgba(255,255,255,.4);z-index:3}.onboarding-layout[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:hover{border-color:#fffc}.onboarding-layout[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:after, .onboarding-layout[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]:before{background-color:#fff}  div.fc-widget-small#fc_frame{right:120px!important;bottom:5px!important}  body{padding-bottom:0!important}  bngx-chat-bubble.isOnboarding #chat-bubble-wrapper bngx-present-affiliate-promotion{display:none!important}  bngx-chat-bubble.isOnboarding #chat-bubble-wrapper{bottom:10px}@media (min-width: 768px){  bngx-chat-bubble.isOnboarding #chat-bubble-wrapper{right:60px!important}  bngx-chat-bubble.isOnboarding #chat-bubble-wrapper:after{content:"";position:absolute;top:-20px;right:-20px;border-radius:40px 40px 0 0;background-color:#fff;width:calc(20px + 60px + 5px + 60px + 20px);height:calc(20px + 60px + 10px);z-index:1}  bngx-chat-bubble.isOnboarding #chat-bubble-wrapper button{z-index:2}}']}),s})();var Gn=f(76598);const Jn=[{path:"",redirectTo:"/profile/general",pathMatch:"full"},{path:"login",component:Q,resolve:[R.u],loadChildren:()=>Promise.resolve().then(f.bind(f,32791)).then(s=>s.LoginModule),data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"profile",component:b,canActivate:[_.a1M],loadChildren:()=>Promise.resolve().then(f.bind(f,53813)).then(s=>s.ProfileModule),data:{title:"ACCOUNT.ROUTE_TITLES.PROFILE"}},{path:"onboarding",component:kn,canActivate:[_.a1M],loadChildren:()=>Promise.resolve().then(f.bind(f,99839)).then(s=>s.OnboardingModule),data:{title:"ACCOUNT.ROUTE_TITLES.ONBOARDING"}},{path:"preferences",component:b,loadChildren:()=>f.e("src_app_preferences_preferences_module_ts").then(f.bind(f,9412)).then(s=>s.PreferencesModule),canActivate:[_.a1M]},{path:"security",component:b,canActivate:[_.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"password"},{path:"password",component:Jt,data:{title:"ACCOUNT.ROUTE_TITLES.CHANGE_PASSWORD",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"2fa",component:St,data:{title:"ACCOUNT.ROUTE_TITLES.TWO_FACTOR",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"sessions",component:Ee,data:{title:"ACCOUNT.ROUTE_TITLES.SESSIONS",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}]},{path:"identity",component:b,canActivate:[_.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"success"},{path:"success",component:Gn.b,data:{title:"ACCOUNT.ROUTE_TITLES.IDENTITY",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}]},{path:"affiliates",component:b,canActivate:[_.a1M],children:[{path:"",pathMatch:"prefix",redirectTo:"links"},{path:"links",component:Ye,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"activity",component:Ut,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"payouts",component:Qt,data:{title:"ACCOUNT.ROUTE_TITLES.AFFILIATES",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}]},{path:"sessions",component:b,canActivate:[_.a1M],children:[{path:"",component:Ee,data:{title:"ACCOUNT.ROUTE_TITLES.SESSIONS",analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}]},{path:"payment-methods",component:b,canActivate:[_.a1M],loadChildren:()=>f.e("src_app_payment-methods_payment-methods_module_ts").then(f.bind(f,48218)).then(s=>s.PaymentMethodsModule),data:{title:"ACCOUNT.ROUTE_TITLES.PAYMENT_METHODS"}},{path:"handler/:type/:token",resolve:[V.$],component:Q,data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"handler/:type/:token/:extraHash",resolve:[V.$],component:Q,data:{title:"ACCOUNT.ROUTE_TITLES.LOGIN"}},{path:"authorized-device",component:Q,children:[{path:"",component:(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["ng-component"]],decls:13,vars:6,consts:[[1,"card-page-outer"],[1,"card-page-contents"],[1,"container-fluid"],[1,"modal-header","success"],["aria-hidden","true",1,"b2msf-check-circle-line"],[1,"modal-title"],[1,"modal-body"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"i",4),t.TgZ(5,"div",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.qZA(),t.TgZ(8,"div",6),t.TgZ(9,"div"),t.TgZ(10,"p"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&o&&(t.xp6(6),t.Oqu(t.lcZ(7,2,"AUTHORIZED_DEVICE_PAGE.SUCCESS.TITLE")),t.xp6(5),t.Oqu(t.lcZ(12,4,"AUTHORIZED_DEVICE_PAGE.SUCCESS.MESSAGE")))},pipes:[m.X$],styles:[".card-page-outer[_ngcontent-%COMP%]{width:412px;font-size:16px;margin:auto;text-align:center}@media (max-width: 576px){.card-page-outer[_ngcontent-%COMP%]{width:100%}}.modal-header[_ngcontent-%COMP%]{display:block}.success[_ngcontent-%COMP%]{color:#36a34d;font-weight:bold}"]}),s})()}]},{path:"add-card",component:_.sP1,data:{title:"ACCOUNT.ROUTE_TITLES.NEW_CARD"}},{path:"identity/image/:token",component:z.x,data:{title:"ACCOUNT.ROUTE_TITLES.CAMERA",analytics:{pageAccess:_.Sk.anyone,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"unavailable",component:_.jAZ,data:{title:"ACCOUNT.ROUTE_TITLES.ERROR_PAGE"}},{path:"**",canActivate:[_.a1M],component:b,children:[{path:"",component:_.nvg,data:{title:"ACCOUNT.ROUTE_TITLES.NOT_FOUND"}}]}];let Vt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[w.Bz.forRoot(Jn,{scrollPositionRestoration:"top",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],w.Bz]}),s})();var Qn=f(53813);const Ht=[{path:"",component:(()=>{class s{constructor(o){this.logger=o,this.logger.info("instantiated")}ngOnInit(){this.logger.info("initialized")}}return s.\u0275fac=function(o){return new(o||s)(t.Y36(_.mQy))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-dashboard-page"]],decls:2,vars:0,template:function(o,l){1&o&&(t.TgZ(0,"div"),t._uU(1," DASHBOARD\n"),t.qZA())},styles:[""]}),s})(),data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}];let zt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[w.Bz.forChild(Ht)],w.Bz]}),s})(),Vn=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[m.aw,zt],zt]}),s})();const Hn=[{path:"password",component:Jt,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"2fa",component:St,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"sessions",component:Ee,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}];let Bt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[w.Bz.forChild(Hn)],w.Bz]}),s})();var Mt=f(28086);let zn=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[],imports:[[Mt.v,_.Rbs.forChild(),Bt,I.uK],Bt]}),s})();var Rt=f(76741);const Bn=[{path:"",pathMatch:"prefix",redirectTo:"links"},{path:"links",component:Ye,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"activity",component:Ut,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}},{path:"payouts",component:Qt,data:{analytics:{pageAccess:_.Sk.loggedIn,pageType:_.vnv.companyInfo,pageCategory:_.ycu.general,pageCode:200}}}];let jt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[[c.ez,_.Rbs.forChild(),Mt.v,w.Bz.forChild(Bn)],w.Bz]}),s})(),jn=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[],imports:[[Mt.v,_.Rbs.forChild(),jt,v.m9,xt.Hb,I.uK],jt]}),s})();var Wn=f(99839);(0,_.H4J)(),(0,c.qS)(e());let Wt=(()=>{class s{}return s.\u0275fac=function(o){return new(o||s)},s.\u0275mod=t.oAB({type:s,bootstrap:[$]}),s.\u0275inj=t.cJS({providers:[{provide:n.u7,useValue:n.iF},{provide:n.Wy,useValue:{firstDayOfWeek:1}}],imports:[[T.b2,E.PW,_.Rbs.forRoot(Rt.N),g.JF,m.aw.forRoot({loader:{provide:m.Zw,useFactory:_.pAk,deps:[g.eN]},compiler:{provide:m.k2,useClass:_.Wvq}}),Vt,L.LoginModule,Vn,Qn.ProfileModule,zn,jn,Wn.OnboardingModule,U.Aw.forRoot({})]]}),s})();Rt.N.production&&(0,t.G48)(),T.q6().bootstrapModule(Wt).then(s=>{Rt.N.production||(window.ngRef&&window.ngRef.destroy(),window.ngRef=s)}).catch(s=>console.error("Platform bootstrap error",s))},46700:(X,J,f)=>{var T={"./af":62275,"./af.js":62275,"./ar":90857,"./ar-dz":11218,"./ar-dz.js":11218,"./ar-kw":14754,"./ar-kw.js":14754,"./ar-ly":66680,"./ar-ly.js":66680,"./ar-ma":92178,"./ar-ma.js":92178,"./ar-sa":56522,"./ar-sa.js":56522,"./ar-tn":95682,"./ar-tn.js":95682,"./ar.js":90857,"./az":70164,"./az.js":70164,"./be":79774,"./be.js":79774,"./bg":60947,"./bg.js":60947,"./bm":21832,"./bm.js":21832,"./bn":89650,"./bn-bd":74477,"./bn-bd.js":74477,"./bn.js":89650,"./bo":66005,"./bo.js":66005,"./br":98492,"./br.js":98492,"./bs":70534,"./bs.js":70534,"./ca":52061,"./ca.js":52061,"./cs":84737,"./cs.js":84737,"./cv":61167,"./cv.js":61167,"./cy":77996,"./cy.js":77996,"./da":9528,"./da.js":9528,"./de":14540,"./de-at":49430,"./de-at.js":49430,"./de-ch":67978,"./de-ch.js":67978,"./de.js":14540,"./dv":83426,"./dv.js":83426,"./el":6616,"./el.js":6616,"./en-au":63816,"./en-au.js":63816,"./en-ca":32162,"./en-ca.js":32162,"./en-gb":83305,"./en-gb.js":83305,"./en-ie":61954,"./en-ie.js":61954,"./en-il":43060,"./en-il.js":43060,"./en-in":59923,"./en-in.js":59923,"./en-nz":13540,"./en-nz.js":13540,"./en-sg":16505,"./en-sg.js":16505,"./eo":41907,"./eo.js":41907,"./es":86640,"./es-do":41246,"./es-do.js":41246,"./es-mx":56131,"./es-mx.js":56131,"./es-us":36430,"./es-us.js":36430,"./es.js":86640,"./et":62551,"./et.js":62551,"./eu":32711,"./eu.js":32711,"./fa":54572,"./fa.js":54572,"./fi":33390,"./fi.js":33390,"./fil":87860,"./fil.js":87860,"./fo":48216,"./fo.js":48216,"./fr":99291,"./fr-ca":98527,"./fr-ca.js":98527,"./fr-ch":58407,"./fr-ch.js":58407,"./fr.js":99291,"./fy":47054,"./fy.js":47054,"./ga":49540,"./ga.js":49540,"./gd":73917,"./gd.js":73917,"./gl":51486,"./gl.js":51486,"./gom-deva":56245,"./gom-deva.js":56245,"./gom-latn":48868,"./gom-latn.js":48868,"./gu":59652,"./gu.js":59652,"./he":89019,"./he.js":89019,"./hi":42040,"./hi.js":42040,"./hr":63402,"./hr.js":63402,"./hu":79322,"./hu.js":79322,"./hy-am":27609,"./hy-am.js":27609,"./id":57942,"./id.js":57942,"./is":98275,"./is.js":98275,"./it":73053,"./it-ch":4378,"./it-ch.js":4378,"./it.js":73053,"./ja":46176,"./ja.js":46176,"./jv":679,"./jv.js":679,"./ka":92726,"./ka.js":92726,"./kk":72953,"./kk.js":72953,"./km":86957,"./km.js":86957,"./kn":59181,"./kn.js":59181,"./ko":47148,"./ko.js":47148,"./ku":27752,"./ku.js":27752,"./ky":65675,"./ky.js":65675,"./lb":41263,"./lb.js":41263,"./lo":65746,"./lo.js":65746,"./lt":11143,"./lt.js":11143,"./lv":38753,"./lv.js":38753,"./me":44054,"./me.js":44054,"./mi":31573,"./mi.js":31573,"./mk":30202,"./mk.js":30202,"./ml":68523,"./ml.js":68523,"./mn":79794,"./mn.js":79794,"./mr":56681,"./mr.js":56681,"./ms":56975,"./ms-my":39859,"./ms-my.js":39859,"./ms.js":56975,"./mt":3691,"./mt.js":3691,"./my":5152,"./my.js":5152,"./nb":7607,"./nb.js":7607,"./ne":21526,"./ne.js":21526,"./nl":86368,"./nl-be":40076,"./nl-be.js":40076,"./nl.js":86368,"./nn":68420,"./nn.js":68420,"./oc-lnc":51906,"./oc-lnc.js":51906,"./pa-in":94504,"./pa-in.js":94504,"./pl":54721,"./pl.js":54721,"./pt":74645,"./pt-br":54548,"./pt-br.js":54548,"./pt.js":74645,"./ro":71977,"./ro.js":71977,"./ru":26042,"./ru.js":26042,"./sd":78849,"./sd.js":78849,"./se":27739,"./se.js":27739,"./si":50084,"./si.js":50084,"./sk":92449,"./sk.js":92449,"./sl":23086,"./sl.js":23086,"./sq":33139,"./sq.js":33139,"./sr":30607,"./sr-cyrl":30063,"./sr-cyrl.js":30063,"./sr.js":30607,"./ss":40131,"./ss.js":40131,"./sv":21665,"./sv.js":21665,"./sw":5642,"./sw.js":5642,"./ta":33622,"./ta.js":33622,"./te":74825,"./te.js":74825,"./tet":48336,"./tet.js":48336,"./tg":39238,"./tg.js":39238,"./th":99463,"./th.js":99463,"./tk":39986,"./tk.js":39986,"./tl-ph":29672,"./tl-ph.js":29672,"./tlh":40043,"./tlh.js":40043,"./tr":51212,"./tr.js":51212,"./tzl":50110,"./tzl.js":50110,"./tzm":80482,"./tzm-latn":38309,"./tzm-latn.js":38309,"./tzm.js":80482,"./ug-cn":42495,"./ug-cn.js":42495,"./uk":54157,"./uk.js":54157,"./ur":80984,"./ur.js":80984,"./uz":64141,"./uz-latn":43662,"./uz-latn.js":43662,"./uz.js":64141,"./vi":12607,"./vi.js":12607,"./x-pseudo":66460,"./x-pseudo.js":66460,"./yo":92948,"./yo.js":92948,"./zh-cn":62658,"./zh-cn.js":62658,"./zh-hk":39352,"./zh-hk.js":39352,"./zh-mo":38274,"./zh-mo.js":38274,"./zh-tw":98451,"./zh-tw.js":98451};function t(g){var m=_(g);return f(m)}function _(g){if(!f.o(T,g)){var m=new Error("Cannot find module '"+g+"'");throw m.code="MODULE_NOT_FOUND",m}return T[g]}t.keys=function(){return Object.keys(T)},t.resolve=_,X.exports=t,t.id=46700}},X=>{X.O(0,["vendor"],()=>X(X.s=55890)),X.O()}]);